(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/6Yf":function(t,e,n){"use strict";function r(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function i(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,s=n.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(r=s.next()).done;)o.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return o}function s(t,e,n){if(n||2===arguments.length)for(var r,i=0,s=e.length;i<s;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))}n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return c}));var o=n("qOnz"),a=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},t}(),u=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return t.prototype.get=function(t){var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new o.a;if(this.instancesDeferred.set(e,n),this.isInitialized(e)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:e});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e,n=this.normalizeInstanceIdentifier(null==t?void 0:t.identifier),r=null!==(e=null==t?void 0:t.optional)&&void 0!==e&&e;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:"[DEFAULT]"})}catch(h){}try{for(var s=r(this.instancesDeferred.entries()),o=s.next();!o.done;o=s.next()){var a=i(o.value,2),u=a[1],c=this.normalizeInstanceIdentifier(a[0]);try{var l=this.getOrInitializeService({instanceIdentifier:c});u.resolve(l)}catch(h){}}}catch(f){e={error:f}}finally{try{o&&!o.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}}},t.prototype.clearInstance=function(t){void 0===t&&(t="[DEFAULT]"),this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return t=this,void 0,n=function(){var t;return function(t,e){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=e.call(t,o)}catch(a){s=[6,a],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(s(s([],i(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})))),i(t.filter((function(t){return"_delete"in t})).map((function(t){return t._delete()})))))];case 1:return e.sent(),[2]}}))},new((e=void 0)||(e=Promise))((function(r,i){function s(t){try{a(n.next(t))}catch(e){i(e)}}function o(t){try{a(n.throw(t))}catch(e){i(e)}}function a(t){var n;t.done?r(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(s,o)}a((n=n.apply(t,[])).next())}));var t,e,n},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t="[DEFAULT]"),this.instances.has(t)},t.prototype.getOptions=function(t){return void 0===t&&(t="[DEFAULT]"),this.instancesOptions.get(t)||{}},t.prototype.initialize=function(t){var e,n;void 0===t&&(t={});var s=t.options,o=void 0===s?{}:s,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(this.name+"("+a+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var u=this.getOrInitializeService({instanceIdentifier:a,options:o});try{for(var c=r(this.instancesDeferred.entries()),l=c.next();!l.done;l=c.next()){var h=i(l.value,2),f=h[1];a===this.normalizeInstanceIdentifier(h[0])&&f.resolve(u)}}catch(d){e={error:d}}finally{try{l&&!l.done&&(n=c.return)&&n.call(c)}finally{if(e)throw e.error}}return u},t.prototype.onInit=function(t,e){var n,r=this.normalizeInstanceIdentifier(e),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(t),this.onInitCallbacks.set(r,i);var s=this.instances.get(r);return s&&t(s,r),function(){i.delete(t)}},t.prototype.invokeOnInitCallbacks=function(t,e){var n,i,s=this.onInitCallbacks.get(e);if(s)try{for(var o=r(s),a=o.next();!a.done;a=o.next()){var u=a.value;try{u(t,e)}catch(c){}}}catch(l){n={error:l}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}},t.prototype.getOrInitializeService=function(t){var e,n=t.instanceIdentifier,r=t.options,i=void 0===r?{}:r,s=this.instances.get(n);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:(e=n,"[DEFAULT]"===e?void 0:e),options:i}),this.instances.set(n,s),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(s,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,s)}catch(o){}return s||null},t.prototype.normalizeInstanceIdentifier=function(t){return void 0===t&&(t="[DEFAULT]"),this.component?this.component.multipleInstances?t:"[DEFAULT]":t},t.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},t}(),c=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new u(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},0:function(t,e,n){t.exports=n("zUnb")},HXN9:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=r(n("d0bx"));e.generate=i.default;var s={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1890FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"};e.presetPrimaryColors=s;var o={};e.presetPalettes=o,Object.keys(s).forEach((function(t){o[t]=i.default(s[t]),o[t].primary=o[t][5]})),e.red=o.red,e.volcano=o.volcano,e.gold=o.gold,e.orange=o.orange,e.yellow=o.yellow,e.lime=o.lime,e.green=o.green,e.cyan=o.cyan,e.blue=o.blue,e.geekblue=o.geekblue,e.purple=o.purple,e.magenta=o.magenta,e.grey=o.grey},Zss7:function(t,e,n){var r;!function(i){var s=/^\s+/,o=/\s+$/,a=0,u=i.round,c=i.min,l=i.max,h=i.random;function f(t,e){if(e=e||{},(t=t||"")instanceof f)return t;if(!(this instanceof f))return new f(t,e);var n=function(t){var e,n,r={r:0,g:0,b:0},a=1,u=null,h=null,f=null,d=!1,p=!1;return"string"==typeof t&&(t=function(t){t=t.replace(s,"").replace(o,"").toLowerCase();var e,n=!1;if(O[t])t=O[t],n=!0;else if("transparent"==t)return{r:0,g:0,b:0,a:0,format:"name"};return(e=B.rgb.exec(t))?{r:e[1],g:e[2],b:e[3]}:(e=B.rgba.exec(t))?{r:e[1],g:e[2],b:e[3],a:e[4]}:(e=B.hsl.exec(t))?{h:e[1],s:e[2],l:e[3]}:(e=B.hsla.exec(t))?{h:e[1],s:e[2],l:e[3],a:e[4]}:(e=B.hsv.exec(t))?{h:e[1],s:e[2],v:e[3]}:(e=B.hsva.exec(t))?{h:e[1],s:e[2],v:e[3],a:e[4]}:(e=B.hex8.exec(t))?{r:L(e[1]),g:L(e[2]),b:L(e[3]),a:z(e[4]),format:n?"name":"hex8"}:(e=B.hex6.exec(t))?{r:L(e[1]),g:L(e[2]),b:L(e[3]),format:n?"name":"hex"}:(e=B.hex4.exec(t))?{r:L(e[1]+""+e[1]),g:L(e[2]+""+e[2]),b:L(e[3]+""+e[3]),a:z(e[4]+""+e[4]),format:n?"name":"hex8"}:!!(e=B.hex3.exec(t))&&{r:L(e[1]+""+e[1]),g:L(e[2]+""+e[2]),b:L(e[3]+""+e[3]),format:n?"name":"hex"}}(t)),"object"==typeof t&&(H(t.r)&&H(t.g)&&H(t.b)?(e=t.g,n=t.b,r={r:255*P(t.r,255),g:255*P(e,255),b:255*P(n,255)},d=!0,p="%"===String(t.r).substr(-1)?"prgb":"rgb"):H(t.h)&&H(t.s)&&H(t.v)?(u=M(t.s),h=M(t.v),r=function(t,e,n){t=6*P(t,360),e=P(e,100),n=P(n,100);var r=i.floor(t),s=t-r,o=n*(1-e),a=n*(1-s*e),u=n*(1-(1-s)*e),c=r%6;return{r:255*[n,a,o,o,u,n][c],g:255*[u,n,n,a,o,o][c],b:255*[o,o,u,n,n,a][c]}}(t.h,u,h),d=!0,p="hsv"):H(t.h)&&H(t.s)&&H(t.l)&&(u=M(t.s),f=M(t.l),r=function(t,e,n){var r,i,s;function o(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}if(t=P(t,360),e=P(e,100),n=P(n,100),0===e)r=i=s=n;else{var a=n<.5?n*(1+e):n+e-n*e,u=2*n-a;r=o(u,a,t+1/3),i=o(u,a,t),s=o(u,a,t-1/3)}return{r:255*r,g:255*i,b:255*s}}(t.h,u,f),d=!0,p="hsl"),t.hasOwnProperty("a")&&(a=t.a)),a=D(a),{ok:d,format:t.format||p,r:c(255,l(r.r,0)),g:c(255,l(r.g,0)),b:c(255,l(r.b,0)),a}}(t);this._originalInput=t,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=u(100*this._a)/100,this._format=e.format||n.format,this._gradientType=e.gradientType,this._r<1&&(this._r=u(this._r)),this._g<1&&(this._g=u(this._g)),this._b<1&&(this._b=u(this._b)),this._ok=n.ok,this._tc_id=a++}function d(t,e,n){t=P(t,255),e=P(e,255),n=P(n,255);var r,i,s=l(t,e,n),o=c(t,e,n),a=(s+o)/2;if(s==o)r=i=0;else{var u=s-o;switch(i=a>.5?u/(2-s-o):u/(s+o),s){case t:r=(e-n)/u+(e<n?6:0);break;case e:r=(n-t)/u+2;break;case n:r=(t-e)/u+4}r/=6}return{h:r,s:i,l:a}}function p(t,e,n){t=P(t,255),e=P(e,255),n=P(n,255);var r,i,s=l(t,e,n),o=c(t,e,n),a=s,u=s-o;if(i=0===s?0:u/s,s==o)r=0;else{switch(s){case t:r=(e-n)/u+(e<n?6:0);break;case e:r=(n-t)/u+2;break;case n:r=(t-e)/u+4}r/=6}return{h:r,s:i,v:a}}function g(t,e,n,r){var i=[F(u(t).toString(16)),F(u(e).toString(16)),F(u(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function m(t,e,n,r){return[F(j(r)),F(u(t).toString(16)),F(u(e).toString(16)),F(u(n).toString(16))].join("")}function y(t,e){e=0===e?0:e||10;var n=f(t).toHsl();return n.s-=e/100,n.s=R(n.s),f(n)}function v(t,e){e=0===e?0:e||10;var n=f(t).toHsl();return n.s+=e/100,n.s=R(n.s),f(n)}function b(t){return f(t).desaturate(100)}function w(t,e){e=0===e?0:e||10;var n=f(t).toHsl();return n.l+=e/100,n.l=R(n.l),f(n)}function _(t,e){e=0===e?0:e||10;var n=f(t).toRgb();return n.r=l(0,c(255,n.r-u(-e/100*255))),n.g=l(0,c(255,n.g-u(-e/100*255))),n.b=l(0,c(255,n.b-u(-e/100*255))),f(n)}function S(t,e){e=0===e?0:e||10;var n=f(t).toHsl();return n.l-=e/100,n.l=R(n.l),f(n)}function E(t,e){var n=f(t).toHsl(),r=(n.h+e)%360;return n.h=r<0?360+r:r,f(n)}function T(t){var e=f(t).toHsl();return e.h=(e.h+180)%360,f(e)}function C(t){var e=f(t).toHsl(),n=e.h;return[f(t),f({h:(n+120)%360,s:e.s,l:e.l}),f({h:(n+240)%360,s:e.s,l:e.l})]}function I(t){var e=f(t).toHsl(),n=e.h;return[f(t),f({h:(n+90)%360,s:e.s,l:e.l}),f({h:(n+180)%360,s:e.s,l:e.l}),f({h:(n+270)%360,s:e.s,l:e.l})]}function x(t){var e=f(t).toHsl(),n=e.h;return[f(t),f({h:(n+72)%360,s:e.s,l:e.l}),f({h:(n+216)%360,s:e.s,l:e.l})]}function k(t,e,n){e=e||6,n=n||30;var r=f(t).toHsl(),i=360/n,s=[f(t)];for(r.h=(r.h-(i*e>>1)+720)%360;--e;)r.h=(r.h+i)%360,s.push(f(r));return s}function A(t,e){e=e||6;for(var n=f(t).toHsv(),r=n.h,i=n.s,s=n.v,o=[],a=1/e;e--;)o.push(f({h:r,s:i,v:s})),s=(s+a)%1;return o}f.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(299*t.r+587*t.g+114*t.b)/1e3},getLuminance:function(){var t,e,n,r=this.toRgb();return e=r.g/255,n=r.b/255,.2126*((t=r.r/255)<=.03928?t/12.92:i.pow((t+.055)/1.055,2.4))+.7152*(e<=.03928?e/12.92:i.pow((e+.055)/1.055,2.4))+.0722*(n<=.03928?n/12.92:i.pow((n+.055)/1.055,2.4))},setAlpha:function(t){return this._a=D(t),this._roundA=u(100*this._a)/100,this},toHsv:function(){var t=p(this._r,this._g,this._b);return{h:360*t.h,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=p(this._r,this._g,this._b),e=u(360*t.h),n=u(100*t.s),r=u(100*t.v);return 1==this._a?"hsv("+e+", "+n+"%, "+r+"%)":"hsva("+e+", "+n+"%, "+r+"%, "+this._roundA+")"},toHsl:function(){var t=d(this._r,this._g,this._b);return{h:360*t.h,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=d(this._r,this._g,this._b),e=u(360*t.h),n=u(100*t.s),r=u(100*t.l);return 1==this._a?"hsl("+e+", "+n+"%, "+r+"%)":"hsla("+e+", "+n+"%, "+r+"%, "+this._roundA+")"},toHex:function(t){return g(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(t){return function(t,e,n,r,i){var s=[F(u(t).toString(16)),F(u(e).toString(16)),F(u(n).toString(16)),F(j(r))];return i&&s[0].charAt(0)==s[0].charAt(1)&&s[1].charAt(0)==s[1].charAt(1)&&s[2].charAt(0)==s[2].charAt(1)&&s[3].charAt(0)==s[3].charAt(1)?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0)+s[3].charAt(0):s.join("")}(this._r,this._g,this._b,this._a,t)},toHex8String:function(t){return"#"+this.toHex8(t)},toRgb:function(){return{r:u(this._r),g:u(this._g),b:u(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+u(this._r)+", "+u(this._g)+", "+u(this._b)+")":"rgba("+u(this._r)+", "+u(this._g)+", "+u(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:u(100*P(this._r,255))+"%",g:u(100*P(this._g,255))+"%",b:u(100*P(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+u(100*P(this._r,255))+"%, "+u(100*P(this._g,255))+"%, "+u(100*P(this._b,255))+"%)":"rgba("+u(100*P(this._r,255))+"%, "+u(100*P(this._g,255))+"%, "+u(100*P(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(N[g(this._r,this._g,this._b,!0)]||!1)},toFilter:function(t){var e="#"+m(this._r,this._g,this._b,this._a),n=e,r=this._gradientType?"GradientType = 1, ":"";if(t){var i=f(t);n="#"+m(i._r,i._g,i._b,i._a)}return"progid:DXImageTransform.Microsoft.gradient("+r+"startColorstr="+e+",endColorstr="+n+")"},toString:function(t){var e=!!t;t=t||this._format;var n=!1;return e||!(this._a<1&&this._a>=0)||"hex"!==t&&"hex6"!==t&&"hex3"!==t&&"hex4"!==t&&"hex8"!==t&&"name"!==t?("rgb"===t&&(n=this.toRgbString()),"prgb"===t&&(n=this.toPercentageRgbString()),"hex"!==t&&"hex6"!==t||(n=this.toHexString()),"hex3"===t&&(n=this.toHexString(!0)),"hex4"===t&&(n=this.toHex8String(!0)),"hex8"===t&&(n=this.toHex8String()),"name"===t&&(n=this.toName()),"hsl"===t&&(n=this.toHslString()),"hsv"===t&&(n=this.toHsvString()),n||this.toHexString()):"name"===t&&0===this._a?this.toName():this.toRgbString()},clone:function(){return f(this.toString())},_applyModification:function(t,e){var n=t.apply(null,[this].concat([].slice.call(e)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(w,arguments)},brighten:function(){return this._applyModification(_,arguments)},darken:function(){return this._applyModification(S,arguments)},desaturate:function(){return this._applyModification(y,arguments)},saturate:function(){return this._applyModification(v,arguments)},greyscale:function(){return this._applyModification(b,arguments)},spin:function(){return this._applyModification(E,arguments)},_applyCombination:function(t,e){return t.apply(null,[this].concat([].slice.call(e)))},analogous:function(){return this._applyCombination(k,arguments)},complement:function(){return this._applyCombination(T,arguments)},monochromatic:function(){return this._applyCombination(A,arguments)},splitcomplement:function(){return this._applyCombination(x,arguments)},triad:function(){return this._applyCombination(C,arguments)},tetrad:function(){return this._applyCombination(I,arguments)}},f.fromRatio=function(t,e){if("object"==typeof t){var n={};for(var r in t)t.hasOwnProperty(r)&&(n[r]="a"===r?t[r]:M(t[r]));t=n}return f(t,e)},f.equals=function(t,e){return!(!t||!e)&&f(t).toRgbString()==f(e).toRgbString()},f.random=function(){return f.fromRatio({r:h(),g:h(),b:h()})},f.mix=function(t,e,n){n=0===n?0:n||50;var r=f(t).toRgb(),i=f(e).toRgb(),s=n/100;return f({r:(i.r-r.r)*s+r.r,g:(i.g-r.g)*s+r.g,b:(i.b-r.b)*s+r.b,a:(i.a-r.a)*s+r.a})},f.readability=function(t,e){var n=f(t),r=f(e);return(i.max(n.getLuminance(),r.getLuminance())+.05)/(i.min(n.getLuminance(),r.getLuminance())+.05)},f.isReadable=function(t,e,n){var r,i,s,o,a,u=f.readability(t,e);switch(i=!1,(s=n,"AA"!==(o=((s=s||{level:"AA",size:"small"}).level||"AA").toUpperCase())&&"AAA"!==o&&(o="AA"),"small"!==(a=(s.size||"small").toLowerCase())&&"large"!==a&&(a="small"),r={level:o,size:a}).level+r.size){case"AAsmall":case"AAAlarge":i=u>=4.5;break;case"AAlarge":i=u>=3;break;case"AAAsmall":i=u>=7}return i},f.mostReadable=function(t,e,n){var r,i,s,o,a=null,u=0;i=(n=n||{}).includeFallbackColors,s=n.level,o=n.size;for(var c=0;c<e.length;c++)(r=f.readability(t,e[c]))>u&&(u=r,a=f(e[c]));return f.isReadable(t,a,{level:s,size:o})||!i?a:(n.includeFallbackColors=!1,f.mostReadable(t,["#fff","#000"],n))};var O=f.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},N=f.hexNames=function(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}(O);function D(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function P(t,e){(function(t){return"string"==typeof t&&-1!=t.indexOf(".")&&1===parseFloat(t)})(t)&&(t="100%");var n=function(t){return"string"==typeof t&&-1!=t.indexOf("%")}(t);return t=c(e,l(0,parseFloat(t))),n&&(t=parseInt(t*e,10)/100),i.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function R(t){return c(1,l(0,t))}function L(t){return parseInt(t,16)}function F(t){return 1==t.length?"0"+t:""+t}function M(t){return t<=1&&(t=100*t+"%"),t}function j(t){return i.round(255*parseFloat(t)).toString(16)}function z(t){return L(t)/255}var U,V,q,B=(V="[\\s|\\(]+("+(U="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+U+")[,|\\s]+("+U+")\\s*\\)?",q="[\\s|\\(]+("+U+")[,|\\s]+("+U+")[,|\\s]+("+U+")[,|\\s]+("+U+")\\s*\\)?",{CSS_UNIT:new RegExp(U),rgb:new RegExp("rgb"+V),rgba:new RegExp("rgba"+q),hsl:new RegExp("hsl"+V),hsla:new RegExp("hsla"+q),hsv:new RegExp("hsv"+V),hsva:new RegExp("hsva"+q),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function H(t){return!!B.CSS_UNIT.exec(t)}t.exports?t.exports=f:void 0===(r=(function(){return f}).call(e,n,e,t))||(t.exports=r)}(Math)},d0bx:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=r(n("Zss7"));function s(t,e,n){var r;return(r=Math.round(t.h)>=60&&Math.round(t.h)<=240?n?Math.round(t.h)-2*e:Math.round(t.h)+2*e:n?Math.round(t.h)+2*e:Math.round(t.h)-2*e)<0?r+=360:r>=360&&(r-=360),r}function o(t,e,n){return 0===t.h&&0===t.s?t.s:((r=n?Math.round(100*t.s)-16*e:4===e?Math.round(100*t.s)+16:Math.round(100*t.s)+5*e)>100&&(r=100),n&&5===e&&r>10&&(r=10),r<6&&(r=6),r);var r}function a(t,e,n){return n?Math.round(100*t.v)+5*e:Math.round(100*t.v)-15*e}e.default=function(t){for(var e=[],n=i.default(t),r=5;r>0;r-=1){var u=n.toHsv(),c=i.default({h:s(u,r,!0),s:o(u,r,!0),v:a(u,r,!0)}).toHexString();e.push(c)}for(e.push(n.toHexString()),r=1;r<=4;r+=1)u=n.toHsv(),c=i.default({h:s(u,r),s:o(u,r),v:a(u,r)}).toHexString(),e.push(c);return e}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}var i;n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return h})),n.d(e,"c",(function(){return f})),n.d(e,"d",(function(){return d}));var s=[],o=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),a={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},u=o.INFO,c=((i={})[o.DEBUG]="log",i[o.VERBOSE]="log",i[o.INFO]="info",i[o.WARN]="warn",i[o.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var s=(new Date).toISOString(),o=c[e];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[o].apply(console,r(["["+s+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,s.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in o))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.DEBUG],t)),this._logHandler.apply(this,r([this,o.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.VERBOSE],t)),this._logHandler.apply(this,r([this,o.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.INFO],t)),this._logHandler.apply(this,r([this,o.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.WARN],t)),this._logHandler.apply(this,r([this,o.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.ERROR],t)),this._logHandler.apply(this,r([this,o.ERROR],t))},t}();function f(t){s.forEach((function(e){e.setLogLevel(t)}))}function d(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],s=2;s<arguments.length;s++)i[s-2]=arguments[s];var a=i.map((function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}})).filter((function(t){return t})).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:o[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=s;r<i.length;r++)n(i[r])}},qOnz:function(t,e,n){"use strict";n.d(e,"a",(function(){return l})),n.d(e,"b",(function(){return E})),n.d(e,"c",(function(){return I})),n.d(e,"d",(function(){return h})),n.d(e,"e",(function(){return x})),n.d(e,"f",(function(){return u})),n.d(e,"g",(function(){return c})),n.d(e,"h",(function(){return O})),n.d(e,"i",(function(){return f})),n.d(e,"j",(function(){return g})),n.d(e,"k",(function(){return m})),n.d(e,"l",(function(){return v})),n.d(e,"m",(function(){return b})),n.d(e,"n",(function(){return d})),n.d(e,"o",(function(){return p})),n.d(e,"p",(function(){return y})),n.d(e,"q",(function(){return _})),n.d(e,"r",(function(){return w}));var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},i=function(){return(i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},s=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},o={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,l=(15&a)<<2|c>>6,h=63&c;u||(h=64,o||(l=64)),r.push(n[s>>2],n[(3&s)<<4|a>>4],n[l],n[h])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(s(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){var o=((7&i)<<18|(63&(s=t[n++]))<<12|(63&(a=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(o>>10)),e[r++]=String.fromCharCode(56320+(1023&o))}else{s=t[n++];var a=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&a)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var s=n[t.charAt(i++)],o=i<t.length?n[t.charAt(i)]:0,a=++i<t.length?n[t.charAt(i)]:64,u=++i<t.length?n[t.charAt(i)]:64;if(++i,null==s||null==o||null==a||null==u)throw Error();r.push(s<<2|o>>4),64!==a&&(r.push(o<<4&240|a>>2),64!==u&&r.push(a<<6&192|u))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},a=function(t){return function(t){var e=s(t);return o.encodeByteArray(e,!0)}(t).replace(/\./g,"")};function u(t){return c(void 0,t)}function c(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=c(t[n],e[n]));return t}var l=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();function h(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=e||"demo-project",r=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var o=i({iss:"https://securetoken.google.com/"+n,aud:n,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[a(JSON.stringify({alg:"none",type:"JWT"})),a(JSON.stringify(o)),""].join(".")}function f(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function d(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(f())}function p(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function g(){return"object"==typeof self&&self.self===self}function m(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function y(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function v(){return f().indexOf("Electron/")>=0}function b(){var t=f();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function w(){return f().indexOf("MSAppHost/")>=0}function _(){return!p()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}var S=function(t){function e(n,r,i){var s=t.call(this,r)||this;return s.code=n,s.customData=i,s.name="FirebaseError",Object.setPrototypeOf(s,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(s,E.prototype.create),s}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e}(Error),E=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,s=this.errors[t],o=s?T(s,r):"Error",a=this.serviceName+": "+o+" ("+i+").",u=new S(i,a,r);return u},t}();function T(t,e){return t.replace(C,(function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"}))}var C=/\{\$([^}]+)}/g;function I(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function x(t,e){var n=new k(t,e);return n.subscribe.bind(n)}var k=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=A),void 0===r.error&&(r.error=A),void 0===r.complete&&(r.complete=A);var s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}})),this.observers.push(r),s},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function A(){}function O(t){return t&&t._delegate?t._delegate:t}},xo5E:function(t,e,n){"use strict";n.r(e),n.d(e,"registerFirestore",(function(){return xd}));var r=n("zIRd"),i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function o(t,e,n,r){return new(n||(n=Promise))((function(i,s){function o(t){try{u(r.next(t))}catch(e){s(e)}}function a(t){try{u(r.throw(t))}catch(e){s(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,a)}u((r=r.apply(t,e||[])).next())}))}function a(t,e){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=e.call(t,o)}catch(a){s=[6,a],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}function u(t,e,n){if(n||2===arguments.length)for(var r,i=0,s=e.length;i<s;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))}var c=n("qOnz"),l=n("q/0M"),h=function(t,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function f(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var d,p="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},g=g||{},m=p||self;function y(){}function v(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function b(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var w="closure_uid_"+(1e9*Math.random()>>>0),_=0;function S(t,e,n){return t.call.apply(t.bind,arguments)}function E(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function T(t,e,n){return(T=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?S:E).apply(null,arguments)}function C(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function I(t,e){function n(){}n.prototype=e.prototype,t.Z=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Vb=function(t,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return e.prototype[n].apply(t,i)}}function x(){this.s=this.s,this.o=this.o}var k={};x.prototype.s=!1,x.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var t=function(t){return Object.prototype.hasOwnProperty.call(t,w)&&t[w]||(t[w]=++_)}(this);delete k[t]}},x.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var A=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},O=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,s=0;s<r;s++)s in i&&e.call(n,i[s],s,t)};function N(t){return Array.prototype.concat.apply([],arguments)}function D(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function P(t){return/^[\s\xa0]*$/.test(t)}var R,L=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function F(t,e){return-1!=t.indexOf(e)}function M(t,e){return t<e?-1:t>e?1:0}t:{var j=m.navigator;if(j){var z=j.userAgent;if(z){R=z;break t}}R=""}function U(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function V(t){var e={};for(var n in t)e[n]=t[n];return e}var q="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function B(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var s=0;s<q.length;s++)n=q[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function H(t){return H[" "](t),t}H[" "]=y;var $,G,K=F(R,"Opera"),Q=F(R,"Trident")||F(R,"MSIE"),W=F(R,"Edge"),Y=W||Q,X=F(R,"Gecko")&&!(F(R.toLowerCase(),"webkit")&&!F(R,"Edge"))&&!(F(R,"Trident")||F(R,"MSIE"))&&!F(R,"Edge"),J=F(R.toLowerCase(),"webkit")&&!F(R,"Edge");function Z(){var t=m.document;return t?t.documentMode:void 0}t:{var tt="",et=(G=R,X?/rv:([^\);]+)(\)|;)/.exec(G):W?/Edge\/([\d\.]+)/.exec(G):Q?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(G):J?/WebKit\/(\S+)/.exec(G):K?/(?:Version)[ \/]?(\S+)/.exec(G):void 0);if(et&&(tt=et?et[1]:""),Q){var nt=Z();if(null!=nt&&nt>parseFloat(tt)){$=String(nt);break t}}$=tt}var rt={};var it=m.document&&Q&&(Z()||parseInt($,10))||void 0,st=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{m.addEventListener("test",y,e),m.removeEventListener("test",y,e)}catch(n){}return t}();function ot(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}function at(t,e){if(ot.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(X){t:{try{H(e.nodeName);var i=!0;break t}catch(s){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:ut[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&at.Z.h.call(this)}}ot.prototype.h=function(){this.defaultPrevented=!0},I(at,ot);var ut={2:"touch",3:"pen",4:"mouse"};at.prototype.h=function(){at.Z.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var ct="closure_listenable_"+(1e6*Math.random()|0),lt=0;function ht(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ia=i,this.key=++lt,this.ca=this.fa=!1}function ft(t){t.ca=!0,t.listener=null,t.proxy=null,t.src=null,t.ia=null}function dt(t){this.src=t,this.g={},this.h=0}function pt(t,e){var n=e.type;if(n in t.g){var r,i=t.g[n],s=A(i,e);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(ft(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function gt(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.ca&&s.listener==e&&s.capture==!!n&&s.ia==r)return i}return-1}dt.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var o=gt(t,e,r,i);return-1<o?(e=t[o],n||(e.fa=!1)):((e=new ht(e,this.src,s,!!r,i)).fa=n,t.push(e)),e};var mt="closure_lm_"+(1e6*Math.random()|0),yt={};function vt(t,e,n,r,i){if(r&&r.once)return function t(e,n,r,i,s){if(Array.isArray(n)){for(var o=0;o<n.length;o++)t(e,n[o],r,i,s);return null}return r=Ct(r),e&&e[ct]?e.O(n,r,b(i)?!!i.capture:!!i,s):bt(e,n,r,!0,i,s)}(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)vt(t,e[s],n,r,i);return null}return n=Ct(n),t&&t[ct]?t.N(e,n,b(r)?!!r.capture:!!r,i):bt(t,e,n,!1,r,i)}function bt(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=b(i)?!!i.capture:!!i,a=Et(t);if(a||(t[mt]=a=new dt(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function(){var t=St;return function e(n){return t.call(e.src,e.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)st||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(_t(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function wt(t){if("number"!=typeof t&&t&&!t.ca){var e=t.src;if(e&&e[ct])pt(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(_t(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Et(e))?(pt(n,t),0==n.h&&(n.src=null,e[mt]=null)):ft(t)}}}function _t(t){return t in yt?yt[t]:yt[t]="on"+t}function St(t,e){if(t.ca)t=!0;else{e=new at(e,this);var n=t.listener,r=t.ia||t.src;t.fa&&wt(t),t=n.call(r,e)}return t}function Et(t){return(t=t[mt])instanceof dt?t:null}var Tt="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ct(t){return"function"==typeof t?t:(t[Tt]||(t[Tt]=function(e){return t.handleEvent(e)}),t[Tt])}function It(){x.call(this),this.i=new dt(this),this.P=this,this.I=null}function xt(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,"string"==typeof e)e=new ot(e,t);else if(e instanceof ot)e.target=e.target||t;else{var i=e;B(e=new ot(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=kt(o,r,!0,e)&&i}if(i=kt(o=e.g=t,r,!0,e)&&i,i=kt(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=kt(o=e.g=n[s],r,!1,e)&&i}function kt(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.ca&&o.capture==n){var a=o.listener,u=o.ia||o.src;o.fa&&pt(t.i,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}I(It,x),It.prototype[ct]=!0,It.prototype.removeEventListener=function(t,e,n,r){!function t(e,n,r,i,s){if(Array.isArray(n))for(var o=0;o<n.length;o++)t(e,n[o],r,i,s);else i=b(i)?!!i.capture:!!i,r=Ct(r),e&&e[ct]?(e=e.i,(n=String(n).toString())in e.g&&-1<(r=gt(o=e.g[n],r,i,s))&&(ft(o[r]),Array.prototype.splice.call(o,r,1),0==o.length&&(delete e.g[n],e.h--))):e&&(e=Et(e))&&(n=e.g[n.toString()],e=-1,n&&(e=gt(n,r,i,s)),(r=-1<e?n[e]:null)&&wt(r))}(this,t,e,n,r)},It.prototype.M=function(){if(It.Z.M.call(this),this.i){var t,e=this.i;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)ft(n[r]);delete e.g[t],e.h--}}this.I=null},It.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},It.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var At=m.JSON.stringify;function Ot(){var t=jt,e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var Nt,Dt=function(){function t(){this.h=this.g=null}return t.prototype.add=function(t,e){var n=Pt.get();n.set(t,e),this.h?this.h.next=n:this.g=n,this.h=n},t}(),Pt=new(function(){function t(t,e){this.i=t,this.j=e,this.h=0,this.g=null}return t.prototype.get=function(){var t;return 0<this.h?(this.h--,this.g=(t=this.g).next,t.next=null):t=this.i(),t},t}())((function(){return new Rt}),(function(t){return t.reset()})),Rt=function(){function t(){this.next=this.g=this.h=null}return t.prototype.set=function(t,e){this.h=t,this.g=e,this.next=null},t.prototype.reset=function(){this.next=this.g=this.h=null},t}();function Lt(t){m.setTimeout((function(){throw t}),0)}function Ft(t,e){Nt||function(){var t=m.Promise.resolve(void 0);Nt=function(){t.then(zt)}}(),Mt||(Nt(),Mt=!0),jt.add(t,e)}var Mt=!1,jt=new Dt;function zt(){for(var t;t=Ot();){try{t.h.call(t.g)}catch(n){Lt(n)}var e=Pt;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Mt=!1}function Ut(t,e){It.call(this),this.h=t||1,this.g=e||m,this.j=T(this.kb,this),this.l=Date.now()}function Vt(t){t.da=!1,t.S&&(t.g.clearTimeout(t.S),t.S=null)}function qt(t,e,n){if("function"==typeof t)n&&(t=T(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=T(t.handleEvent,t)}return 2147483647<Number(e)?-1:m.setTimeout(t,e||0)}function Bt(t){t.g=qt((function(){t.g=null,t.i&&(t.i=!1,Bt(t))}),t.j);var e=t.h;t.h=null,t.m.apply(null,e)}I(Ut,It),(d=Ut.prototype).da=!1,d.S=null,d.kb=function(){if(this.da){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-t):(this.S&&(this.g.clearTimeout(this.S),this.S=null),xt(this,"tick"),this.da&&(Vt(this),this.start()))}},d.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},d.M=function(){Ut.Z.M.call(this),Vt(this),delete this.g};var Ht=function(t){function e(e,n){var r=t.call(this)||this;return r.m=e,r.j=n,r.h=null,r.i=!1,r.g=null,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}h(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.l=function(t){this.h=arguments,this.g?this.i=!0:Bt(this)},e.prototype.M=function(){t.prototype.M.call(this),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},e}(x);function $t(t){x.call(this),this.h=t,this.g={}}I($t,x);var Gt=[];function Kt(t,e,n,r){Array.isArray(n)||(n&&(Gt[0]=n.toString()),n=Gt);for(var i=0;i<n.length;i++){var s=vt(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function Qt(t){U(t.g,(function(t,e){this.g.hasOwnProperty(e)&&wt(t)}),t),t.g={}}function Wt(){this.g=!0}function Yt(t,e,n,r){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return At(n)}catch(a){return e}}(t,n)+(r?" "+r:"")}))}$t.prototype.M=function(){$t.Z.M.call(this),Qt(this)},$t.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Wt.prototype.Aa=function(){this.g=!1},Wt.prototype.info=function(){};var Xt={},Jt=null;function Zt(){return Jt=Jt||new It}function te(t){ot.call(this,Xt.Ma,t)}function ee(t){var e=Zt();xt(e,new te(e,t))}function ne(t,e){ot.call(this,Xt.STAT_EVENT,t),this.stat=e}function re(t){var e=Zt();xt(e,new ne(e,t))}function ie(t,e){ot.call(this,Xt.Na,t),this.size=e}function se(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return m.setTimeout((function(){t()}),e)}Xt.Ma="serverreachability",I(te,ot),Xt.STAT_EVENT="statevent",I(ne,ot),Xt.Na="timingevent",I(ie,ot);var oe={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},ae={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function ue(){}function ce(){}ue.prototype.h=null;var le,he={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function fe(){ot.call(this,"d")}function de(){ot.call(this,"c")}function pe(){}function ge(t,e,n,r){this.l=t,this.j=e,this.m=n,this.X=r||1,this.V=new $t(this),this.P=ye,this.W=new Ut(t=Y?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new me}function me(){this.i=null,this.g="",this.h=!1}I(fe,ot),I(de,ot),I(pe,ue),pe.prototype.g=function(){return new XMLHttpRequest},pe.prototype.i=function(){return{}},le=new pe;var ye=45e3,ve={},be={};function we(t,e,n){t.K=1,t.v=Be(Me(e)),t.s=n,t.U=!0,_e(t,null)}function _e(t,e){t.F=Date.now(),Ce(t),t.A=Me(t.v);var n=t.A,r=t.X;Array.isArray(r)||(r=[String(r)]),nn(n.h,"t",r),t.C=0,n=t.l.H,t.h=new me,t.g=ir(t.l,n?e:null,!t.s),0<t.O&&(t.L=new Ht(T(t.Ia,t,t.g),t.O)),Kt(t.V,t.g,"readystatechange",t.gb),e=t.H?V(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.s,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),ee(1),function(t,e,n,r,i,s){t.info((function(){if(t.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");o=2<=h.length&&"type"==h[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o}))}(t.j,t.u,t.A,t.m,t.X,t.s)}function Se(t){return!!t.g&&"GET"==t.u&&2!=t.K&&t.l.Ba}function Ee(t,e,n){for(var r,i=!0;!t.I&&t.C<n.length;){if((r=Te(t,n))==be){4==e&&(t.o=4,re(14),i=!1),Yt(t.j,t.m,null,"[Incomplete Response]");break}if(r==ve){t.o=4,re(15),Yt(t.j,t.m,n,"[Invalid Chunk]"),i=!1;break}Yt(t.j,t.m,r,null),Oe(t,r)}Se(t)&&r!=be&&r!=ve&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,re(16),i=!1),t.i=t.i&&i,i?0<n.length&&!t.aa&&(t.aa=!0,(e=t.l).g==t&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Yn(e),e.L=!0,re(11))):(Yt(t.j,t.m,n,"[Invalid Chunked Response]"),Ae(t),ke(t))}function Te(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?be:(n=Number(e.substring(n,r)),isNaN(n)?ve:(r+=1)+n>e.length?be:(e=e.substr(r,n),t.C=r+n,e))}function Ce(t){t.Y=Date.now()+t.P,Ie(t,t.P)}function Ie(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=se(T(t.eb,t),e)}function xe(t){t.B&&(m.clearTimeout(t.B),t.B=null)}function ke(t){0==t.l.G||t.I||Zn(t.l,t)}function Ae(t){xe(t);var e=t.L;e&&"function"==typeof e.na&&e.na(),t.L=null,Vt(t.W),Qt(t.V),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function Oe(t,e){try{var n=t.l;if(0!=n.G&&(n.g==t||ln(n.i,t)))if(n.I=t.N,!t.J&&ln(n.i,t)&&3==n.G){try{var r=n.Ca.g.parse(e)}catch(s){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.u){if(n.g){if(!(n.g.F+3e3<t.F))break t;Jn(n),Vn(n)}Wn(n),re(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=se(T(n.ab,n),6e3));if(1>=cn(n.i)&&n.ka){try{n.ka()}catch(s){}n.ka=void 0}}else er(n,11)}else if((t.J||n.g==t)&&Jn(n),!P(e))for(i=n.Ca.g.parse(e),e=0;e<i.length;e++){var s=i[e];if(n.U=s[0],s=s[1],2==n.G)if("c"==s[0]){n.J=s[1],n.la=s[2];var o=s[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var a=s[4];null!=a&&(n.za=a,n.h.info("SVER="+n.za));var u=s[5];null!=u&&"number"==typeof u&&0<u&&(n.K=r=1.5*u,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=t.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=r.i;!h.g&&(F(l,"spdy")||F(l,"quic")||F(l,"h2"))&&(h.j=h.l,h.g=new Set,h.h&&(hn(h,h.h),h.h=null))}if(r.D){var f=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;f&&(r.sa=f,qe(r.F,r.D,f))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-t.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=t;if((r=n).oa=rr(r,r.H?r.la:null,r.W),d.J){fn(r.i,d);var p=d,g=r.K;g&&p.setTimeout(g),p.B&&(xe(p),Ce(p)),r.g=d}else Qn(r);0<n.l.length&&Hn(n)}else"stop"!=s[0]&&"close"!=s[0]||er(n,7);else 3==n.G&&("stop"==s[0]||"close"==s[0]?"stop"==s[0]?er(n,7):Un(n):"noop"!=s[0]&&n.j&&n.j.wa(s),n.A=0)}ee(4)}catch(s){}}function Ne(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(v(t)||"string"==typeof t)O(t,e,void 0);else{if(t.T&&"function"==typeof t.T)var n=t.T();else if(t.R&&"function"==typeof t.R)n=void 0;else if(v(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.R&&"function"==typeof t.R)return t.R();if("string"==typeof t)return t.split("");if(v(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}}function De(t,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof De)for(n=t.T(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Pe(t){if(t.i!=t.g.length){for(var e=0,n=0;e<t.g.length;){var r=t.g[e];Re(t.h,r)&&(t.g[n++]=r),e++}t.g.length=n}if(t.i!=t.g.length){var i={};for(n=e=0;e<t.g.length;)Re(i,r=t.g[e])||(t.g[n++]=r,i[r]=1),e++;t.g.length=n}}function Re(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(d=ge.prototype).setTimeout=function(t){this.P=t},d.gb=function(t){t=t.target;var e=this.L;e&&3==Ln(t)?e.l():this.Ia(t)},d.Ia=function(t){try{if(t==this.g)t:{var e=Ln(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>e)&&(3!=e||Y||this.g&&(this.h.h||this.g.ga()||Fn(this.g)))){this.I||4!=e||7==n||ee(8==n||0>=r?3:2),xe(this);var i=this.g.ba();this.N=i;e:if(Se(this)){var s=Fn(this.g);t="";var o=s.length,a=4==Ln(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Ae(this),ke(this);var u="";break e}this.h.i=new m.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,t+=this.h.i.decode(s[n],{stream:a&&n==o-1});s.splice(0,o),this.h.g+=t,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==i,function(t,e,n,r,i,s,o){t.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o}))}(this.j,this.u,this.A,this.m,this.X,e,i),this.i){if(this.$&&!this.J){e:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!P(c)){var h=c;break e}}h=null}if(!(i=h)){this.i=!1,this.o=3,re(12),Ae(this),ke(this);break t}Yt(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Oe(this,i)}this.U?(Ee(this,e,u),Y&&this.i&&3==e&&(Kt(this.V,this.W,"tick",this.fb),this.W.start())):(Yt(this.j,this.m,u,null),Oe(this,u)),4==e&&Ae(this),this.i&&!this.I&&(4==e?Zn(this.l,this):(this.i=!1,Ce(this)))}else 400==i&&0<u.indexOf("Unknown SID")?(this.o=3,re(12)):(this.o=0,re(13)),Ae(this),ke(this)}}}catch(e){}},d.fb=function(){if(this.g){var t=Ln(this.g),e=this.g.ga();this.C<e.length&&(xe(this),Ee(this,t,e),this.i&&4!=t&&Ce(this))}},d.cancel=function(){this.I=!0,Ae(this)},d.eb=function(){this.B=null;var t=Date.now();0<=t-this.Y?(function(t,e){t.info((function(){return"TIMEOUT: "+e}))}(this.j,this.A),2!=this.K&&(ee(3),re(17)),Ae(this),this.o=2,ke(this)):Ie(this,this.Y-t)},(d=De.prototype).R=function(){Pe(this);for(var t=[],e=0;e<this.g.length;e++)t.push(this.h[this.g[e]]);return t},d.T=function(){return Pe(this),this.g.concat()},d.get=function(t,e){return Re(this.h,t)?this.h[t]:e},d.set=function(t,e){Re(this.h,t)||(this.i++,this.g.push(t)),this.h[t]=e},d.forEach=function(t,e){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);t.call(e,s,i,this)}};var Le=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Fe(t,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,t instanceof Fe){this.g=void 0!==e?e:t.g,je(this,t.j),this.s=t.s,ze(this,t.i),Ue(this,t.m),this.l=t.l,e=t.h;var n=new Je;n.i=e.i,e.g&&(n.g=new De(e.g),n.h=e.h),Ve(this,n),this.o=t.o}else t&&(n=String(t).match(Le))?(this.g=!!e,je(this,n[1]||"",!0),this.s=He(n[2]||""),ze(this,n[3]||"",!0),Ue(this,n[4]),this.l=He(n[5]||"",!0),Ve(this,n[6]||"",!0),this.o=He(n[7]||"")):(this.g=!!e,this.h=new Je(null,this.g))}function Me(t){return new Fe(t)}function je(t,e,n){t.j=n?He(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function ze(t,e,n){t.i=n?He(e,!0):e}function Ue(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Ve(t,e,n){e instanceof Je?(t.h=e,function(t,e){e&&!t.j&&(Ze(t),t.i=null,t.g.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(tn(this,e),nn(this,n,t))}),t)),t.j=e}(t.h,t.g)):(n||(e=$e(e,Ye)),t.h=new Je(e,t.g))}function qe(t,e,n){t.h.set(e,n)}function Be(t){return qe(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function He(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function $e(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Ge),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Ge(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Fe.prototype.toString=function(){var t=[],e=this.j;e&&t.push($e(e,Ke,!0),":");var n=this.i;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push($e(e,Ke,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&t.push("/"),t.push($e(n,"/"==n.charAt(0)?We:Qe,!0))),(n=this.h.toString())&&t.push("?",n),(n=this.o)&&t.push("#",$e(n,Xe)),t.join("")};var Ke=/[#\/\?@]/g,Qe=/[#\?:]/g,We=/[#\?]/g,Ye=/[#\?@]/g,Xe=/#/g;function Je(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Ze(t){t.g||(t.g=new De,t.h=0,t.i&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function tn(t,e){Ze(t),e=rn(t,e),Re(t.g.h,e)&&(t.i=null,t.h-=t.g.get(e).length,Re((t=t.g).h,e)&&(delete t.h[e],t.i--,t.g.length>2*t.i&&Pe(t)))}function en(t,e){return Ze(t),e=rn(t,e),Re(t.g.h,e)}function nn(t,e,n){tn(t,e),0<n.length&&(t.i=null,t.g.set(rn(t,e),D(n)),t.h+=n.length)}function rn(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}(d=Je.prototype).add=function(t,e){Ze(this),this.i=null,t=rn(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},d.forEach=function(t,e){Ze(this),this.g.forEach((function(n,r){O(n,(function(n){t.call(e,n,r,this)}),this)}),this)},d.T=function(){Ze(this);for(var t=this.g.R(),e=this.g.T(),n=[],r=0;r<e.length;r++)for(var i=t[r],s=0;s<i.length;s++)n.push(e[r]);return n},d.R=function(t){Ze(this);var e=[];if("string"==typeof t)en(this,t)&&(e=N(e,this.g.get(rn(this,t))));else{t=this.g.R();for(var n=0;n<t.length;n++)e=N(e,t[n])}return e},d.set=function(t,e){return Ze(this),this.i=null,en(this,t=rn(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},d.get=function(t,e){return t&&0<(t=this.R(t)).length?String(t[0]):e},d.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],e=this.g.T(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.R(r);for(var s=0;s<r.length;s++){var o=i;""!==r[s]&&(o+="="+encodeURIComponent(String(r[s]))),t.push(o)}}return this.i=t.join("&")};var sn=function(){return function(t,e){this.h=t,this.g=e}}();function on(t){this.l=t||an,t=m.PerformanceNavigationTiming?0<(t=m.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(m.g&&m.g.Ea&&m.g.Ea()&&m.g.Ea().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var an=10;function un(t){return!!t.h||!!t.g&&t.g.size>=t.j}function cn(t){return t.h?1:t.g?t.g.size:0}function ln(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function hn(t,e){t.g?t.g.add(e):t.h=e}function fn(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function dn(t){var e,n;if(null!=t.h)return t.i.concat(t.h.D);if(null!=t.g&&0!==t.g.size){var r=t.i;try{for(var i=f(t.g.values()),s=i.next();!s.done;s=i.next())r=r.concat(s.value.D)}catch(o){e={error:o}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return D(t.i)}function pn(){}function gn(){this.g=new pn}function mn(t,e,n){var r=n||"";try{Ne(t,(function(t,n){var i=t;b(t)&&(i=At(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function yn(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(s){}}function vn(t){this.l=t.$b||null,this.j=t.ib||!1}function bn(t,e){It.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=wn,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}on.prototype.cancel=function(){var t,e;if(this.i=dn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var n=f(this.g.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.g.clear()}},pn.prototype.stringify=function(t){return m.JSON.stringify(t,void 0)},pn.prototype.parse=function(t){return m.JSON.parse(t,void 0)},I(vn,ue),vn.prototype.g=function(){return new bn(this.l,this.j)},vn.prototype.i=function(t){return function(){return t}}({}),I(bn,It);var wn=0;function _n(t){t.j.read().then(t.Sa.bind(t)).catch(t.ha.bind(t))}function Sn(t){t.readyState=4,t.l=null,t.j=null,t.A=null,En(t)}function En(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(d=bn.prototype).open=function(t,e){if(this.readyState!=wn)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,En(this)},d.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||m).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},d.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Sn(this)),this.readyState=wn},d.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,En(this)),this.g&&(this.readyState=3,En(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==m.ReadableStream&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;_n(this)}else t.text().then(this.Ua.bind(this),this.ha.bind(this))},d.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Sn(this):En(this),3==this.readyState&&_n(this)}},d.Ua=function(t){this.g&&(this.response=this.responseText=t,Sn(this))},d.Ta=function(t){this.g&&(this.response=t,Sn(this))},d.ha=function(){this.g&&Sn(this)},d.setRequestHeader=function(t,e){this.v.append(t,e)},d.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},d.getAllResponseHeaders=function(){if(!this.h)return"";for(var t=[],e=this.h.entries(),n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(bn.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var Tn=m.JSON.parse;function Cn(t){It.call(this),this.headers=new De,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=In,this.K=this.L=!1}I(Cn,It);var In="",xn=/^https?$/i,kn=["POST","PUT"];function An(t){return"content-type"==t.toLowerCase()}function On(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,Nn(t),Pn(t)}function Nn(t){t.D||(t.D=!0,xt(t,"complete"),xt(t,"error"))}function Dn(t){if(t.h&&void 0!==g&&(!t.C[1]||4!=Ln(t)||2!=t.ba()))if(t.v&&4==Ln(t))qt(t.Fa,0,t);else if(xt(t,"readystatechange"),4==Ln(t)){t.h=!1;try{var e,n=t.ba();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var s=String(t.H).match(Le)[1]||null;if(!s&&m.self&&m.self.location){var o=m.self.location.protocol;s=o.substr(0,o.length-1)}i=!xn.test(s?s.toLowerCase():"")}e=i}if(e)xt(t,"complete"),xt(t,"success");else{t.m=6;try{var a=2<Ln(t)?t.g.statusText:""}catch(u){a=""}t.j=a+" ["+t.ba()+"]",Nn(t)}}finally{Pn(t)}}}function Pn(t,e){if(t.g){Rn(t);var n=t.g,r=t.C[0]?y:null;t.g=null,t.C=null,e||xt(t,"ready");try{n.onreadystatechange=r}catch(i){}}}function Rn(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(m.clearTimeout(t.A),t.A=null)}function Ln(t){return t.g?t.g.readyState:0}function Fn(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case In:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Mn(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return U(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):qe(t,e,n))}function jn(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function zn(t){this.za=0,this.l=[],this.h=new Wt,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=jn("failFast",!1,t),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=jn("baseRetryDelayMs",5e3,t),this.$a=jn("retryDelaySeedMs",1e4,t),this.Ya=jn("forwardChannelMaxRetries",2,t),this.ra=jn("forwardChannelRequestTimeoutMs",2e4,t),this.qa=t&&t.xmlHttpFactory||void 0,this.Ba=t&&t.Yb||!1,this.K=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.J="",this.i=new on(t&&t.concurrentRequestLimit),this.Ca=new gn,this.ja=t&&t.fastHandshake||!1,this.Ra=t&&t.Wb||!1,t&&t.Aa&&this.h.Aa(),t&&t.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&t&&t.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!t||!1!==t.Xb}function Un(t){if(qn(t),3==t.G){var e=t.V++,n=Me(t.F);qe(n,"SID",t.J),qe(n,"RID",e),qe(n,"TYPE","terminate"),Gn(t,n),(e=new ge(t,t.h,e,void 0)).K=2,e.v=Be(Me(n)),n=!1,m.navigator&&m.navigator.sendBeacon&&(n=m.navigator.sendBeacon(e.v.toString(),"")),!n&&m.Image&&((new Image).src=e.v,n=!0),n||(e.g=ir(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Ce(e)}nr(t)}function Vn(t){t.g&&(Yn(t),t.g.cancel(),t.g=null)}function qn(t){Vn(t),t.u&&(m.clearTimeout(t.u),t.u=null),Jn(t),t.i.cancel(),t.m&&("number"==typeof t.m&&m.clearTimeout(t.m),t.m=null)}function Bn(t,e){t.l.push(new sn(t.Za++,e)),3==t.G&&Hn(t)}function Hn(t){un(t.i)||t.m||(t.m=!0,Ft(t.Ha,t),t.C=0)}function $n(t,e){var n;n=e?e.m:t.V++;var r=Me(t.F);qe(r,"SID",t.J),qe(r,"RID",n),qe(r,"AID",t.U),Gn(t,r),t.o&&t.s&&Mn(r,t.o,t.s),n=new ge(t,t.h,n,t.C+1),null===t.o&&(n.H=t.s),e&&(t.l=e.D.concat(t.l)),e=Kn(t,n,1e3),n.setTimeout(Math.round(.5*t.ra)+Math.round(.5*t.ra*Math.random())),hn(t.i,n),we(n,r,e)}function Gn(t,e){t.j&&Ne({},(function(t,n){qe(e,n,t)}))}function Kn(t,e,n){n=Math.min(t.l.length,n);var r=t.j?T(t.j.Oa,t.j,t):null;t:for(var i=t.l,s=-1;;){var o=["count="+n];-1==s?0<n?o.push("ofs="+(s=i[0].h)):s=0:o.push("ofs="+s);for(var a=!0,u=0;u<n;u++){var c=i[u].h,l=i[u].g;if(0>(c-=s))s=Math.max(0,i[u].h-100),a=!1;else try{mn(l,o,"req"+c+"_")}catch(Fr){r&&r(l)}}if(a){r=o.join("&");break t}}return t=t.l.splice(0,n),e.D=t,r}function Qn(t){t.g||t.u||(t.Y=1,Ft(t.Ga,t),t.A=0)}function Wn(t){return!(t.g||t.u||3<=t.A||(t.Y++,t.u=se(T(t.Ga,t),tr(t,t.A)),t.A++,0))}function Yn(t){null!=t.B&&(m.clearTimeout(t.B),t.B=null)}function Xn(t){t.g=new ge(t,t.h,"rpc",t.Y),null===t.o&&(t.g.H=t.s),t.g.O=0;var e=Me(t.oa);qe(e,"RID","rpc"),qe(e,"SID",t.J),qe(e,"CI",t.N?"0":"1"),qe(e,"AID",t.U),Gn(t,e),qe(e,"TYPE","xmlhttp"),t.o&&t.s&&Mn(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.la,n.K=1,n.v=Be(Me(e)),n.s=null,n.U=!0,_e(n,t)}function Jn(t){null!=t.v&&(m.clearTimeout(t.v),t.v=null)}function Zn(t,e){var n=null;if(t.g==e){Jn(t),Yn(t),t.g=null;var r=2}else{if(!ln(t.i,e))return;n=e.D,fn(t.i,e),r=1}if(t.I=e.N,0!=t.G)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;xt(r=Zt(),new ie(r,n,e,i)),Hn(t)}else Qn(t);else if(3==(i=e.o)||0==i&&0<t.I||!(1==r&&function(t,e){return!(cn(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.l=e.D.concat(t.l),0):1==t.G||2==t.G||t.C>=(t.Xa?0:t.Ya)||(t.m=se(T(t.Ha,t,e),tr(t,t.C)),t.C++,0)))}(t,e)||2==r&&Wn(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:er(t,5);break;case 4:er(t,10);break;case 3:er(t,6);break;default:er(t,2)}}function tr(t,e){var n=t.Pa+Math.floor(Math.random()*t.$a);return t.j||(n*=2),n*e}function er(t,e){if(t.h.info("Error code "+e),2==e){var n=null;t.j&&(n=null);var r=T(t.jb,t);n||(n=new Fe("//www.google.com/images/cleardot.gif"),m.location&&"http"==m.location.protocol||je(n,"https"),Be(n)),function(t,e){var n=new Wt;if(m.Image){var r=new Image;r.onload=C(yn,n,r,"TestLoadImage: loaded",!0,e),r.onerror=C(yn,n,r,"TestLoadImage: error",!1,e),r.onabort=C(yn,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=C(yn,n,r,"TestLoadImage: timeout",!1,e),m.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}(n.toString(),r)}else re(2);t.G=0,t.j&&t.j.va(e),nr(t),qn(t)}function nr(t){t.G=0,t.I=-1,t.j&&(0==dn(t.i).length&&0==t.l.length||(t.i.i.length=0,D(t.l),t.l.length=0),t.j.ua())}function rr(t,e,n){var r=function(t){return t instanceof Fe?Me(t):new Fe(t,void 0)}(n);if(""!=r.i)e&&ze(r,e+"."+r.i),Ue(r,r.m);else{var i=m.location;r=function(t,e,n,r){var i=new Fe(null,void 0);return t&&je(i,t),e&&ze(i,e),n&&Ue(i,n),r&&(i.l=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.aa&&U(t.aa,(function(t,e){qe(r,e,t)})),n=t.sa,(e=t.D)&&n&&qe(r,e,n),qe(r,"VER",t.ma),Gn(t,r),r}function ir(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Cn(n&&t.Ba&&!t.qa?new vn({ib:!0}):t.qa)).L=t.H,e}function sr(){}function or(){if(Q&&!(10<=Number(it)))throw Error("Environmental error: no available transport.")}function ar(t,e){It.call(this),this.g=new zn(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.P=t,(t=e&&e.httpHeadersOverwriteParam)&&!P(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!P(e)&&(this.g.D=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new lr(this)}function ur(t){fe.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function cr(){de.call(this),this.status=1}function lr(t){this.g=t}(d=Cn.prototype).ea=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():le.g(),this.C=function(t){return t.h||(t.h=t.i())}(this.u?this.u:le),this.g.onreadystatechange=T(this.Fa,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(s){return void On(this,s)}t=n||"";var i=new De(this.headers);r&&Ne(r,(function(t,e){i.set(e,t)})),r=function(t){t:{for(var e=An,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.T()),n=m.FormData&&t instanceof m.FormData,!(0<=A(kn,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(t,e){this.g.setRequestHeader(e,t)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Rn(this),0<this.B&&((this.K=function(t){return Q&&function(){return t=rt,Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=function(){for(var t=0,e=L(String($)).split("."),n=L("9").split("."),r=Math.max(e.length,n.length),i=0;0==t&&i<r;i++){var s=e[i]||"",o=n[i]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==s[0].length&&0==o[0].length)break;t=M(0==s[1].length?0:parseInt(s[1],10),0==o[1].length?0:parseInt(o[1],10))||M(0==s[2].length,0==o[2].length)||M(s[2],o[2]),s=s[3],o=o[3]}while(0==t)}return 0<=t}();var t}()&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=T(this.pa,this)):this.A=qt(this.pa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){On(this,s)}},d.pa=function(){void 0!==g&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,xt(this,"timeout"),this.abort(8))},d.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,xt(this,"complete"),xt(this,"abort"),Pn(this))},d.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Pn(this,!0)),Cn.Z.M.call(this)},d.Fa=function(){this.s||(this.F||this.v||this.l?Dn(this):this.cb())},d.cb=function(){Dn(this)},d.ba=function(){try{return 2<Ln(this)?this.g.status:-1}catch(G){return-1}},d.ga=function(){try{return this.g?this.g.responseText:""}catch(G){return""}},d.Qa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Tn(e)}},d.Da=function(){return this.m},d.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(d=zn.prototype).ma=8,d.G=1,d.hb=function(t){try{this.h.info("Origin Trials invoked: "+t)}catch(e){}},d.Ha=function(t){if(this.m)if(this.m=null,1==this.G){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;var e=new ge(this,this.h,t,void 0),n=this.s;if(this.P&&(n?B(n=V(n),this.P):n=this.P),null===this.o&&(e.H=n),this.ja)t:{for(var r=0,i=0;i<this.l.length;i++){var s=this.l[i];if(void 0===(s="__data__"in s.g&&"string"==typeof(s=s.g.__data__)?s.length:void 0))break;if(4096<(r+=s)){r=i;break t}if(4096===r||i===this.l.length-1){r=i+1;break t}}r=1e3}else r=1e3;r=Kn(this,e,r),qe(i=Me(this.F),"RID",t),qe(i,"CVER",22),this.D&&qe(i,"X-HTTP-Session-Id",this.D),Gn(this,i),this.o&&n&&Mn(i,this.o,n),hn(this.i,e),this.Ra&&qe(i,"TYPE","init"),this.ja?(qe(i,"$req",r),qe(i,"SID","null"),e.$=!0,we(e,i,null)):we(e,i,r),this.G=2}}else 3==this.G&&(t?$n(this,t):0==this.l.length||un(this.i)||$n(this))},d.Ga=function(){if(this.u=null,Xn(this),this.$&&!(this.L||null==this.g||0>=this.O)){var t=2*this.O;this.h.info("BP detection timer enabled: "+t),this.B=se(T(this.bb,this),t)}},d.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,re(10),Vn(this),Xn(this))},d.ab=function(){null!=this.v&&(this.v=null,Vn(this),Wn(this),re(19))},d.jb=function(t){t?(this.h.info("Successfully pinged google.com"),re(2)):(this.h.info("Failed to ping google.com"),re(1))},(d=sr.prototype).xa=function(){},d.wa=function(){},d.va=function(){},d.ua=function(){},d.Oa=function(){},or.prototype.g=function(t,e){return new ar(t,e)},I(ar,It),ar.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;t.Wa&&(t.h.info("Origin Trials enabled."),Ft(T(t.hb,t,e))),re(0),t.W=e,t.aa=n||{},t.N=t.X,t.F=rr(t,null,t.W),Hn(t)},ar.prototype.close=function(){Un(this.g)},ar.prototype.u=function(t){if("string"==typeof t){var e={};e.__data__=t,Bn(this.g,e)}else this.v?((e={}).__data__=At(t),Bn(this.g,e)):Bn(this.g,t)},ar.prototype.M=function(){this.g.j=null,delete this.j,Un(this.g),delete this.g,ar.Z.M.call(this)},I(ur,fe),I(cr,de),I(lr,sr),lr.prototype.xa=function(){xt(this.g,"a")},lr.prototype.wa=function(t){xt(this.g,new ur(t))},lr.prototype.va=function(t){xt(this.g,new cr(t))},lr.prototype.ua=function(){xt(this.g,"b")},or.prototype.createWebChannel=or.prototype.g,ar.prototype.send=ar.prototype.u,ar.prototype.open=ar.prototype.m,ar.prototype.close=ar.prototype.close,oe.NO_ERROR=0,oe.TIMEOUT=8,oe.HTTP_ERROR=6,ae.COMPLETE="complete",ce.EventType=he,he.OPEN="a",he.CLOSE="b",he.ERROR="c",he.MESSAGE="d",It.prototype.listen=It.prototype.N,Cn.prototype.listenOnce=Cn.prototype.O,Cn.prototype.getLastError=Cn.prototype.La,Cn.prototype.getLastErrorCode=Cn.prototype.Da,Cn.prototype.getStatus=Cn.prototype.ba,Cn.prototype.getResponseJson=Cn.prototype.Qa,Cn.prototype.getResponseText=Cn.prototype.ga,Cn.prototype.send=Cn.prototype.ea;var hr=oe,fr=ae,dr=Xt,pr=vn,gr=ce,mr=Cn,yr=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.t(t)},this.i=function(t){return e.writeSequenceNumber(t)})}return t.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},t}();yr.o=-1;var vr={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},br=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return s(e,t),e}(Error),wr=new l.b("@firebase/firestore");function _r(){return wr.logLevel}function Sr(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(wr.logLevel<=l.a.DEBUG){var r=e.map(Cr);wr.debug.apply(wr,u(["Firestore (8.10.1): "+t],r))}}function Er(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(wr.logLevel<=l.a.ERROR){var r=e.map(Cr);wr.error.apply(wr,u(["Firestore (8.10.1): "+t],r))}}function Tr(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(wr.logLevel<=l.a.WARN){var r=e.map(Cr);wr.warn.apply(wr,u(["Firestore (8.10.1): "+t],r))}}function Cr(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(e){return t}}function Ir(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.10.1) INTERNAL ASSERTION FAILED: "+t;throw Er(e),new Error(e)}function xr(t,e){t||Ir()}function kr(t,e){return t}function Ar(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Or=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=Ar(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function Nr(t,e){return t<e?-1:t>e?1:0}function Dr(t,e,n){return t.length===e.length&&t.every((function(t,r){return n(t,e[r])}))}function Pr(t){return t+"\0"}var Rr=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new br(vr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new br(vr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new br(vr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new br(vr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,Math.floor(1e6*(e-1e3*n)))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?Nr(this.nanoseconds,t.nanoseconds):Nr(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),Lr=function(){function t(t){this.timestamp=t}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new Rr(0,0))},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}();function Fr(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Mr(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function jr(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var zr=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&Ir(),void 0===n?n=t.length-e:n>t.length-e&&Ir(),this.segments=t,this.offset=e,this.len=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),s=e.get(r);if(i<s)return-1;if(i>s)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),Ur=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,s=t;i<s.length;i++){var o=s[i];if(o.indexOf("//")>=0)throw new br(vr.INVALID_ARGUMENT,"Invalid segment ("+o+"). Paths must not contain // in them.");r.push.apply(r,o.split("/").filter((function(t){return t.length>0})))}return new e(r)},e.emptyPath=function(){return new e([])},e}(zr),Vr=/^[_a-zA-Z][_a-zA-Z0-9]*$/,qr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.isValidIdentifier=function(t){return Vr.test(t)},e.prototype.canonicalString=function(){return this.toArray().map((function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t})).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],r="",i=0,s=function(){if(0===r.length)throw new br(vr.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},o=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new br(vr.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new br(vr.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new br(vr.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.emptyPath=function(){return new e([])},e}(zr),Br=function(){function t(t){this.fields=t,t.sort(qr.comparator)}return t.prototype.covers=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].isPrefixOf(t))return!0;return!1},t.prototype.isEqual=function(t){return Dr(this.fields,t.fields,(function(t,e){return t.isEqual(e)}))},t}(),Hr=function(){function t(t){this.binaryString=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.binaryString)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(t){return Nr(this.binaryString,t.binaryString)},t.prototype.isEqual=function(t){return this.binaryString===t.binaryString},t}();Hr.EMPTY_BYTE_STRING=new Hr("");var $r=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Gr(t){if(xr(!!t),"string"==typeof t){var e=0,n=$r.exec(t);if(xr(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Kr(t.seconds),nanos:Kr(t.nanos)}}function Kr(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Qr(t){return"string"==typeof t?Hr.fromBase64String(t):Hr.fromUint8Array(t)}function Wr(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Yr(t){var e=Gr(t.mapValue.fields.__local_write_time__.timestampValue);return new Rr(e.seconds,e.nanos)}function Xr(t){return null==t}function Jr(t){return 0===t&&1/t==-1/0}function Zr(t){return"number"==typeof t&&Number.isInteger(t)&&!Jr(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var ti=function(){function t(t){this.path=t}return t.fromPath=function(e){return new t(Ur.fromString(e))},t.fromName=function(e){return new t(Ur.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===Ur.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return Ur.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new Ur(e.slice()))},t}();function ei(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Wr(t)?4:10:Ir()}function ni(t,e){var n=ei(t);if(n!==ei(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Yr(t).isEqual(Yr(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=Gr(t.timestampValue),r=Gr(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return Qr(t.bytesValue).isEqual(Qr(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return Kr(t.geoPointValue.latitude)===Kr(e.geoPointValue.latitude)&&Kr(t.geoPointValue.longitude)===Kr(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return Kr(t.integerValue)===Kr(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=Kr(t.doubleValue),r=Kr(e.doubleValue);return n===r?Jr(n)===Jr(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return Dr(t.arrayValue.values||[],e.arrayValue.values||[],ni);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(Fr(n)!==Fr(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!ni(n[i],r[i])))return!1;return!0}(t,e);default:return Ir()}}function ri(t,e){return void 0!==(t.values||[]).find((function(t){return ni(t,e)}))}function ii(t,e){var n=ei(t),r=ei(e);if(n!==r)return Nr(n,r);switch(n){case 0:return 0;case 1:return Nr(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=Kr(t.integerValue||t.doubleValue),r=Kr(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return si(t.timestampValue,e.timestampValue);case 4:return si(Yr(t),Yr(e));case 5:return Nr(t.stringValue,e.stringValue);case 6:return function(t,e){var n=Qr(t),r=Qr(e);return n.compareTo(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var s=Nr(n[i],r[i]);if(0!==s)return s}return Nr(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=Nr(Kr(t.latitude),Kr(e.latitude));return 0!==n?n:Nr(Kr(t.longitude),Kr(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var s=ii(n[i],r[i]);if(s)return s}return Nr(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},s=Object.keys(i);r.sort(),s.sort();for(var o=0;o<r.length&&o<s.length;++o){var a=Nr(r[o],s[o]);if(0!==a)return a;var u=ii(n[r[o]],i[s[o]]);if(0!==u)return u}return Nr(r.length,s.length)}(t.mapValue,e.mapValue);default:throw Ir()}}function si(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Nr(t,e);var n=Gr(t),r=Gr(e),i=Nr(n.seconds,r.seconds);return 0!==i?i:Nr(n.nanos,r.nanos)}function oi(t){return function t(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(t){var e=Gr(t);return"time("+e.seconds+","+e.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Qr(e.bytesValue).toBase64():"referenceValue"in e?ti.fromName(e.referenceValue).toString():"geoPointValue"in e?"geo("+(n=e.geoPointValue).latitude+","+n.longitude+")":"arrayValue"in e?function(e){for(var n="[",r=!0,i=0,s=e.values||[];i<s.length;i++)r?r=!1:n+=",",n+=t(s[i]);return n+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var n="{",r=!0,i=0,s=Object.keys(e.fields||{}).sort();i<s.length;i++){var o=s[i];r?r=!1:n+=",",n+=o+":"+t(e.fields[o])}return n+"}"}(e.mapValue):Ir();var n}(t)}function ai(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function ui(t){return!!t&&"integerValue"in t}function ci(t){return!!t&&"arrayValue"in t}function li(t){return!!t&&"nullValue"in t}function hi(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function fi(t){return!!t&&"mapValue"in t}function di(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){var e={mapValue:{fields:{}}};return Mr(t.mapValue.fields,(function(t,n){return e.mapValue.fields[t]=di(n)})),e}if(t.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(t.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=di(t.arrayValue.values[r]);return n}return Object.assign({},t)}var pi=function(){function t(t){this.value=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.isEmpty())return this.value;for(var e=this.value,n=0;n<t.length-1;++n)if(!fi(e=(e.mapValue.fields||{})[t.get(n)]))return null;return(e=(e.mapValue.fields||{})[t.lastSegment()])||null},t.prototype.set=function(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=di(e)},t.prototype.setAll=function(t){var e=this,n=qr.emptyPath(),r={},i=[];t.forEach((function(t,s){if(!n.isImmediateParentOf(s)){var o=e.getFieldsMap(n);e.applyChanges(o,r,i),r={},i=[],n=s.popLast()}t?r[s.lastSegment()]=di(t):i.push(s.lastSegment())}));var s=this.getFieldsMap(n);this.applyChanges(s,r,i)},t.prototype.delete=function(t){var e=this.field(t.popLast());fi(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]},t.prototype.isEqual=function(t){return ni(this.value,t.value)},t.prototype.getFieldsMap=function(t){var e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(var n=0;n<t.length;++n){var r=e.mapValue.fields[t.get(n)];fi(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(n)]=r),e=r}return e.mapValue.fields},t.prototype.applyChanges=function(t,e,n){Mr(e,(function(e,n){return t[e]=n}));for(var r=0,i=n;r<i.length;r++)delete t[i[r]]},t.prototype.clone=function(){return new t(di(this.value))},t}();function gi(t){var e=[];return Mr(t.fields,(function(t,n){var r=new qr([t]);if(fi(n)){var i=gi(n.mapValue).fields;if(0===i.length)e.push(r);else for(var s=0,o=i;s<o.length;s++)e.push(r.child(o[s]))}else e.push(r)})),new Br(e)}var mi=function(){function t(t,e,n,r,i){this.key=t,this.documentType=e,this.version=n,this.data=r,this.documentState=i}return t.newInvalidDocument=function(e){return new t(e,0,Lr.min(),pi.empty(),0)},t.newFoundDocument=function(e,n,r){return new t(e,1,n,r,0)},t.newNoDocument=function(e,n){return new t(e,2,n,pi.empty(),0)},t.newUnknownDocument=function(e,n){return new t(e,3,n,pi.empty(),2)},t.prototype.convertToFoundDocument=function(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this},t.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=pi.empty(),this.documentState=0,this},t.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=pi.empty(),this.documentState=2,this},t.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},t.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(t.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isValidDocument=function(){return 0!==this.documentType},t.prototype.isFoundDocument=function(){return 1===this.documentType},t.prototype.isNoDocument=function(){return 2===this.documentType},t.prototype.isUnknownDocument=function(){return 3===this.documentType},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)},t.prototype.clone=function(){return new t(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},t}(),yi=function(t,e,n,r,i,s,o){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s=null),void 0===o&&(o=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.h=null};function vi(t,e,n,r,i,s,o){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s=null),void 0===o&&(o=null),new yi(t,e,n,r,i,s,o)}function bi(t){var e=kr(t);if(null===e.h){var n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((function(t){return function(t){return t.field.canonicalString()+t.op.toString()+oi(t.value)}(t)})).join(","),n+="|ob:",n+=e.orderBy.map((function(t){return function(t){return t.field.canonicalString()+t.dir}(t)})).join(","),Xr(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=Di(e.startAt)),e.endAt&&(n+="|ub:",n+=Di(e.endAt)),e.h=n}return e.h}function wi(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!Ri(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(s=e.filters[r]).op||!i.field.isEqual(s.field)||!ni(i.value,s.value))return!1;var i,s;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Fi(t.startAt,e.startAt)&&Fi(t.endAt,e.endAt)}function _i(t){return ti.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}var Si=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return s(e,t),e.create=function(t,n,r){return t.isKeyField()?"in"===n||"not-in"===n?this.l(t,n,r):new Ei(t,n,r):"array-contains"===n?new xi(t,r):"in"===n?new ki(t,r):"not-in"===n?new Ai(t,r):"array-contains-any"===n?new Oi(t,r):new e(t,n,r)},e.l=function(t,e,n){return"in"===e?new Ti(t,n):new Ci(t,n)},e.prototype.matches=function(t){var e=t.data.field(this.field);return"!="===this.op?null!==e&&this.m(ii(e,this.value)):null!==e&&ei(this.value)===ei(e)&&this.m(ii(e,this.value))},e.prototype.m=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Ir()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}((function(){})),Ei=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=ti.fromName(r.referenceValue),i}return s(e,t),e.prototype.matches=function(t){var e=ti.comparator(t.key,this.key);return this.m(e)},e}(Si),Ti=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=Ii(0,n),r}return s(e,t),e.prototype.matches=function(t){return this.keys.some((function(e){return e.isEqual(t.key)}))},e}(Si),Ci=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=Ii(0,n),r}return s(e,t),e.prototype.matches=function(t){return!this.keys.some((function(e){return e.isEqual(t.key)}))},e}(Si);function Ii(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(t){return ti.fromName(t.referenceValue)}))}var xi=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return s(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return ci(e)&&ri(e.arrayValue,this.value)},e}(Si),ki=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return s(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return null!==e&&ri(this.value.arrayValue,e)},e}(Si),Ai=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return s(e,t),e.prototype.matches=function(t){if(ri(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.data.field(this.field);return null!==e&&!ri(this.value.arrayValue,e)},e}(Si),Oi=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return s(e,t),e.prototype.matches=function(t){var e=this,n=t.data.field(this.field);return!(!ci(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(t){return ri(e.value.arrayValue,t)}))},e}(Si),Ni=function(t,e){this.position=t,this.before=e};function Di(t){return(t.before?"b":"a")+":"+t.position.map((function(t){return oi(t)})).join(",")}var Pi=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function Ri(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function Li(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var s=e[i],o=t.position[i];if(r=s.field.isKeyField()?ti.comparator(ti.fromName(o.referenceValue),n.key):ii(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function Fi(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!ni(t.position[n],e.position[n]))return!1;return!0}var Mi=function(t,e,n,r,i,s,o,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s="F"),void 0===o&&(o=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.p=null,this.T=null};function ji(t,e,n,r,i,s,o,a){return new Mi(t,e,n,r,i,s,o,a)}function zi(t){return new Mi(t)}function Ui(t){return!Xr(t.limit)&&"F"===t.limitType}function Vi(t){return!Xr(t.limit)&&"L"===t.limitType}function qi(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Bi(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.g())return r.field}return null}function Hi(t){return null!==t.collectionGroup}function $i(t){var e=kr(t);if(null===e.p){e.p=[];var n=Bi(e),r=qi(e);if(null!==n&&null===r)n.isKeyField()||e.p.push(new Pi(n)),e.p.push(new Pi(qr.keyField(),"asc"));else{for(var i=!1,s=0,o=e.explicitOrderBy;s<o.length;s++){var a=o[s];e.p.push(a),a.field.isKeyField()&&(i=!0)}if(!i){var u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new Pi(qr.keyField(),u))}}}return e.p}function Gi(t){var e=kr(t);if(!e.T)if("F"===e.limitType)e.T=vi(e.path,e.collectionGroup,$i(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=$i(e);r<i.length;r++){var s=i[r];n.push(new Pi(s.field,"desc"===s.dir?"asc":"desc"))}var o=e.endAt?new Ni(e.endAt.position,!e.endAt.before):null,a=e.startAt?new Ni(e.startAt.position,!e.startAt.before):null;e.T=vi(e.path,e.collectionGroup,n,e.filters,e.limit,o,a)}return e.T}function Ki(t,e,n){return new Mi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Qi(t,e){return wi(Gi(t),Gi(e))&&t.limitType===e.limitType}function Wi(t){return bi(Gi(t))+"|lt:"+t.limitType}function Yi(t){return"Query(target="+function(t){var e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map((function(t){return(e=t).field.canonicalString()+" "+e.op+" "+oi(e.value);var e})).join(", ")+"]"),Xr(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map((function(t){return function(t){return t.field.canonicalString()+" ("+t.dir+")"}(t)})).join(", ")+"]"),t.startAt&&(e+=", startAt: "+Di(t.startAt)),t.endAt&&(e+=", endAt: "+Di(t.endAt)),"Target("+e+")"}(Gi(t))+"; limitType="+t.limitType+")"}function Xi(t,e){return e.isFoundDocument()&&function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):ti.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(var n=0,r=t.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===e.data.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!Li(t.startAt,$i(t),e)||t.endAt&&Li(t.endAt,$i(t),e))}(t,e)}function Ji(t){return function(e,n){for(var r=!1,i=0,s=$i(t);i<s.length;i++){var o=s[i],a=Zi(o,e,n);if(0!==a)return a;r=r||o.field.isKeyField()}return 0}}function Zi(t,e,n){var r=t.field.isKeyField()?ti.comparator(e.key,n.key):function(t,e,n){var r=e.data.field(t),i=n.data.field(t);return null!==r&&null!==i?ii(r,i):Ir()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ir()}}function ts(t,e){if(t.I){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Jr(e)?"-0":e}}function es(t){return{integerValue:""+t}}function ns(t,e){return Zr(e)?es(e):ts(t,e)}var rs=function(){this._=void 0};function is(t,e,n){return t instanceof as?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof us?cs(t,e):t instanceof ls?hs(t,e):function(t,e){var n=os(t,e),r=ds(n)+ds(t.A);return ui(n)&&ui(t.A)?es(r):ts(t.R,r)}(t,e)}function ss(t,e,n){return t instanceof us?cs(t,e):t instanceof ls?hs(t,e):n}function os(t,e){return t instanceof fs?ui(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var as=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e}(rs),us=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return s(e,t),e}(rs);function cs(t,e){for(var n=ps(e),r=function(t){n.some((function(e){return ni(e,t)}))||n.push(t)},i=0,s=t.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var ls=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return s(e,t),e}(rs);function hs(t,e){for(var n=ps(e),r=function(t){n=n.filter((function(e){return!ni(e,t)}))},i=0,s=t.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var fs=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).R=e,r.A=n,r}return s(e,t),e}(rs);function ds(t){return Kr(t.integerValue||t.doubleValue)}function ps(t){return ci(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var gs=function(t,e){this.field=t,this.transform=e},ms=function(t,e){this.version=t,this.transformResults=e},ys=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function vs(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}var bs=function(){};function ws(t,e,n){t instanceof Cs?function(t,e,n){var r=t.value.clone(),i=ks(t.fieldTransforms,e,n.transformResults);r.setAll(i),e.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(t,e,n):t instanceof Is?function(t,e,n){if(vs(t.precondition,e)){var r=ks(t.fieldTransforms,e,n.transformResults),i=e.data;i.setAll(xs(t)),i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else e.convertToUnknownDocument(n.version)}(t,e,n):function(t,e,n){e.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,n)}function _s(t,e,n){t instanceof Cs?function(t,e,n){if(vs(t.precondition,e)){var r=t.value.clone(),i=As(t.fieldTransforms,n,e);r.setAll(i),e.convertToFoundDocument(Ts(e),r).setHasLocalMutations()}}(t,e,n):t instanceof Is?function(t,e,n){if(vs(t.precondition,e)){var r=As(t.fieldTransforms,n,e),i=e.data;i.setAll(xs(t)),i.setAll(r),e.convertToFoundDocument(Ts(e),i).setHasLocalMutations()}}(t,e,n):function(t,e){vs(t.precondition,e)&&e.convertToNoDocument(Lr.min())}(t,e)}function Ss(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var s=i[r],o=e.data.field(s.field),a=os(s.transform,o||null);null!=a&&(null==n&&(n=pi.empty()),n.set(s.field,a))}return n||null}function Es(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&Dr(t,e,(function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof us&&e instanceof us||t instanceof ls&&e instanceof ls?Dr(t.elements,e.elements,ni):t instanceof fs&&e instanceof fs?ni(t.A,e.A):t instanceof as&&e instanceof as}(t.transform,e.transform)}(t,e)}))}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function Ts(t){return t.isFoundDocument()?t.version:Lr.min()}var Cs=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var s=this;return(s=t.call(this)||this).key=e,s.value=n,s.precondition=r,s.fieldTransforms=i,s.type=0,s}return s(e,t),e}(bs),Is=function(t){function e(e,n,r,i,s){void 0===s&&(s=[]);var o=this;return(o=t.call(this)||this).key=e,o.data=n,o.fieldMask=r,o.precondition=i,o.fieldTransforms=s,o.type=1,o}return s(e,t),e}(bs);function xs(t){var e=new Map;return t.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=t.data.field(n);e.set(n,r)}})),e}function ks(t,e,n){var r=new Map;xr(t.length===n.length);for(var i=0;i<n.length;i++){var s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,ss(o,a,n[i]))}return r}function As(t,e,n){for(var r=new Map,i=0,s=t;i<s.length;i++){var o=s[i],a=o.transform,u=n.data.field(o.field);r.set(o.field,is(a,u,e))}return r}var Os,Ns,Ds=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return s(e,t),e}(bs),Ps=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return s(e,t),e}(bs),Rs=function(t){this.count=t};function Ls(t){switch(t){case vr.OK:return Ir();case vr.CANCELLED:case vr.UNKNOWN:case vr.DEADLINE_EXCEEDED:case vr.RESOURCE_EXHAUSTED:case vr.INTERNAL:case vr.UNAVAILABLE:case vr.UNAUTHENTICATED:return!1;case vr.INVALID_ARGUMENT:case vr.NOT_FOUND:case vr.ALREADY_EXISTS:case vr.PERMISSION_DENIED:case vr.FAILED_PRECONDITION:case vr.ABORTED:case vr.OUT_OF_RANGE:case vr.UNIMPLEMENTED:case vr.DATA_LOSS:return!0;default:return Ir()}}function Fs(t){if(void 0===t)return Er("GRPC error has no .code"),vr.UNKNOWN;switch(t){case Os.OK:return vr.OK;case Os.CANCELLED:return vr.CANCELLED;case Os.UNKNOWN:return vr.UNKNOWN;case Os.DEADLINE_EXCEEDED:return vr.DEADLINE_EXCEEDED;case Os.RESOURCE_EXHAUSTED:return vr.RESOURCE_EXHAUSTED;case Os.INTERNAL:return vr.INTERNAL;case Os.UNAVAILABLE:return vr.UNAVAILABLE;case Os.UNAUTHENTICATED:return vr.UNAUTHENTICATED;case Os.INVALID_ARGUMENT:return vr.INVALID_ARGUMENT;case Os.NOT_FOUND:return vr.NOT_FOUND;case Os.ALREADY_EXISTS:return vr.ALREADY_EXISTS;case Os.PERMISSION_DENIED:return vr.PERMISSION_DENIED;case Os.FAILED_PRECONDITION:return vr.FAILED_PRECONDITION;case Os.ABORTED:return vr.ABORTED;case Os.OUT_OF_RANGE:return vr.OUT_OF_RANGE;case Os.UNIMPLEMENTED:return vr.UNIMPLEMENTED;case Os.DATA_LOSS:return vr.DATA_LOSS;default:return Ir()}}(Ns=Os||(Os={}))[Ns.OK=0]="OK",Ns[Ns.CANCELLED=1]="CANCELLED",Ns[Ns.UNKNOWN=2]="UNKNOWN",Ns[Ns.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ns[Ns.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ns[Ns.NOT_FOUND=5]="NOT_FOUND",Ns[Ns.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ns[Ns.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ns[Ns.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ns[Ns.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ns[Ns.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ns[Ns.ABORTED=10]="ABORTED",Ns[Ns.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ns[Ns.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ns[Ns.INTERNAL=13]="INTERNAL",Ns[Ns.UNAVAILABLE=14]="UNAVAILABLE",Ns[Ns.DATA_LOSS=15]="DATA_LOSS";var Ms=function(){function t(t,e){this.comparator=t,this.root=e||zs.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,zs.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,zs.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal((function(e,n){return t(e,n),!1}))},t.prototype.toString=function(){var t=[];return this.inorderTraversal((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new js(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new js(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new js(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new js(this.root,t,this.comparator,!0)},t}(),js=function(){function t(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),zs=function(){function t(e,n,r,i,s){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=s?s:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,s){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=s?s:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw Ir();if(this.right.isRed())throw Ir();var t=this.left.check();if(t!==this.right.check())throw Ir();return t+(this.isRed()?0:1)},t}();zs.EMPTY=null,zs.RED=!0,zs.BLACK=!1,zs.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw Ir()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw Ir()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw Ir()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw Ir()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw Ir()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new zs(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());var Us=function(){function t(t){this.comparator=t,this.data=new Ms(this.comparator)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal((function(e,n){return t(e),!1}))},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new Vs(this.data.getIterator())},t.prototype.getIteratorFrom=function(t){return new Vs(this.data.getIteratorFrom(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},t.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),Vs=function(){function t(t){this.iter=t}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),qs=new Ms(ti.comparator);function Bs(){return qs}var Hs=new Ms(ti.comparator);function $s(){return Hs}var Gs=new Ms(ti.comparator);function Ks(){return Gs}var Qs=new Us(ti.comparator);function Ws(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=Qs,r=0,i=t;r<i.length;r++){var s=i[r];n=n.add(s)}return n}var Ys=new Us(Nr);function Xs(){return Ys}var Js=function(){function t(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r=new Map;return r.set(e,Zs.createSynthesizedTargetChangeForCurrentChange(e,n)),new t(Lr.min(),r,Xs(),Bs(),Ws())},t}(),Zs=function(){function t(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(Hr.EMPTY_BYTE_STRING,n,Ws(),Ws(),Ws())},t}(),to=function(t,e,n,r){this.v=t,this.removedTargetIds=e,this.key=n,this.P=r},eo=function(t,e){this.targetId=t,this.V=e},no=function(t,e,n,r){void 0===n&&(n=Hr.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},ro=function(){function t(){this.S=0,this.D=oo(),this.C=Hr.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"F",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),t.prototype.O=function(t){t.approximateByteSize()>0&&(this.k=!0,this.C=t)},t.prototype.M=function(){var t=Ws(),e=Ws(),n=Ws();return this.D.forEach((function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:Ir()}})),new Zs(this.C,this.N,t,e,n)},t.prototype.L=function(){this.k=!1,this.D=oo()},t.prototype.B=function(t,e){this.k=!0,this.D=this.D.insert(t,e)},t.prototype.q=function(t){this.k=!0,this.D=this.D.remove(t)},t.prototype.U=function(){this.S+=1},t.prototype.K=function(){this.S-=1},t.prototype.j=function(){this.k=!0,this.N=!0},t}(),io=function(){function t(t){this.W=t,this.G=new Map,this.H=Bs(),this.J=so(),this.Y=new Us(Nr)}return t.prototype.X=function(t){for(var e=0,n=t.v;e<n.length;e++){var r=n[e];t.P&&t.P.isFoundDocument()?this.Z(r,t.P):this.tt(r,t.key,t.P)}for(var i=0,s=t.removedTargetIds;i<s.length;i++)this.tt(r=s[i],t.key,t.P)},t.prototype.et=function(t){var e=this;this.forEachTarget(t,(function(n){var r=e.nt(n);switch(t.state){case 0:e.st(n)&&r.O(t.resumeToken);break;case 1:r.K(),r.F||r.L(),r.O(t.resumeToken);break;case 2:r.K(),r.F||e.removeTarget(n);break;case 3:e.st(n)&&(r.j(),r.O(t.resumeToken));break;case 4:e.st(n)&&(e.it(n),r.O(t.resumeToken));break;default:Ir()}}))},t.prototype.forEachTarget=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.G.forEach((function(t,r){n.st(r)&&e(r)}))},t.prototype.rt=function(t){var e=t.targetId,n=t.V.count,r=this.ot(e);if(r){var i=r.target;if(_i(i))if(0===n){var s=new ti(i.path);this.tt(e,s,mi.newNoDocument(s,Lr.min()))}else xr(1===n);else this.ct(e)!==n&&(this.it(e),this.Y=this.Y.add(e))}},t.prototype.ut=function(t){var e=this,n=new Map;this.G.forEach((function(r,i){var s=e.ot(i);if(s){if(r.current&&_i(s.target)){var o=new ti(s.target.path);null!==e.H.get(o)||e.at(i,o)||e.tt(i,o,mi.newNoDocument(o,t))}r.$&&(n.set(i,r.M()),r.L())}}));var r=Ws();this.J.forEach((function(t,n){var i=!0;n.forEachWhile((function(t){var n=e.ot(t);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(t))}));var i=new Js(t,n,this.Y,this.H,r);return this.H=Bs(),this.J=so(),this.Y=new Us(Nr),i},t.prototype.Z=function(t,e){if(this.st(t)){var n=this.at(t,e.key)?2:0;this.nt(t).B(e.key,n),this.H=this.H.insert(e.key,e),this.J=this.J.insert(e.key,this.ht(e.key).add(t))}},t.prototype.tt=function(t,e,n){if(this.st(t)){var r=this.nt(t);this.at(t,e)?r.B(e,1):r.q(e),this.J=this.J.insert(e,this.ht(e).delete(t)),n&&(this.H=this.H.insert(e,n))}},t.prototype.removeTarget=function(t){this.G.delete(t)},t.prototype.ct=function(t){var e=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.U=function(t){this.nt(t).U()},t.prototype.nt=function(t){var e=this.G.get(t);return e||(e=new ro,this.G.set(t,e)),e},t.prototype.ht=function(t){var e=this.J.get(t);return e||(e=new Us(Nr),this.J=this.J.insert(t,e)),e},t.prototype.st=function(t){var e=null!==this.ot(t);return e||Sr("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.ot=function(t){var e=this.G.get(t);return e&&e.F?null:this.W.lt(t)},t.prototype.it=function(t){var e=this;this.G.set(t,new ro),this.W.getRemoteKeysForTarget(t).forEach((function(n){e.tt(t,n,null)}))},t.prototype.at=function(t,e){return this.W.getRemoteKeysForTarget(t).has(e)},t}();function so(){return new Ms(ti.comparator)}function oo(){return new Ms(ti.comparator)}var ao={asc:"ASCENDING",desc:"DESCENDING"},uo={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},co=function(t,e){this.databaseId=t,this.I=e};function lo(t,e){return t.I?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function ho(t,e){return t.I?e.toBase64():e.toUint8Array()}function fo(t,e){return lo(t,e.toTimestamp())}function po(t){return xr(!!t),Lr.fromTimestamp(function(t){var e=Gr(t);return new Rr(e.seconds,e.nanos)}(t))}function go(t,e){return function(t){return new Ur(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).canonicalString()}function mo(t){var e=Ur.fromString(t);return xr(zo(e)),e}function yo(t,e){return go(t.databaseId,e.path)}function vo(t,e){var n=mo(e);if(n.get(1)!==t.databaseId.projectId)throw new br(vr.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new br(vr.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ti(So(n))}function bo(t,e){return go(t.databaseId,e)}function wo(t){var e=mo(t);return 4===e.length?Ur.emptyPath():So(e)}function _o(t){return new Ur(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function So(t){return xr(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function Eo(t,e,n){return{name:yo(t,e),fields:n.value.mapValue.fields}}function To(t,e,n){var r=vo(t,e.name),i=po(e.updateTime),s=new pi({mapValue:{fields:e.fields}}),o=mi.newFoundDocument(r,i,s);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function Co(t,e){var n;if(e instanceof Cs)n={update:Eo(t,e.key,e.value)};else if(e instanceof Ds)n={delete:yo(t,e.key)};else if(e instanceof Is)n={update:Eo(t,e.key,e.data),updateMask:jo(e.fieldMask)};else{if(!(e instanceof Ps))return Ir();n={verify:yo(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((function(t){return function(t,e){var n=e.transform;if(n instanceof as)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof us)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof ls)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof fs)return{fieldPath:e.field.canonicalString(),increment:n.A};throw Ir()}(0,t)}))),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:fo(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:Ir()}(t,e.precondition)),n}function Io(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?ys.updateTime(po(t.updateTime)):void 0!==t.exists?ys.exists(t.exists):ys.none()}(e.currentDocument):ys.none(),r=e.updateTransforms?e.updateTransforms.map((function(e){return function(t,e){var n=null;"setToServerValue"in e?(xr("REQUEST_TIME"===e.setToServerValue),n=new as):"appendMissingElements"in e?n=new us(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new ls(e.removeAllFromArray.values||[]):"increment"in e?n=new fs(t,e.increment):Ir();var r=qr.fromServerFormat(e.fieldPath);return new gs(r,n)}(t,e)})):[];if(e.update){var i=vo(t,e.update.name),s=new pi({mapValue:{fields:e.update.fields}});if(e.updateMask){var o=function(t){return new Br((t.fieldPaths||[]).map((function(t){return qr.fromServerFormat(t)})))}(e.updateMask);return new Is(i,s,o,n,r)}return new Cs(i,s,n,r)}if(e.delete){var a=vo(t,e.delete);return new Ds(a,n)}if(e.verify){var u=vo(t,e.verify);return new Ps(u,n)}return Ir()}function xo(t,e){return{documents:[bo(t,e.path)]}}function ko(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=bo(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=bo(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(t){if(0!==t.length){var e=t.map((function(t){return function(t){if("=="===t.op){if(hi(t.value))return{unaryFilter:{field:Ro(t.field),op:"IS_NAN"}};if(li(t.value))return{unaryFilter:{field:Ro(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(hi(t.value))return{unaryFilter:{field:Ro(t.field),op:"IS_NOT_NAN"}};if(li(t.value))return{unaryFilter:{field:Ro(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ro(t.field),op:Po(t.op),value:t.value}}}(t)}));return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var s=function(t){if(0!==t.length)return t.map((function(t){return function(t){return{field:Ro(t.field),direction:Do(t.dir)}}(t)}))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);var o=function(t,e){return t.I||Xr(e)?e:{value:e}}(t,e.limit);return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=Oo(e.startAt)),e.endAt&&(n.structuredQuery.endAt=Oo(e.endAt)),n}function Ao(t){var e=wo(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){xr(1===r);var s=n.from[0];s.allDescendants?i=s.collectionId:e=e.child(s.collectionId)}var o=[];n.where&&(o=function t(e){return e?void 0!==e.unaryFilter?[Mo(e)]:void 0!==e.fieldFilter?[Fo(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return t(e)})).reduce((function(t,e){return t.concat(e)})):Ir():[]}(n.where));var a=[];n.orderBy&&(a=n.orderBy.map((function(t){return function(t){return new Pi(Lo(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)})));var u=null;n.limit&&(u=function(t){var e;return Xr(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=No(n.startAt));var l=null;return n.endAt&&(l=No(n.endAt)),ji(e,i,a,o,u,"F",c,l)}function Oo(t){return{before:t.before,values:t.position}}function No(t){return new Ni(t.values||[],!!t.before)}function Do(t){return ao[t]}function Po(t){return uo[t]}function Ro(t){return{fieldPath:t.canonicalString()}}function Lo(t){return qr.fromServerFormat(t.fieldPath)}function Fo(t){return Si.create(Lo(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Ir()}}(t.fieldFilter.op),t.fieldFilter.value)}function Mo(t){switch(t.unaryFilter.op){case"IS_NAN":var e=Lo(t.unaryFilter.field);return Si.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=Lo(t.unaryFilter.field);return Si.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Lo(t.unaryFilter.field);return Si.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Lo(t.unaryFilter.field);return Si.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Ir()}}function jo(t){var e=[];return t.fields.forEach((function(t){return e.push(t.canonicalString())})),{fieldPaths:e}}function zo(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}function Uo(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=qo(e)),e=Vo(t.get(n),e);return qo(e)}function Vo(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var s=t.charAt(i);switch(s){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=s}}return n}function qo(t){return t+"\x01\x01"}function Bo(t){var e=t.length;if(xr(e>=2),2===e)return xr("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),Ur.emptyPath();for(var n=e-2,r=[],i="",s=0;s<e;){var o=t.indexOf("\x01",s);switch((o<0||o>n)&&Ir(),t.charAt(o+1)){case"\x01":var a=t.substring(s,o),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"\x10":i+=t.substring(s,o),i+="\0";break;case"\x11":i+=t.substring(s,o+1);break;default:Ir()}s=o+2}return new Ur(r)}var Ho=function(t,e){this.seconds=t,this.nanoseconds=e},$o=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};$o.store="owner",$o.key="owner";var Go=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};Go.store="mutationQueues",Go.keyPath="userId";var Ko=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};Ko.store="mutations",Ko.keyPath="batchId",Ko.userMutationsIndex="userMutationsIndex",Ko.userMutationsKeyPath=["userId","batchId"];var Qo=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,Uo(e)]},t.key=function(t,e,n){return[t,Uo(e),n]},t}();Qo.store="documentMutations",Qo.PLACEHOLDER=new Qo;var Wo=function(t,e){this.path=t,this.readTime=e},Yo=function(t,e){this.path=t,this.version=e},Xo=function(t,e,n,r,i,s){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=s};Xo.store="remoteDocuments",Xo.readTimeIndex="readTimeIndex",Xo.readTimeIndexPath="readTime",Xo.collectionReadTimeIndex="collectionReadTimeIndex",Xo.collectionReadTimeIndexPath=["parentPath","readTime"];var Jo=function(t){this.byteSize=t};Jo.store="remoteDocumentGlobal",Jo.key="remoteDocumentGlobalKey";var Zo=function(t,e,n,r,i,s,o){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=s,this.query=o};Zo.store="targets",Zo.keyPath="targetId",Zo.queryTargetsIndexName="queryTargetsIndex",Zo.queryTargetsKeyPath=["canonicalId","targetId"];var ta=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};ta.store="targetDocuments",ta.keyPath=["targetId","path"],ta.documentTargetsIndex="documentTargetsIndex",ta.documentTargetsKeyPath=["path","targetId"];var ea=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};ea.key="targetGlobalKey",ea.store="targetGlobal";var na=function(t,e){this.collectionId=t,this.parent=e};na.store="collectionParents",na.keyPath=["collectionId","parent"];var ra=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};ra.store="clientMetadata",ra.keyPath="clientId";var ia=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};ia.store="bundles",ia.keyPath="bundleId";var sa=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};sa.store="namedQueries",sa.keyPath="name";var oa=u(u([],u(u([],u(u([],u(u([],[Go.store,Ko.store,Qo.store,Xo.store,Zo.store,$o.store,ea.store,ta.store]),[ra.store])),[Jo.store])),[na.store])),[ia.store,sa.store]),aa="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",ua=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach((function(t){return t()}))},t}(),ca=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))},la=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)}),(function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)}))}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&Ir(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((function(t,i){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,i)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,i)}}))},t.prototype.toPromise=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction((function(){return e(n)})):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction((function(){return e(n)})):t.reject(n)},t.resolve=function(e){return new t((function(t,n){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.waitFor=function(e){return new t((function(t,n){var r=0,i=0,s=!1;e.forEach((function(e){++r,e.next((function(){++i,s&&i===r&&t()}),(function(t){return n(t)}))})),s=!0,i===r&&t()}))},t.or=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next((function(n){return n?t.resolve(n):e()}))},i=0,s=e;i<s.length;i++)r(s[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach((function(t,i){r.push(e.call(n,t,i))})),this.waitFor(r)},t}(),ha=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.ft=new ca,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){e.error?n.ft.reject(new pa(t,e.error)):n.ft.resolve()},this.transaction.onerror=function(e){var r=ba(e.target.error);n.ft.reject(new pa(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new pa(n,e)}},Object.defineProperty(t.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(Sr("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new ma(e)},t}(),fa=function(){function t(e,n,r){this.name=e,this.version=n,this.wt=r,12.2===t._t(Object(c.i)())&&Er("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return Sr("SimpleDb","Removing database:",t),ya(window.indexedDB.deleteDatabase(t)).toPromise()},t.yt=function(){if("undefined"==typeof indexedDB)return!1;if(t.gt())return!0;var e=Object(c.i)(),n=t._t(e),r=0<n&&n<10,i=t.Et(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)},t.gt=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Tt)},t.It=function(t,e){return t.store(e)},t._t=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Et=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.At=function(t){return o(this,void 0,void 0,(function(){var e,n=this;return a(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(Sr("SimpleDb","Opening database:",this.name),e=this,[4,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new pa(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new br(vr.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new pa(t,n))},i.onupgradeneeded=function(t){Sr("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.wt.Rt(t.target.result,i.transaction,t.oldVersion,n.version).next((function(){Sr("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(t){return n.bt(t)}),this.db)]}}))}))},t.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return o(this,void 0,void 0,(function(){var i,s,o,u,c;return a(this,(function(l){switch(l.label){case 0:i="readonly"===e,s=0,o=function(){var e,o,c,l,h;return a(this,(function(a){switch(a.label){case 0:++s,a.label=1;case 1:return a.trys.push([1,4,,5]),[4,u.At(t)];case 2:return u.db=a.sent(),e=ha.open(u.db,t,i?"readonly":"readwrite",n),o=r(e).catch((function(t){return e.abort(t),la.reject(t)})).toPromise(),c={},o.catch((function(){})),[4,e.dt];case 3:return[2,(c.value=(a.sent(),o),c)];case 4:return Sr("SimpleDb","Transaction failed with error:",(l=a.sent()).message,"Retrying:",h="FirebaseError"!==l.name&&s<3),u.close(),h?[3,5]:[2,{value:Promise.reject(l)}];case 5:return[2]}}))},u=this,l.label=1;case 1:return[5,o()];case 2:if("object"==typeof(c=l.sent()))return[2,c.value];l.label=3;case 3:return[3,1];case 4:return[2]}}))}))},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),da=function(){function t(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Vt=!0},t.prototype.Ct=function(t){this.St=t},t.prototype.delete=function(){return ya(this.Pt.delete())},t}(),pa=function(t){function e(e,n){var r=this;return(r=t.call(this,vr.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return s(e,t),e}(br);function ga(t){return"IndexedDbTransactionError"===t.name}var ma=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(Sr("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(Sr("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),ya(n)},t.prototype.add=function(t){return Sr("SimpleDb","ADD",this.store.name,t,t),ya(this.store.add(t))},t.prototype.get=function(t){var e=this;return ya(this.store.get(t)).next((function(n){return void 0===n&&(n=null),Sr("SimpleDb","GET",e.store.name,t,n),n}))},t.prototype.delete=function(t){return Sr("SimpleDb","DELETE",this.store.name,t),ya(this.store.delete(t))},t.prototype.count=function(){return Sr("SimpleDb","COUNT",this.store.name),ya(this.store.count())},t.prototype.Nt=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.xt(n,(function(t,e){r.push(e)})).next((function(){return r}))},t.prototype.kt=function(t,e){Sr("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.Ft=!1;var r=this.cursor(n);return this.xt(r,(function(t,e,n){return n.delete()}))},t.prototype.$t=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.xt(r,e)},t.prototype.Ot=function(t){var e=this.cursor({});return new la((function(n,r){e.onerror=function(t){var e=ba(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next((function(t){t?r.continue():n()})):n()}}))},t.prototype.xt=function(t,e){var n=[];return new la((function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var s=new da(i),o=e(i.primaryKey,i.value,s);if(o instanceof la){var a=o.catch((function(t){return s.done(),la.reject(t)}));n.push(a)}s.isDone?r():null===s.Dt?i.continue():i.continue(s.Dt)}else r()}})).next((function(){return la.waitFor(n)}))},t.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.Ft?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function ya(t){return new la((function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=ba(t.target.error);n(e)}}))}var va=!1;function ba(t){var e=fa._t(Object(c.i)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new br("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return va||(va=!0,setTimeout((function(){throw r}),0)),r}}return t}var wa=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Mt=e,r.currentSequenceNumber=n,r}return s(e,t),e}(ua);function _a(t,e){var n=kr(t);return fa.It(n.Mt,e)}var Sa=function(){function t(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}return t.prototype.applyToRemoteDocument=function(t,e){for(var n=e.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(t.key)&&ws(i,t,n[r])}},t.prototype.applyToLocalView=function(t){for(var e=0,n=this.baseMutations;e<n.length;e++)(s=n[e]).key.isEqual(t.key)&&_s(s,t,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var s;(s=i[r]).key.isEqual(t.key)&&_s(s,t,this.localWriteTime)}},t.prototype.applyToLocalDocumentSet=function(t){var e=this;this.mutations.forEach((function(n){var r=t.get(n.key),i=r;e.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(Lr.min())}))},t.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),Ws())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&Dr(this.mutations,t.mutations,(function(t,e){return Es(t,e)}))&&Dr(this.baseMutations,t.baseMutations,(function(t,e){return Es(t,e)}))},t}(),Ea=function(){function t(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}return t.from=function(e,n,r){xr(e.mutations.length===r.length);for(var i=Ks(),s=e.mutations,o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new t(e,n,r,i)},t}(),Ta=function(){function t(t,e,n,r,i,s,o){void 0===i&&(i=Lr.min()),void 0===s&&(s=Lr.min()),void 0===o&&(o=Hr.EMPTY_BYTE_STRING),this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),Ca=function(t){this.Lt=t};function Ia(t,e){if(e.document)return To(t.Lt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=ti.fromSegments(e.noDocument.path),r=Na(e.noDocument.readTime),i=mi.newNoDocument(n,r);return e.hasCommittedMutations?i.setHasCommittedMutations():i}if(e.unknownDocument){var s=ti.fromSegments(e.unknownDocument.path);return r=Na(e.unknownDocument.version),mi.newUnknownDocument(s,r)}return Ir()}function xa(t,e,n){var r=ka(n),i=e.key.path.popLast().toArray();if(e.isFoundDocument()){var s=function(t,e){return{name:yo(t,e.key),fields:e.data.value.mapValue.fields,updateTime:lo(t,e.version.toTimestamp())}}(t.Lt,e),o=e.hasCommittedMutations;return new Xo(null,null,s,o,r,i)}if(e.isNoDocument()){var a=e.key.path.toArray(),u=Oa(e.version);return o=e.hasCommittedMutations,new Xo(null,new Wo(a,u),null,o,r,i)}if(e.isUnknownDocument()){var c=e.key.path.toArray(),l=Oa(e.version);return new Xo(new Yo(c,l),null,null,!0,r,i)}return Ir()}function ka(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Aa(t){var e=new Rr(t[0],t[1]);return Lr.fromTimestamp(e)}function Oa(t){var e=t.toTimestamp();return new Ho(e.seconds,e.nanoseconds)}function Na(t){var e=new Rr(t.seconds,t.nanoseconds);return Lr.fromTimestamp(e)}function Da(t,e){for(var n=(e.baseMutations||[]).map((function(e){return Io(t.Lt,e)})),r=0;r<e.mutations.length-1;++r)r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform&&(e.mutations[r].updateTransforms=e.mutations[r+1].transform.fieldTransforms,e.mutations.splice(r+1,1),++r);var i=e.mutations.map((function(e){return Io(t.Lt,e)})),s=Rr.fromMillis(e.localWriteTimeMs);return new Sa(e.batchId,s,n,i)}function Pa(t){var e,n,r=Na(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?Na(t.lastLimboFreeSnapshotVersion):Lr.min();return void 0!==t.query.documents?(xr(1===(n=t.query).documents.length),e=Gi(zi(wo(n.documents[0])))):e=function(t){return Gi(Ao(t))}(t.query),new Ta(e,t.targetId,0,t.lastListenSequenceNumber,r,i,Hr.fromBase64String(t.resumeToken))}function Ra(t,e){var n,r=Oa(e.snapshotVersion),i=Oa(e.lastLimboFreeSnapshotVersion);n=_i(e.target)?xo(t.Lt,e.target):ko(t.Lt,e.target);var s=e.resumeToken.toBase64();return new Zo(e.targetId,bi(e.target),r,s,e.sequenceNumber,i,n)}function La(t){var e=Ao({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Ki(e,e.limit,"L"):e}var Fa=function(){function t(){}return t.prototype.getBundleMetadata=function(t,e){return Ma(t).get(e).next((function(t){if(t)return{id:(e=t).bundleId,createTime:Na(e.createTime),version:e.version};var e}))},t.prototype.saveBundleMetadata=function(t,e){return Ma(t).put({bundleId:(n=e).id,createTime:Oa(po(n.createTime)),version:n.version});var n},t.prototype.getNamedQuery=function(t,e){return ja(t).get(e).next((function(t){if(t)return{name:(e=t).name,query:La(e.bundledQuery),readTime:Na(e.readTime)};var e}))},t.prototype.saveNamedQuery=function(t,e){return ja(t).put(function(t){return{name:t.name,readTime:Oa(po(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function Ma(t){return _a(t,ia.store)}function ja(t){return _a(t,sa.store)}var za=function(){function t(){this.Bt=new Ua}return t.prototype.addToCollectionParentIndex=function(t,e){return this.Bt.add(e),la.resolve()},t.prototype.getCollectionParents=function(t,e){return la.resolve(this.Bt.getEntries(e))},t}(),Ua=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new Us(Ur.comparator),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new Us(Ur.comparator)).toArray()},t}(),Va=function(){function t(){this.qt=new Ua}return t.prototype.addToCollectionParentIndex=function(t,e){var n=this;if(!this.qt.has(e)){var r=e.lastSegment(),i=e.popLast();t.addOnCommittedListener((function(){n.qt.add(e)}));var s={collectionId:r,parent:Uo(i)};return qa(t).put(s)}return la.resolve()},t.prototype.getCollectionParents=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[Pr(e),""],!1,!0);return qa(t).Nt(r).next((function(t){for(var r=0,i=t;r<i.length;r++){var s=i[r];if(s.collectionId!==e)break;n.push(Bo(s.parent))}return n}))},t}();function qa(t){return _a(t,na.store)}var Ba={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Ha=function(){function t(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();function $a(t,e,n){var r=t.store(Ko.store),i=t.store(Qo.store),s=[],o=IDBKeyRange.only(n.batchId),a=0,u=r.$t({range:o},(function(t,e,n){return a++,n.delete()}));s.push(u.next((function(){xr(1===a)})));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=Qo.key(e,f.key.path,n.batchId);s.push(i.delete(d)),c.push(f.key)}return la.waitFor(s).next((function(){return c}))}function Ga(t){if(!t)return 0;var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Ir();e=t.noDocument}return JSON.stringify(e).length}Ha.DEFAULT_COLLECTION_PERCENTILE=10,Ha.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ha.DEFAULT=new Ha(41943040,Ha.DEFAULT_COLLECTION_PERCENTILE,Ha.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ha.DISABLED=new Ha(-1,0,0);var Ka=function(){function t(t,e,n,r){this.userId=t,this.R=e,this.Ut=n,this.referenceDelegate=r,this.Kt={}}return t.Qt=function(e,n,r,i){return xr(""!==e.uid),new t(e.isAuthenticated()?e.uid:"",n,r,i)},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Wa(t).$t({index:Ko.userMutationsIndex,range:n},(function(t,n,r){e=!1,r.done()})).next((function(){return e}))},t.prototype.addMutationBatch=function(t,e,n,r){var i=this,s=Ya(t),o=Wa(t);return o.add({}).next((function(a){xr("number"==typeof a);for(var u=new Sa(a,e,n,r),c=function(t,e,n){var r=n.baseMutations.map((function(e){return Co(t.Lt,e)})),i=n.mutations.map((function(e){return Co(t.Lt,e)}));return new Ko(e,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,u),l=[],h=new Us((function(t,e){return Nr(t.canonicalString(),e.canonicalString())})),f=0,d=r;f<d.length;f++){var p=d[f],g=Qo.key(i.userId,p.key.path,a);h=h.add(p.key.path.popLast()),l.push(o.put(c)),l.push(s.put(g,Qo.PLACEHOLDER))}return h.forEach((function(e){l.push(i.Ut.addToCollectionParentIndex(t,e))})),t.addOnCommittedListener((function(){i.Kt[a]=u.keys()})),la.waitFor(l).next((function(){return u}))}))},t.prototype.lookupMutationBatch=function(t,e){var n=this;return Wa(t).get(e).next((function(t){return t?(xr(t.userId===n.userId),Da(n.R,t)):null}))},t.prototype.jt=function(t,e){var n=this;return this.Kt[e]?la.resolve(this.Kt[e]):this.lookupMutationBatch(t,e).next((function(t){if(t){var r=t.keys();return n.Kt[e]=r,r}return null}))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),s=null;return Wa(t).$t({index:Ko.userMutationsIndex,range:i},(function(t,e,i){e.userId===n.userId&&(xr(e.batchId>=r),s=Da(n.R,e)),i.done()})).next((function(){return s}))},t.prototype.getHighestUnacknowledgedBatchId=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Wa(t).$t({index:Ko.userMutationsIndex,range:e,reverse:!0},(function(t,e,r){n=e.batchId,r.done()})).next((function(){return n}))},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Wa(t).Nt(Ko.userMutationsIndex,n).next((function(t){return t.map((function(t){return Da(e.R,t)}))}))},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=Qo.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),s=[];return Ya(t).$t({range:i},(function(r,i,o){var a=r[0],u=r[2],c=Bo(r[1]);if(a===n.userId&&e.path.isEqual(c))return Wa(t).get(u).next((function(t){if(!t)throw Ir();xr(t.userId===n.userId),s.push(Da(n.R,t))}));o.done()})).next((function(){return s}))},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new Us(Nr),i=[];return e.forEach((function(e){var s=Qo.prefixForPath(n.userId,e.path),o=IDBKeyRange.lowerBound(s),a=Ya(t).$t({range:o},(function(t,i,s){var o=t[0],a=t[2],u=Bo(t[1]);o===n.userId&&e.path.isEqual(u)?r=r.add(a):s.done()}));i.push(a)})),la.waitFor(i).next((function(){return n.Wt(t,r)}))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this,r=e.path,i=r.length+1,s=Qo.prefixForPath(this.userId,r),o=IDBKeyRange.lowerBound(s),a=new Us(Nr);return Ya(t).$t({range:o},(function(t,e,s){var o=t[0],u=t[2],c=Bo(t[1]);o===n.userId&&r.isPrefixOf(c)?c.length===i&&(a=a.add(u)):s.done()})).next((function(){return n.Wt(t,a)}))},t.prototype.Wt=function(t,e){var n=this,r=[],i=[];return e.forEach((function(e){i.push(Wa(t).get(e).next((function(t){if(null===t)throw Ir();xr(t.userId===n.userId),r.push(Da(n.R,t))})))})),la.waitFor(i).next((function(){return r}))},t.prototype.removeMutationBatch=function(t,e){var n=this;return $a(t.Mt,this.userId,e).next((function(r){return t.addOnCommittedListener((function(){n.Gt(e.batchId)})),la.forEach(r,(function(e){return n.referenceDelegate.markPotentiallyOrphaned(t,e)}))}))},t.prototype.Gt=function(t){delete this.Kt[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next((function(n){if(!n)return la.resolve();var r=IDBKeyRange.lowerBound(Qo.prefixForUser(e.userId)),i=[];return Ya(t).$t({range:r},(function(t,n,r){if(t[0]===e.userId){var s=Bo(t[1]);i.push(s)}else r.done()})).next((function(){xr(0===i.length)}))}))},t.prototype.containsKey=function(t,e){return Qa(t,this.userId,e)},t.prototype.zt=function(t){var e=this;return Xa(t).get(this.userId).next((function(t){return t||new Go(e.userId,-1,"")}))},t}();function Qa(t,e,n){var r=Qo.prefixForPath(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r),o=!1;return Ya(t).$t({range:s,Ft:!0},(function(t,n,r){t[0]===e&&t[1]===i&&(o=!0),r.done()})).next((function(){return o}))}function Wa(t){return _a(t,Ko.store)}function Ya(t){return _a(t,Qo.store)}function Xa(t){return _a(t,Go.store)}var Ja=function(){function t(t){this.Ht=t}return t.prototype.next=function(){return this.Ht+=2,this.Ht},t.Jt=function(){return new t(0)},t.Yt=function(){return new t(-1)},t}(),Za=function(){function t(t,e){this.referenceDelegate=t,this.R=e}return t.prototype.allocateTargetId=function(t){var e=this;return this.Xt(t).next((function(n){var r=new Ja(n.highestTargetId);return n.highestTargetId=r.next(),e.Zt(t,n).next((function(){return n.highestTargetId}))}))},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next((function(t){return Lr.fromTimestamp(new Rr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},t.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next((function(t){return t.highestListenSequenceNumber}))},t.prototype.setTargetsMetadata=function(t,e,n){var r=this;return this.Xt(t).next((function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Zt(t,i)}))},t.prototype.addTargetData=function(t,e){var n=this;return this.te(t,e).next((function(){return n.Xt(t).next((function(r){return r.targetCount+=1,n.ee(e,r),n.Zt(t,r)}))}))},t.prototype.updateTargetData=function(t,e){return this.te(t,e)},t.prototype.removeTargetData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next((function(){return tu(t).delete(e.targetId)})).next((function(){return n.Xt(t)})).next((function(e){return xr(e.targetCount>0),e.targetCount-=1,n.Zt(t,e)}))},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,s=[];return tu(t).$t((function(o,a){var u=Pa(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,s.push(r.removeTargetData(t,u)))})).next((function(){return la.waitFor(s)})).next((function(){return i}))},t.prototype.forEachTarget=function(t,e){return tu(t).$t((function(t,n){var r=Pa(n);e(r)}))},t.prototype.Xt=function(t){return eu(t).get(ea.key).next((function(t){return xr(null!==t),t}))},t.prototype.Zt=function(t,e){return eu(t).put(ea.key,e)},t.prototype.te=function(t,e){return tu(t).put(Ra(this.R,e))},t.prototype.ee=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.getTargetCount=function(t){return this.Xt(t).next((function(t){return t.targetCount}))},t.prototype.getTargetData=function(t,e){var n=bi(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return tu(t).$t({range:r,index:Zo.queryTargetsIndexName},(function(t,n,r){var s=Pa(n);wi(e,s.target)&&(i=s,r.done())})).next((function(){return i}))},t.prototype.addMatchingKeys=function(t,e,n){var r=this,i=[],s=nu(t);return e.forEach((function(e){var o=Uo(e.path);i.push(s.put(new ta(n,o))),i.push(r.referenceDelegate.addReference(t,n,e))})),la.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,i=nu(t);return la.forEach(e,(function(e){var s=Uo(e.path);return la.waitFor([i.delete([n,s]),r.referenceDelegate.removeReference(t,n,e)])}))},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=nu(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=nu(t),i=Ws();return r.$t({range:n,Ft:!0},(function(t,e,n){var r=Bo(t[1]),s=new ti(r);i=i.add(s)})).next((function(){return i}))},t.prototype.containsKey=function(t,e){var n=Uo(e.path),r=IDBKeyRange.bound([n],[Pr(n)],!1,!0),i=0;return nu(t).$t({index:ta.documentTargetsIndex,Ft:!0,range:r},(function(t,e,n){0!==t[0]&&(i++,n.done())})).next((function(){return i>0}))},t.prototype.lt=function(t,e){return tu(t).get(e).next((function(t){return t?Pa(t):null}))},t}();function tu(t){return _a(t,Zo.store)}function eu(t){return _a(t,ea.store)}function nu(t){return _a(t,ta.store)}function ru(t){return o(this,void 0,void 0,(function(){return a(this,(function(e){if(t.code!==vr.FAILED_PRECONDITION||t.message!==aa)throw t;return Sr("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}function iu(t,e){var n=t[1],r=e[1],i=Nr(t[0],e[0]);return 0===i?Nr(n,r):i}var su=function(){function t(t){this.ne=t,this.buffer=new Us(iu),this.se=0}return t.prototype.ie=function(){return++this.se},t.prototype.re=function(t){var e=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();iu(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),ou=function(){function t(t,e){this.garbageCollector=t,this.asyncQueue=e,this.oe=!1,this.ce=null}return t.prototype.start=function(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(t)},t.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),t.prototype.ue=function(t){var e=this,n=this.oe?3e5:6e4;Sr("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(function(){return o(e,void 0,void 0,(function(){var e;return a(this,(function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return ga(e=n.sent())?(Sr("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,ru(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return n.sent(),[2]}}))}))}))},t}(),au=function(){function t(t,e){this.ae=t,this.params=e}return t.prototype.calculateTargetCount=function(t,e){return this.ae.he(t).next((function(t){return Math.floor(e/100*t)}))},t.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return la.resolve(yr.o);var r=new su(e);return this.ae.forEachTarget(t,(function(t){return r.re(t.sequenceNumber)})).next((function(){return n.ae.le(t,(function(t){return r.re(t)}))})).next((function(){return r.maxValue}))},t.prototype.removeTargets=function(t,e,n){return this.ae.removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){return this.ae.removeOrphanedDocuments(t,e)},t.prototype.collect=function(t,e){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Sr("LruGarbageCollector","Garbage collection skipped; disabled"),la.resolve(Ba)):this.getCacheSize(t).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(Sr("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),Ba):n.fe(t,e)}))},t.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},t.prototype.fe=function(t,e){var n,r,i,s,o,a,u,c=this,h=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((function(e){return e>c.params.maximumSequenceNumbersToCollect?(Sr("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+e),r=c.params.maximumSequenceNumbersToCollect):r=e,s=Date.now(),c.nthSequenceNumber(t,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(t,n,e)})).next((function(e){return i=e,a=Date.now(),c.removeOrphanedDocuments(t,n)})).next((function(t){return u=Date.now(),_r()<=l.a.DEBUG&&Sr("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(s-h)+"ms\n\tDetermined least recently used "+r+" in "+(o-s)+"ms\n\tRemoved "+i+" targets in "+(a-o)+"ms\n\tRemoved "+t+" documents in "+(u-a)+"ms\nTotal Duration: "+(u-h)+"ms"),la.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:t})}))},t}(),uu=function(){function t(t,e){this.db=t,this.garbageCollector=function(t,e){return new au(t,e)}(this,e)}return t.prototype.he=function(t){var e=this.de(t);return this.db.getTargetCache().getTargetCount(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.de=function(t){var e=0;return this.le(t,(function(t){e++})).next((function(){return e}))},t.prototype.forEachTarget=function(t,e){return this.db.getTargetCache().forEachTarget(t,e)},t.prototype.le=function(t,e){return this.we(t,(function(t,n){return e(n)}))},t.prototype.addReference=function(t,e,n){return cu(t,n)},t.prototype.removeReference=function(t,e,n){return cu(t,n)},t.prototype.removeTargets=function(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)},t.prototype.markPotentiallyOrphaned=function(t,e){return cu(t,e)},t.prototype._e=function(t,e){return function(t,e){var n=!1;return Xa(t).Ot((function(r){return Qa(t,r,e).next((function(t){return t&&(n=!0),la.resolve(!t)}))})).next((function(){return n}))}(t,e)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],s=0;return this.we(t,(function(o,a){if(a<=e){var u=n._e(t,o).next((function(e){if(!e)return s++,r.getEntry(t,o).next((function(){return r.removeEntry(o),nu(t).delete([0,Uo(o.path)])}))}));i.push(u)}})).next((function(){return la.waitFor(i)})).next((function(){return r.apply(t)})).next((function(){return s}))},t.prototype.removeTarget=function(t,e){var n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,n)},t.prototype.updateLimboDocument=function(t,e){return cu(t,e)},t.prototype.we=function(t,e){var n,r=nu(t),i=yr.o;return r.$t({index:ta.documentTargetsIndex},(function(t,r){var s=r.path,o=r.sequenceNumber;0===t[0]?(i!==yr.o&&e(new ti(Bo(n)),i),i=o,n=s):i=yr.o})).next((function(){i!==yr.o&&e(new ti(Bo(n)),i)}))},t.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},t}();function cu(t,e){return nu(t).put(function(t,e){return new ta(0,Uo(t.path),e)}(e,t.currentSequenceNumber))}var lu=function(){function t(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var s=i[r],o=s[1];if(this.equalsFn(s[0],t))return o}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){Mr(this.inner,(function(e,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];t(s[0],s[1])}}))},t.prototype.isEmpty=function(){return jr(this.inner)},t}(),hu=function(){function t(){this.changes=new lu((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),this.changesApplied=!1}return t.prototype.getReadTime=function(t){var e=this.changes.get(t);return e?e.readTime:Lr.min()},t.prototype.addEntry=function(t,e){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:e})},t.prototype.removeEntry=function(t,e){void 0===e&&(e=null),this.assertNotApplied(),this.changes.set(t,{document:mi.newInvalidDocument(t),readTime:e})},t.prototype.getEntry=function(t,e){this.assertNotApplied();var n=this.changes.get(e);return void 0!==n?la.resolve(n.document):this.getFromCache(t,e)},t.prototype.getEntries=function(t,e){return this.getAllFromCache(t,e)},t.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},t.prototype.assertNotApplied=function(){},t}(),fu=function(){function t(t,e){this.R=t,this.Ut=e}return t.prototype.addEntry=function(t,e,n){return gu(t).put(mu(e),n)},t.prototype.removeEntry=function(t,e){var n=gu(t),r=mu(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(r){return r.byteSize+=e,n.me(t,r)}))},t.prototype.getEntry=function(t,e){var n=this;return gu(t).get(mu(e)).next((function(t){return n.ye(e,t)}))},t.prototype.ge=function(t,e){var n=this;return gu(t).get(mu(e)).next((function(t){return{document:n.ye(e,t),size:Ga(t)}}))},t.prototype.getEntries=function(t,e){var n=this,r=Bs();return this.pe(t,e,(function(t,e){var i=n.ye(t,e);r=r.insert(t,i)})).next((function(){return r}))},t.prototype.Ee=function(t,e){var n=this,r=Bs(),i=new Ms(ti.comparator);return this.pe(t,e,(function(t,e){var s=n.ye(t,e);r=r.insert(t,s),i=i.insert(t,Ga(e))})).next((function(){return{documents:r,Te:i}}))},t.prototype.pe=function(t,e,n){if(e.isEmpty())return la.resolve();var r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),i=e.getIterator(),s=i.getNext();return gu(t).$t({range:r},(function(t,e,r){for(var o=ti.fromSegments(t);s&&ti.comparator(s,o)<0;)n(s,null),s=i.getNext();s&&s.isEqual(o)&&(n(s,e),s=i.hasNext()?i.getNext():null),s?r.Ct(s.path.toArray()):r.done()})).next((function(){for(;s;)n(s,null),s=i.hasNext()?i.getNext():null}))},t.prototype.getDocumentsMatchingQuery=function(t,e,n){var r=this,i=Bs(),s=e.path.length+1,o={};if(n.isEqual(Lr.min())){var a=e.path.toArray();o.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.toArray(),c=ka(n);o.range=IDBKeyRange.lowerBound([u,c],!0),o.index=Xo.collectionReadTimeIndex}return gu(t).$t(o,(function(t,n,o){if(t.length===s){var a=Ia(r.R,n);e.path.isPrefixOf(a.key.path)?Xi(e,a)&&(i=i.insert(a.key,a)):o.done()}})).next((function(){return i}))},t.prototype.newChangeBuffer=function(t){return new du(this,!!t&&t.trackRemovals)},t.prototype.getSize=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},t.prototype.getMetadata=function(t){return pu(t).get(Jo.key).next((function(t){return xr(!!t),t}))},t.prototype.me=function(t,e){return pu(t).put(Jo.key,e)},t.prototype.ye=function(t,e){if(e){var n=Ia(this.R,e);if(!n.isNoDocument()||!n.version.isEqual(Lr.min()))return n}return mi.newInvalidDocument(t)},t}(),du=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Ie=e,r.trackRemovals=n,r.Ae=new lu((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),r}return s(e,t),e.prototype.applyChanges=function(t){var e=this,n=[],r=0,i=new Us((function(t,e){return Nr(t.canonicalString(),e.canonicalString())}));return this.changes.forEach((function(s,o){var a=e.Ae.get(s);if(o.document.isValidDocument()){var u=xa(e.Ie.R,o.document,e.getReadTime(s));i=i.add(s.path.popLast());var c=Ga(u);r+=c-a,n.push(e.Ie.addEntry(t,s,u))}else if(r-=a,e.trackRemovals){var l=xa(e.Ie.R,mi.newNoDocument(s,Lr.min()),e.getReadTime(s));n.push(e.Ie.addEntry(t,s,l))}else n.push(e.Ie.removeEntry(t,s))})),i.forEach((function(r){n.push(e.Ie.Ut.addToCollectionParentIndex(t,r))})),n.push(this.Ie.updateMetadata(t,r)),la.waitFor(n)},e.prototype.getFromCache=function(t,e){var n=this;return this.Ie.ge(t,e).next((function(t){return n.Ae.set(e,t.size),t.document}))},e.prototype.getAllFromCache=function(t,e){var n=this;return this.Ie.Ee(t,e).next((function(t){var e=t.documents;return t.Te.forEach((function(t,e){n.Ae.set(t,e)})),e}))},e}(hu);function pu(t){return _a(t,Jo.store)}function gu(t){return _a(t,Xo.store)}function mu(t){return t.path.toArray()}var yu=function(){function t(t){this.R=t}return t.prototype.Rt=function(t,e,n,r){var i=this;xr(n<r&&n>=0&&r<=11);var s=new ha("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore($o.store)}(t),function(t){t.createObjectStore(Go.store,{keyPath:Go.keyPath}),t.createObjectStore(Ko.store,{keyPath:Ko.keyPath,autoIncrement:!0}).createIndex(Ko.userMutationsIndex,Ko.userMutationsKeyPath,{unique:!0}),t.createObjectStore(Qo.store)}(t),vu(t),function(t){t.createObjectStore(Xo.store)}(t));var o=la.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(ta.store),t.deleteObjectStore(Zo.store),t.deleteObjectStore(ea.store)}(t),vu(t)),o=o.next((function(){return function(t){var e=t.store(ea.store),n=new ea(0,0,Lr.min().toTimestamp(),0);return e.put(ea.key,n)}(s)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(t,e){return e.store(Ko.store).Nt().next((function(n){t.deleteObjectStore(Ko.store),t.createObjectStore(Ko.store,{keyPath:Ko.keyPath,autoIncrement:!0}).createIndex(Ko.userMutationsIndex,Ko.userMutationsKeyPath,{unique:!0});var r=e.store(Ko.store),i=n.map((function(t){return r.put(t)}));return la.waitFor(i)}))}(t,s)}))),o=o.next((function(){!function(t){t.createObjectStore(ra.store,{keyPath:ra.keyPath})}(t)}))),n<5&&r>=5&&(o=o.next((function(){return i.Re(s)}))),n<6&&r>=6&&(o=o.next((function(){return function(t){t.createObjectStore(Jo.store)}(t),i.be(s)}))),n<7&&r>=7&&(o=o.next((function(){return i.ve(s)}))),n<8&&r>=8&&(o=o.next((function(){return i.Pe(t,s)}))),n<9&&r>=9&&(o=o.next((function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(Xo.store);e.createIndex(Xo.readTimeIndex,Xo.readTimeIndexPath,{unique:!1}),e.createIndex(Xo.collectionReadTimeIndex,Xo.collectionReadTimeIndexPath,{unique:!1})}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.Ve(s)}))),n<11&&r>=11&&(o=o.next((function(){!function(t){t.createObjectStore(ia.store,{keyPath:ia.keyPath})}(t),function(t){t.createObjectStore(sa.store,{keyPath:sa.keyPath})}(t)}))),o},t.prototype.be=function(t){var e=0;return t.store(Xo.store).$t((function(t,n){e+=Ga(n)})).next((function(){var n=new Jo(e);return t.store(Jo.store).put(Jo.key,n)}))},t.prototype.Re=function(t){var e=this,n=t.store(Go.store),r=t.store(Ko.store);return n.Nt().next((function(n){return la.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(Ko.userMutationsIndex,i).next((function(r){return la.forEach(r,(function(r){xr(r.userId===n.userId);var i=Da(e.R,r);return $a(t,n.userId,i).next((function(){}))}))}))}))}))},t.prototype.ve=function(t){var e=t.store(ta.store),n=t.store(Xo.store);return t.store(ea.store).get(ea.key).next((function(t){var r=[];return n.$t((function(n,i){var s=new Ur(n),o=function(t){return[0,Uo(t)]}(s);r.push(e.get(o).next((function(n){return n?la.resolve():function(n){return e.put(new ta(0,Uo(n),t.highestListenSequenceNumber))}(s)})))})).next((function(){return la.waitFor(r)}))}))},t.prototype.Pe=function(t,e){t.createObjectStore(na.store,{keyPath:na.keyPath});var n=e.store(na.store),r=new Ua,i=function(t){if(r.add(t)){var e=t.lastSegment(),i=t.popLast();return n.put({collectionId:e,parent:Uo(i)})}};return e.store(Xo.store).$t({Ft:!0},(function(t,e){var n=new Ur(t);return i(n.popLast())})).next((function(){return e.store(Qo.store).$t({Ft:!0},(function(t,e){var n=Bo(t[1]);return i(n.popLast())}))}))},t.prototype.Ve=function(t){var e=this,n=t.store(Zo.store);return n.$t((function(t,r){var i=Pa(r),s=Ra(e.R,i);return n.put(s)}))},t}();function vu(t){t.createObjectStore(ta.store,{keyPath:ta.keyPath}).createIndex(ta.documentTargetsIndex,ta.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Zo.store,{keyPath:Zo.keyPath}).createIndex(Zo.queryTargetsIndexName,Zo.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(ea.store)}var bu="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",wu=function(){function t(e,n,r,i,s,o,a,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Se=s,this.window=o,this.document=a,this.De=c,this.Ce=l,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(t){return Promise.resolve()},!t.yt())throw new br(vr.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new uu(this,i),this.Le=n+"main",this.R=new Ca(u),this.Be=new fa(this.Le,11,new yu(this.R)),this.qe=new Za(this.referenceDelegate,this.R),this.Ut=new Va,this.Ue=function(t,e){return new fu(t,e)}(this.R,this.Ut),this.Ke=new Fa,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,!1===l&&Er("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.je().then((function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new br(vr.FAILED_PRECONDITION,bu);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",(function(e){return t.qe.getHighestSequenceNumber(e)}))})).then((function(e){t.Ne=new yr(e,t.De)})).then((function(){t.xe=!0})).catch((function(e){return t.Be&&t.Be.close(),Promise.reject(e)}))},t.prototype.He=function(t){var e=this;return this.Me=function(n){return o(e,void 0,void 0,(function(){return a(this,(function(e){return this.started?[2,t(n)]:[2]}))}))},t(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(t){var e=this;this.Be.vt((function(n){return o(e,void 0,void 0,(function(){return a(this,(function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget((function(){return o(e,void 0,void 0,(function(){return a(this,(function(t){switch(t.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},t.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(e){return Su(e).put(new ra(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t.Je(e).next((function(e){e||(t.isPrimary=!1,t.Se.enqueueRetryable((function(){return t.Me(!1)})))}))})).next((function(){return t.Ye(e)})).next((function(n){return t.isPrimary&&!n?t.Xe(e).next((function(){return!1})):!!n&&t.Ze(e).next((function(){return!0}))}))})).catch((function(e){if(ga(e))return Sr("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return Sr("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t.Se.enqueueRetryable((function(){return t.Me(e)})),t.isPrimary=e}))},t.prototype.Je=function(t){var e=this;return _u(t).get($o.key).next((function(t){return la.resolve(e.tn(t))}))},t.prototype.en=function(t){return Su(t).delete(this.clientId)},t.prototype.nn=function(){return o(this,void 0,void 0,(function(){var t,e,n,r=this;return a(this,(function(i){switch(i.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(t){var e=_a(t,ra.store);return e.Nt().next((function(t){var n=r.rn(t,18e5),i=t.filter((function(t){return-1===n.indexOf(t)}));return la.forEach(i,(function(t){return e.delete(t.clientId)})).next((function(){return i}))}))})).catch((function(){return[]}))]);case 1:if(t=i.sent(),this.Qe)for(e=0,n=t;e<n.length;e++)this.Qe.removeItem(this.on(n[e].clientId));i.label=2;case 2:return[2]}}))}))},t.prototype.ze=function(){var t=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return t.je().then((function(){return t.nn()})).then((function(){return t.ze()}))}))},t.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.Ye=function(t){var e=this;return this.Ce?la.resolve(!0):_u(t).get($o.key).next((function(n){if(null!==n&&e.sn(n.leaseTimestampMs,5e3)&&!e.cn(n.ownerId)){if(e.tn(n)&&e.networkEnabled)return!0;if(!e.tn(n)){if(!n.allowTabSynchronization)throw new br(vr.FAILED_PRECONDITION,bu);return!1}}return!(!e.networkEnabled||!e.inForeground)||Su(t).Nt().next((function(t){return void 0===e.rn(t,5e3).find((function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))}))}))})).next((function(t){return e.isPrimary!==t&&Sr("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},t.prototype.shutdown=function(){return o(this,void 0,void 0,(function(){var t=this;return a(this,(function(e){switch(e.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[$o.store,ra.store],(function(e){var n=new wa(e,yr.o);return t.Xe(n).next((function(){return t.en(n)}))}))];case 1:return e.sent(),this.Be.close(),this.ln(),[2]}}))}))},t.prototype.rn=function(t,e){var n=this;return t.filter((function(t){return n.sn(t.updateTimeMs,e)&&!n.cn(t.clientId)}))},t.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",(function(e){return Su(e).Nt().next((function(e){return t.rn(e,18e5).map((function(t){return t.clientId}))}))}))},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(t){return Ka.Qt(t,this.R,this.Ut,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getBundleCache=function(){return this.Ke},t.prototype.runTransaction=function(t,e,n){var r,i=this;return Sr("IndexedDbPersistence","Starting transaction:",t),this.Be.runTransaction(t,"readonly"===e?"readonly":"readwrite",oa,(function(s){return r=new wa(s,i.Ne?i.Ne.next():yr.o),"readwrite-primary"===e?i.Je(r).next((function(t){return!!t||i.Ye(r)})).next((function(e){if(!e)throw Er("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Se.enqueueRetryable((function(){return i.Me(!1)})),new br(vr.FAILED_PRECONDITION,aa);return n(r)})).next((function(t){return i.Ze(r).next((function(){return t}))})):i.dn(r).next((function(){return n(r)}))})).then((function(t){return r.raiseOnCommittedEvent(),t}))},t.prototype.dn=function(t){var e=this;return _u(t).get($o.key).next((function(t){if(null!==t&&e.sn(t.leaseTimestampMs,5e3)&&!e.cn(t.ownerId)&&!e.tn(t)&&!(e.Ce||e.allowTabSynchronization&&t.allowTabSynchronization))throw new br(vr.FAILED_PRECONDITION,bu)}))},t.prototype.Ze=function(t){var e=new $o(this.clientId,this.allowTabSynchronization,Date.now());return _u(t).put($o.key,e)},t.yt=function(){return fa.yt()},t.prototype.Xe=function(t){var e=this,n=_u(t);return n.get($o.key).next((function(t){return e.tn(t)?(Sr("IndexedDbPersistence","Releasing primary lease."),n.delete($o.key)):la.resolve()}))},t.prototype.sn=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(Er("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.We=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Fe=function(){t.Se.enqueueAndForget((function(){return t.inForeground="visible"===t.document.visibilityState,t.je()}))},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground="visible"===this.document.visibilityState)},t.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},t.prototype.Ge=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.ke=function(){e.un(),Object(c.q)()&&navigator.appVersion.match("Version/14")&&e.Se.enterRestrictedMode(!0),e.Se.enqueueAndForget((function(){return e.shutdown()}))},this.window.addEventListener("pagehide",this.ke))},t.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},t.prototype.cn=function(t){var e;try{var n=null!==(null===(e=this.Qe)||void 0===e?void 0:e.getItem(this.on(t)));return Sr("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return Er("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(t){Er("Failed to set zombie client id.",t)}},t.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch(t){}},t.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function _u(t){return _a(t,$o.store)}function Su(t){return _a(t,ra.store)}function Eu(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var Tu=function(t,e){this.progress=t,this.wn=e},Cu=function(){function t(t,e,n){this.Ue=t,this._n=e,this.Ut=n}return t.prototype.mn=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,e).next((function(r){return n.yn(t,e,r)}))},t.prototype.yn=function(t,e,n){return this.Ue.getEntry(t,e).next((function(t){for(var e=0,r=n;e<r.length;e++)r[e].applyToLocalView(t);return t}))},t.prototype.gn=function(t,e){t.forEach((function(t,n){for(var r=0,i=e;r<i.length;r++)i[r].applyToLocalView(n)}))},t.prototype.pn=function(t,e){var n=this;return this.Ue.getEntries(t,e).next((function(e){return n.En(t,e).next((function(){return e}))}))},t.prototype.En=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,e).next((function(t){return n.gn(e,t)}))},t.prototype.getDocumentsMatchingQuery=function(t,e,n){return function(t){return ti.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Tn(t,e.path):Hi(e)?this.In(t,e,n):this.An(t,e,n)},t.prototype.Tn=function(t,e){return this.mn(t,new ti(e)).next((function(t){var e=$s();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e}))},t.prototype.In=function(t,e,n){var r=this,i=e.collectionGroup,s=$s();return this.Ut.getCollectionParents(t,i).next((function(o){return la.forEach(o,(function(o){var a=function(t,e){return new Mi(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,o.child(i));return r.An(t,a,n).next((function(t){t.forEach((function(t,e){s=s.insert(t,e)}))}))})).next((function(){return s}))}))},t.prototype.An=function(t,e,n){var r,i,s=this;return this.Ue.getDocumentsMatchingQuery(t,e,n).next((function(n){return r=n,s._n.getAllMutationBatchesAffectingQuery(t,e)})).next((function(e){return s.Rn(t,i=e,r).next((function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var s=n[e],o=0,a=s.mutations;o<a.length;o++){var u=a[o],c=u.key,l=r.get(c);null==l&&(l=mi.newInvalidDocument(c),r=r.insert(c,l)),_s(u,l,s.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}}))})).next((function(){return r.forEach((function(t,n){Xi(e,n)||(r=r.remove(t))})),r}))},t.prototype.Rn=function(t,e,n){for(var r=Ws(),i=0,s=e;i<s.length;i++)for(var o=0,a=s[i].mutations;o<a.length;o++){var u=a[o];u instanceof Is&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Ue.getEntries(t,r).next((function(t){return t.forEach((function(t,e){e.isFoundDocument()&&(c=c.insert(t,e))})),c}))},t}(),Iu=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.bn=n,this.vn=r}return t.Pn=function(e,n){for(var r=Ws(),i=Ws(),s=0,o=n.docChanges;s<o.length;s++){var a=o[s];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),xu=function(){function t(){}return t.prototype.Vn=function(t){this.Sn=t},t.prototype.getDocumentsMatchingQuery=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}(e)||n.isEqual(Lr.min())?this.Dn(t,e):this.Sn.pn(t,r).next((function(s){var o=i.Cn(e,s);return(Ui(e)||Vi(e))&&i.Nn(e.limitType,o,r,n)?i.Dn(t,e):(_r()<=l.a.DEBUG&&Sr("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Yi(e)),i.Sn.getDocumentsMatchingQuery(t,e,n).next((function(t){return o.forEach((function(e){t=t.insert(e.key,e)})),t})))}))},t.prototype.Cn=function(t,e){var n=new Us(Ji(t));return e.forEach((function(e,r){Xi(t,r)&&(n=n.add(r))})),n},t.prototype.Nn=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},t.prototype.Dn=function(t,e){return _r()<=l.a.DEBUG&&Sr("QueryEngine","Using full collection scan to execute query:",Yi(e)),this.Sn.getDocumentsMatchingQuery(t,e,Lr.min())},t}(),ku=function(){function t(t,e,n,r){this.persistence=t,this.xn=e,this.R=r,this.kn=new Ms(Nr),this.Fn=new lu((function(t){return bi(t)}),wi),this.$n=Lr.min(),this._n=t.getMutationQueue(n),this.On=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new Cu(this.On,this._n,this.persistence.getIndexManager()),this.Ke=t.getBundleCache(),this.xn.Vn(this.Mn)}return t.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return t.collect(n,e.kn)}))},t}();function Au(t,e,n,r){return new ku(t,e,n,r)}function Ou(t,e){return o(this,void 0,void 0,(function(){var n,r,i,s;return a(this,(function(o){switch(o.label){case 0:return n=kr(t),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",(function(t){var s;return n._n.getAllMutationBatches(t).next((function(o){return s=o,r=n.persistence.getMutationQueue(e),i=new Cu(n.On,r,n.persistence.getIndexManager()),r.getAllMutationBatches(t)})).next((function(e){for(var n=[],r=[],o=Ws(),a=0,u=s;a<u.length;a++){var c=u[a];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++)o=o.add(h[l].key)}for(var f=0,d=e;f<d.length;f++){var p=d[f];r.push(p.batchId);for(var g=0,m=p.mutations;g<m.length;g++)o=o.add(m[g].key)}return i.pn(t,o).next((function(t){return{Ln:t,removedBatchIds:n,addedBatchIds:r}}))}))}))];case 1:return s=o.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),s)]}}))}))}function Nu(t,e){var n=kr(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(t){var r=e.batch.keys(),i=n.On.newChangeBuffer({trackRemovals:!0});return function(t,e,n,r){var i=n.batch,s=i.keys(),o=la.resolve();return s.forEach((function(t){o=o.next((function(){return r.getEntry(e,t)})).next((function(e){var s=n.docVersions.get(t);xr(null!==s),e.version.compareTo(s)<0&&(i.applyToRemoteDocument(e,n),e.isValidDocument()&&r.addEntry(e,n.commitVersion))}))})),o.next((function(){return t._n.removeMutationBatch(e,i)}))}(n,t,e,i).next((function(){return i.apply(t)})).next((function(){return n._n.performConsistencyCheck(t)})).next((function(){return n.Mn.pn(t,r)}))}))}function Du(t){var e=kr(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(function(t){return e.qe.getLastRemoteSnapshotVersion(t)}))}function Pu(t,e){var n=kr(t),r=e.snapshotVersion,i=n.kn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(t){var s=n.On.newChangeBuffer({trackRemovals:!0});i=n.kn;var o=[];e.targetChanges.forEach((function(e,s){var a=i.get(s);if(a){o.push(n.qe.removeMatchingKeys(t,e.removedDocuments,s).next((function(){return n.qe.addMatchingKeys(t,e.addedDocuments,s)})));var u=e.resumeToken;if(u.approximateByteSize()>0){var c=a.withResumeToken(u,r).withSequenceNumber(t.currentSequenceNumber);i=i.insert(s,c),function(t,e,n){return xr(e.resumeToken.approximateByteSize()>0),0===t.resumeToken.approximateByteSize()||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(a,c,e)&&o.push(n.qe.updateTargetData(t,c))}}}));var a=Bs();if(e.documentUpdates.forEach((function(r,i){e.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(t,r))})),o.push(Ru(t,s,e.documentUpdates,r,void 0).next((function(t){a=t}))),!r.isEqual(Lr.min())){var u=n.qe.getLastRemoteSnapshotVersion(t).next((function(e){return n.qe.setTargetsMetadata(t,t.currentSequenceNumber,r)}));o.push(u)}return la.waitFor(o).next((function(){return s.apply(t)})).next((function(){return n.Mn.En(t,a)})).next((function(){return a}))})).then((function(t){return n.kn=i,t}))}function Ru(t,e,n,r,i){var s=Ws();return n.forEach((function(t){return s=s.add(t)})),e.getEntries(t,s).next((function(t){var s=Bs();return n.forEach((function(n,o){var a=t.get(n),u=(null==i?void 0:i.get(n))||r;o.isNoDocument()&&o.version.isEqual(Lr.min())?(e.removeEntry(n,u),s=s.insert(n,o)):!a.isValidDocument()||o.version.compareTo(a.version)>0||0===o.version.compareTo(a.version)&&a.hasPendingWrites?(e.addEntry(o,u),s=s.insert(n,o)):Sr("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",o.version)})),s}))}function Lu(t,e){var n=kr(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(t){return void 0===e&&(e=-1),n._n.getNextMutationBatchAfterBatchId(t,e)}))}function Fu(t,e){var n=kr(t);return n.persistence.runTransaction("Allocate target","readwrite",(function(t){var r;return n.qe.getTargetData(t,e).next((function(i){return i?la.resolve(r=i):n.qe.allocateTargetId(t).next((function(i){return r=new Ta(e,i,0,t.currentSequenceNumber),n.qe.addTargetData(t,r).next((function(){return r}))}))}))})).then((function(t){var r=n.kn.get(t.targetId);return(null===r||t.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.kn=n.kn.insert(t.targetId,t),n.Fn.set(e,t.targetId)),t}))}function Mu(t,e,n){return o(this,void 0,void 0,(function(){var r,i,s,o;return a(this,(function(a){switch(a.label){case 0:r=kr(t),i=r.kn.get(e),s=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",s,(function(t){return r.persistence.referenceDelegate.removeTarget(t,i)}))];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!ga(o=a.sent()))throw o;return Sr("LocalStore","Failed to update sequence numbers for target "+e+": "+o),[3,5];case 5:return r.kn=r.kn.remove(e),r.Fn.delete(i.target),[2]}}))}))}function ju(t,e,n){var r=kr(t),i=Lr.min(),s=Ws();return r.persistence.runTransaction("Execute query","readonly",(function(t){return function(t,e,n){var r=kr(t),i=r.Fn.get(n);return void 0!==i?la.resolve(r.kn.get(i)):r.qe.getTargetData(e,n)}(r,t,Gi(e)).next((function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(t,e.targetId).next((function(t){s=t}))})).next((function(){return r.xn.getDocumentsMatchingQuery(t,e,n?i:Lr.min(),n?s:Ws())})).next((function(t){return{documents:t,Bn:s}}))}))}function zu(t,e){var n=kr(t),r=kr(n.qe),i=n.kn.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(t){return r.lt(t,e).next((function(t){return t?t.target:null}))}))}function Uu(t){var e=kr(t);return e.persistence.runTransaction("Get new document changes","readonly",(function(t){return function(t,e,n){var r=kr(t),i=Bs(),s=ka(n),o=gu(e),a=IDBKeyRange.lowerBound(s,!0);return o.$t({index:Xo.readTimeIndex,range:a},(function(t,e){var n=Ia(r.R,e);i=i.insert(n.key,n),s=e.readTime})).next((function(){return{wn:i,readTime:Aa(s)}}))}(e.On,t,e.$n)})).then((function(t){var n=t.wn;return e.$n=t.readTime,n}))}function Vu(t){return o(this,void 0,void 0,(function(){var e;return a(this,(function(n){return[2,(e=kr(t)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(t){return function(t){var e=gu(t),n=Lr.min();return e.$t({index:Xo.readTimeIndex,reverse:!0},(function(t,e,r){e.readTime&&(n=Aa(e.readTime)),r.done()})).next((function(){return n}))}(t)})).then((function(t){e.$n=t}))]}))}))}function qu(t,e,n,r){return o(this,void 0,void 0,(function(){var i,s,o,u,c,l,h,f,d,p;return a(this,(function(a){switch(a.label){case 0:for(i=kr(t),s=Ws(),o=Bs(),u=Ks(),c=0,l=n;c<l.length;c++)f=e.qn((h=l[c]).metadata.name),h.document&&(s=s.add(f)),o=o.insert(f,e.Un(h)),u=u.insert(f,e.Kn(h.metadata.readTime));return d=i.On.newChangeBuffer({trackRemovals:!0}),[4,Fu(i,function(t){return Gi(zi(Ur.fromString("__bundle__/docs/"+t)))}(r))];case 1:return p=a.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",(function(t){return Ru(t,d,o,Lr.min(),u).next((function(e){return d.apply(t),e})).next((function(e){return i.qe.removeMatchingKeysForTargetId(t,p.targetId).next((function(){return i.qe.addMatchingKeys(t,s,p.targetId)})).next((function(){return i.Mn.En(t,e)})).next((function(){return e}))}))}))]}}))}))}function Bu(t,e,n){return void 0===n&&(n=Ws()),o(this,void 0,void 0,(function(){var r,i;return a(this,(function(s){switch(s.label){case 0:return[4,Fu(t,Gi(La(e.bundledQuery)))];case 1:return r=s.sent(),[2,(i=kr(t)).persistence.runTransaction("Save named query","readwrite",(function(t){var s=po(e.readTime);if(r.snapshotVersion.compareTo(s)>=0)return i.Ke.saveNamedQuery(t,e);var o=r.withResumeToken(Hr.EMPTY_BYTE_STRING,s);return i.kn=i.kn.insert(o.targetId,o),i.qe.updateTargetData(t,o).next((function(){return i.qe.removeMatchingKeysForTargetId(t,r.targetId)})).next((function(){return i.qe.addMatchingKeys(t,n,r.targetId)})).next((function(){return i.Ke.saveNamedQuery(t,e)}))}))]}}))}))}var Hu=function(){function t(t){this.R=t,this.Qn=new Map,this.jn=new Map}return t.prototype.getBundleMetadata=function(t,e){return la.resolve(this.Qn.get(e))},t.prototype.saveBundleMetadata=function(t,e){var n;return this.Qn.set(e.id,{id:(n=e).id,version:n.version,createTime:po(n.createTime)}),la.resolve()},t.prototype.getNamedQuery=function(t,e){return la.resolve(this.jn.get(e))},t.prototype.saveNamedQuery=function(t,e){return this.jn.set(e.name,function(t){return{name:t.name,query:La(t.bundledQuery),readTime:po(t.readTime)}}(e)),la.resolve()},t}(),$u=function(){function t(){this.Wn=new Us(Gu.Gn),this.zn=new Us(Gu.Hn)}return t.prototype.isEmpty=function(){return this.Wn.isEmpty()},t.prototype.addReference=function(t,e){var n=new Gu(t,e);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},t.prototype.Jn=function(t,e){var n=this;t.forEach((function(t){return n.addReference(t,e)}))},t.prototype.removeReference=function(t,e){this.Yn(new Gu(t,e))},t.prototype.Xn=function(t,e){var n=this;t.forEach((function(t){return n.removeReference(t,e)}))},t.prototype.Zn=function(t){var e=this,n=new ti(new Ur([])),r=new Gu(n,t),i=new Gu(n,t+1),s=[];return this.zn.forEachInRange([r,i],(function(t){e.Yn(t),s.push(t.key)})),s},t.prototype.ts=function(){var t=this;this.Wn.forEach((function(e){return t.Yn(e)}))},t.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},t.prototype.es=function(t){var e=new ti(new Ur([])),n=new Gu(e,t),r=new Gu(e,t+1),i=Ws();return this.zn.forEachInRange([n,r],(function(t){i=i.add(t.key)})),i},t.prototype.containsKey=function(t){var e=new Gu(t,0),n=this.Wn.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},t}(),Gu=function(){function t(t,e){this.key=t,this.ns=e}return t.Gn=function(t,e){return ti.comparator(t.key,e.key)||Nr(t.ns,e.ns)},t.Hn=function(t,e){return Nr(t.ns,e.ns)||ti.comparator(t.key,e.key)},t}(),Ku=function(){function t(t,e){this.Ut=t,this.referenceDelegate=e,this._n=[],this.ss=1,this.rs=new Us(Gu.Gn)}return t.prototype.checkEmpty=function(t){return la.resolve(0===this._n.length)},t.prototype.addMutationBatch=function(t,e,n,r){var i=this.ss;this.ss++;var s=new Sa(i,e,n,r);this._n.push(s);for(var o=0,a=r;o<a.length;o++){var u=a[o];this.rs=this.rs.add(new Gu(u.key,i)),this.Ut.addToCollectionParentIndex(t,u.key.path.popLast())}return la.resolve(s)},t.prototype.lookupMutationBatch=function(t,e){return la.resolve(this.os(e))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this.cs(e+1),r=n<0?0:n;return la.resolve(this._n.length>r?this._n[r]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return la.resolve(0===this._n.length?-1:this.ss-1)},t.prototype.getAllMutationBatches=function(t){return la.resolve(this._n.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new Gu(e,0),i=new Gu(e,Number.POSITIVE_INFINITY),s=[];return this.rs.forEachInRange([r,i],(function(t){var e=n.os(t.ns);s.push(e)})),la.resolve(s)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new Us(Nr);return e.forEach((function(t){var e=new Gu(t,0),i=new Gu(t,Number.POSITIVE_INFINITY);n.rs.forEachInRange([e,i],(function(t){r=r.add(t.ns)}))})),la.resolve(this.us(r))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=e.path,r=n.length+1,i=n;ti.isDocumentKey(i)||(i=i.child(""));var s=new Gu(new ti(i),0),o=new Us(Nr);return this.rs.forEachWhile((function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(o=o.add(t.ns)),!0)}),s),la.resolve(this.us(o))},t.prototype.us=function(t){var e=this,n=[];return t.forEach((function(t){var r=e.os(t);null!==r&&n.push(r)})),n},t.prototype.removeMutationBatch=function(t,e){var n=this;xr(0===this.hs(e.batchId,"removed")),this._n.shift();var r=this.rs;return la.forEach(e.mutations,(function(i){var s=new Gu(i.key,e.batchId);return r=r.delete(s),n.referenceDelegate.markPotentiallyOrphaned(t,i.key)})).next((function(){n.rs=r}))},t.prototype.Gt=function(t){},t.prototype.containsKey=function(t,e){var n=new Gu(e,0),r=this.rs.firstAfterOrEqual(n);return la.resolve(e.isEqual(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return la.resolve()},t.prototype.hs=function(t,e){return this.cs(t)},t.prototype.cs=function(t){return 0===this._n.length?0:t-this._n[0].batchId},t.prototype.os=function(t){var e=this.cs(t);return e<0||e>=this._n.length?null:this._n[e]},t}(),Qu=function(){function t(t,e){this.Ut=t,this.ls=e,this.docs=new Ms(ti.comparator),this.size=0}return t.prototype.addEntry=function(t,e,n){var r=e.key,i=this.docs.get(r),s=i?i.size:0,o=this.ls(e);return this.docs=this.docs.insert(r,{document:e.clone(),size:o,readTime:n}),this.size+=o-s,this.Ut.addToCollectionParentIndex(t,r.path.popLast())},t.prototype.removeEntry=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.getEntry=function(t,e){var n=this.docs.get(e);return la.resolve(n?n.document.clone():mi.newInvalidDocument(e))},t.prototype.getEntries=function(t,e){var n=this,r=Bs();return e.forEach((function(t){var e=n.docs.get(t);r=r.insert(t,e?e.document.clone():mi.newInvalidDocument(t))})),la.resolve(r)},t.prototype.getDocumentsMatchingQuery=function(t,e,n){for(var r=Bs(),i=new ti(e.path.child("")),s=this.docs.getIteratorFrom(i);s.hasNext();){var o=s.getNext(),a=o.value,u=a.document,c=a.readTime;if(!e.path.isPrefixOf(o.key.path))break;c.compareTo(n)<=0||Xi(e,u)&&(r=r.insert(u.key,u.clone()))}return la.resolve(r)},t.prototype.fs=function(t,e){return la.forEach(this.docs,(function(t){return e(t)}))},t.prototype.newChangeBuffer=function(t){return new Wu(this)},t.prototype.getSize=function(t){return la.resolve(this.size)},t}(),Wu=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ie=e,n}return s(e,t),e.prototype.applyChanges=function(t){var e=this,n=[];return this.changes.forEach((function(r,i){i.document.isValidDocument()?n.push(e.Ie.addEntry(t,i.document,e.getReadTime(r))):e.Ie.removeEntry(r)})),la.waitFor(n)},e.prototype.getFromCache=function(t,e){return this.Ie.getEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.Ie.getEntries(t,e)},e}(hu),Yu=function(){function t(t){this.persistence=t,this.ds=new lu((function(t){return bi(t)}),wi),this.lastRemoteSnapshotVersion=Lr.min(),this.highestTargetId=0,this.ws=0,this._s=new $u,this.targetCount=0,this.ys=Ja.Jt()}return t.prototype.forEachTarget=function(t,e){return this.ds.forEach((function(t,n){return e(n)})),la.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return la.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return la.resolve(this.ws)},t.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),la.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ws&&(this.ws=e),la.resolve()},t.prototype.te=function(t){this.ds.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.ys=new Ja(e),this.highestTargetId=e),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},t.prototype.addTargetData=function(t,e){return this.te(e),this.targetCount+=1,la.resolve()},t.prototype.updateTargetData=function(t,e){return this.te(e),la.resolve()},t.prototype.removeTargetData=function(t,e){return this.ds.delete(e.target),this._s.Zn(e.targetId),this.targetCount-=1,la.resolve()},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,s=[];return this.ds.forEach((function(o,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.ds.delete(o),s.push(r.removeMatchingKeysForTargetId(t,a.targetId)),i++)})),la.waitFor(s).next((function(){return i}))},t.prototype.getTargetCount=function(t){return la.resolve(this.targetCount)},t.prototype.getTargetData=function(t,e){var n=this.ds.get(e)||null;return la.resolve(n)},t.prototype.addMatchingKeys=function(t,e,n){return this._s.Jn(e,n),la.resolve()},t.prototype.removeMatchingKeys=function(t,e,n){this._s.Xn(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach((function(e){i.push(r.markPotentiallyOrphaned(t,e))})),la.waitFor(i)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this._s.Zn(e),la.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this._s.es(e);return la.resolve(n)},t.prototype.containsKey=function(t,e){return la.resolve(this._s.containsKey(e))},t}(),Xu=function(){function t(t,e){var n=this;this.gs={},this.Ne=new yr(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new Yu(this),this.Ut=new za,this.Ue=function(t,e){return new Qu(t,(function(t){return n.referenceDelegate.ps(t)}))}(this.Ut),this.R=new Ca(e),this.Ke=new Hu(this.R)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getMutationQueue=function(t){var e=this.gs[t.toKey()];return e||(e=new Ku(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=e),e},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getBundleCache=function(){return this.Ke},t.prototype.runTransaction=function(t,e,n){var r=this;Sr("MemoryPersistence","Starting transaction:",t);var i=new Ju(this.Ne.next());return this.referenceDelegate.Es(),n(i).next((function(t){return r.referenceDelegate.Ts(i).next((function(){return t}))})).toPromise().then((function(t){return i.raiseOnCommittedEvent(),t}))},t.prototype.Is=function(t,e){return la.or(Object.values(this.gs).map((function(n){return function(){return n.containsKey(t,e)}})))},t}(),Ju=function(t){function e(e){var n=this;return(n=t.call(this)||this).currentSequenceNumber=e,n}return s(e,t),e}(ua),Zu=function(){function t(t){this.persistence=t,this.As=new $u,this.Rs=null}return t.bs=function(e){return new t(e)},Object.defineProperty(t.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw Ir()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(t,e,n){return this.As.addReference(n,e),this.vs.delete(n.toString()),la.resolve()},t.prototype.removeReference=function(t,e,n){return this.As.removeReference(n,e),this.vs.add(n.toString()),la.resolve()},t.prototype.markPotentiallyOrphaned=function(t,e){return this.vs.add(e.toString()),la.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.As.Zn(e.targetId).forEach((function(t){return n.vs.add(t.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next((function(t){t.forEach((function(t){return n.vs.add(t.toString())}))})).next((function(){return r.removeTargetData(t,e)}))},t.prototype.Es=function(){this.Rs=new Set},t.prototype.Ts=function(t){var e=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return la.forEach(this.vs,(function(r){var i=ti.fromPath(r);return e.Ps(t,i).next((function(t){t||n.removeEntry(i)}))})).next((function(){return e.Rs=null,n.apply(t)}))},t.prototype.updateLimboDocument=function(t,e){var n=this;return this.Ps(t,e).next((function(t){t?n.vs.delete(e.toString()):n.vs.add(e.toString())}))},t.prototype.ps=function(t){return 0},t.prototype.Ps=function(t,e){var n=this;return la.or([function(){return la.resolve(n.As.containsKey(e))},function(){return n.persistence.getTargetCache().containsKey(t,e)},function(){return n.persistence.Is(t,e)}])},t}(),tc=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();function ec(t,e){return"firestore_clients_"+t+"_"+e}function nc(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.isAuthenticated()&&(r+="_"+e.uid),r}function rc(t,e){return"firestore_targets_"+t+"_"+e}tc.UNAUTHENTICATED=new tc(null),tc.GOOGLE_CREDENTIALS=new tc("google-credentials-uid"),tc.FIRST_PARTY=new tc("first-party-uid"),tc.MOCK_USER=new tc("mock-user");var ic=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.Vs=function(e,n,r){var i,s=JSON.parse(r),o="object"==typeof s&&-1!==["pending","acknowledged","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return o&&s.error&&(o="string"==typeof s.error.message&&"string"==typeof s.error.code)&&(i=new br(s.error.code,s.error.message)),o?new t(e,n,s.state,i):(Er("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),sc=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Vs=function(e,n){var r,i=JSON.parse(n),s="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new br(i.error.code,i.error.message)),s?new t(e,i.state,r):(Er("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),oc=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Vs=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,s=Xs(),o=0;i&&o<r.activeTargetIds.length;++o)i=Zr(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new t(e,s):(Er("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),ac=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Vs=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(Er("SharedClientState","Failed to parse online state: "+e),null)},t}(),uc=function(){function t(){this.activeTargetIds=Xs()}return t.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),cc=function(){function t(t,e,n,r,i){this.window=t,this.Se=e,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new Ms(Nr),this.started=!1,this.$s=[];var s=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Os=ec(this.persistenceKey,this.Ns),this.Ms=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.Fs=this.Fs.insert(this.Ns,new uc),this.Ls=new RegExp("^firestore_clients_"+s+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+s+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+s+"_(\\d+)$"),this.Us=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Ks=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return t.yt=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return o(this,void 0,void 0,(function(){var t,e,n,r,i,s,o,u,c,l,h=this;return a(this,(function(a){switch(a.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=a.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.Ns&&(i=this.getItem(ec(this.persistenceKey,r)))&&(s=oc.Vs(r,i))&&(this.Fs=this.Fs.insert(s.clientId,s));for(this.Qs(),(o=this.storage.getItem(this.Us))&&(u=this.js(o))&&this.Ws(u),c=0,l=this.$s;c<l.length;c++)this.ks(l[c]);return this.$s=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0,[2]}}))}))},t.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},t.prototype.isActiveQueryTarget=function(t){var e=!1;return this.Fs.forEach((function(n,r){r.activeTargetIds.has(t)&&(e=!0)})),e},t.prototype.addPendingMutation=function(t){this.zs(t,"pending")},t.prototype.updateMutationState=function(t,e,n){this.zs(t,e,n),this.Hs(t)},t.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(rc(this.persistenceKey,t));if(n){var r=sc.Vs(t,n);r&&(e=r.state)}}return this.Js.Ds(t),this.Qs(),e},t.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Qs()},t.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem(rc(this.persistenceKey,t))},t.prototype.updateQueryState=function(t,e,n){this.Ys(t,e,n)},t.prototype.handleUserChange=function(t,e,n){var r=this;e.forEach((function(t){r.Hs(t)})),this.currentUser=t,n.forEach((function(t){r.addPendingMutation(t)}))},t.prototype.setOnlineState=function(t){this.Xs(t)},t.prototype.notifyBundleLoaded=function(){this.Zs()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return Sr("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){Sr("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){Sr("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.ks=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(Sr("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Os)return void Er("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable((function(){return o(e,void 0,void 0,(function(){var t,e,r,i,s,o;return a(this,(function(a){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return t=this.ti(n.key),[2,this.ei(t,null)];if(e=this.ni(n.key,n.newValue))return[2,this.ei(e.clientId,e)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(r=this.si(n.key,n.newValue)))return[2,this.ii(r)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(i=this.ri(n.key,n.newValue)))return[2,this.oi(i)]}else if(n.key===this.Us){if(null!==n.newValue&&(s=this.js(n.newValue)))return[2,this.Ws(s)]}else if(n.key===this.Ms)(o=function(t){var e=yr.o;if(null!=t)try{var n=JSON.parse(t);xr("number"==typeof n),e=n}catch(t){Er("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==yr.o&&this.sequenceNumberHandler(o);else if(n.key===this.Ks)return[2,this.syncEngine.ci()]}else this.$s.push(n);return[2]}))}))}))}},Object.defineProperty(t.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),t.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},t.prototype.zs=function(t,e,n){var r=new ic(this.currentUser,t,e,n),i=nc(this.persistenceKey,this.currentUser,t);this.setItem(i,r.Ss())},t.prototype.Hs=function(t){var e=nc(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Xs=function(t){this.storage.setItem(this.Us,JSON.stringify({clientId:this.Ns,onlineState:t}))},t.prototype.Ys=function(t,e,n){var r=rc(this.persistenceKey,t),i=new sc(t,e,n);this.setItem(r,i.Ss())},t.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},t.prototype.ti=function(t){var e=this.Ls.exec(t);return e?e[1]:null},t.prototype.ni=function(t,e){var n=this.ti(t);return oc.Vs(n,e)},t.prototype.si=function(t,e){var n=this.Bs.exec(t),r=Number(n[1]);return ic.Vs(new tc(void 0!==n[2]?n[2]:null),r,e)},t.prototype.ri=function(t,e){var n=this.qs.exec(t),r=Number(n[1]);return sc.Vs(r,e)},t.prototype.js=function(t){return ac.Vs(t)},t.prototype.ii=function(t){return o(this,void 0,void 0,(function(){return a(this,(function(e){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(Sr("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])}))}))},t.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},t.prototype.ei=function(t,e){var n=this,r=e?this.Fs.insert(t,e):this.Fs.remove(t),i=this.Gs(this.Fs),s=this.Gs(r),o=[],a=[];return s.forEach((function(t){i.has(t)||o.push(t)})),i.forEach((function(t){s.has(t)||a.push(t)})),this.syncEngine.hi(o,a).then((function(){n.Fs=r}))},t.prototype.Ws=function(t){this.Fs.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},t.prototype.Gs=function(t){var e=Xs();return t.forEach((function(t,n){e=e.unionWith(n.activeTargetIds)})),e},t}(),lc=function(){function t(){this.li=new uc,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,n){},t.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},t.prototype.updateQueryState=function(t,e,n){this.fi[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},t.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.fi[t]},t.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.start=function(){return this.li=new uc,Promise.resolve()},t.prototype.handleUserChange=function(t,e,n){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t.prototype.notifyBundleLoaded=function(){},t}(),hc=function(){function t(){}return t.prototype.di=function(t){},t.prototype.shutdown=function(){},t}(),fc=function(){function t(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return t.prototype.di=function(t){this.gi.push(t)},t.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},t.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},t.prototype._i=function(){Sr("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(0)},t.prototype.yi=function(){Sr("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(1)},t.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),dc={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},pc=function(){function t(t){this.Ei=t.Ei,this.Ti=t.Ti}return t.prototype.Ii=function(t){this.Ai=t},t.prototype.Ri=function(t){this.bi=t},t.prototype.onMessage=function(t){this.vi=t},t.prototype.close=function(){this.Ti()},t.prototype.send=function(t){this.Ei(t)},t.prototype.Pi=function(){this.Ai()},t.prototype.Vi=function(t){this.bi(t)},t.prototype.Si=function(t){this.vi(t)},t}(),gc=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.autoDetectLongPolling=e.autoDetectLongPolling,n.useFetchStreams=e.useFetchStreams,n}return s(e,t),e.prototype.Fi=function(t,e,n,r){return new Promise((function(i,s){var o=new mr;o.listenOnce(fr.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case hr.NO_ERROR:var e=o.getResponseJson();Sr("Connection","XHR received:",JSON.stringify(e)),i(e);break;case hr.TIMEOUT:Sr("Connection",'RPC "'+t+'" timed out'),s(new br(vr.DEADLINE_EXCEEDED,"Request time out"));break;case hr.HTTP_ERROR:var n=o.getStatus();if(Sr("Connection",'RPC "'+t+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var a=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(vr).indexOf(e)>=0?e:vr.UNKNOWN}(r.status);s(new br(a,r.message))}else s(new br(vr.UNKNOWN,"Server responded with status "+o.getStatus()))}else s(new br(vr.UNAVAILABLE,"Connection failed."));break;default:Ir()}}finally{Sr("Connection",'RPC "'+t+'" completed.')}}));var a=JSON.stringify(r);o.send(e,"POST",a,n,15)}))},e.prototype.Oi=function(t,e){var n=[this.Di,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new or,i=Zt(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(s.xmlHttpFactory=new pr({})),this.ki(s.initMessageHeaders,e),Object(c.n)()||Object(c.p)()||Object(c.l)()||Object(c.m)()||Object(c.r)()||Object(c.k)()||(s.httpHeadersOverwriteParam="$httpHeaders");var o=n.join("");Sr("Connection","Creating WebChannel: "+o,s);var a=r.createWebChannel(o,s),u=!1,l=!1,h=new pc({Ei:function(t){l?Sr("Connection","Not sending because WebChannel is closed:",t):(u||(Sr("Connection","Opening WebChannel transport."),a.open(),u=!0),Sr("Connection","WebChannel sending:",t),a.send(t))},Ti:function(){return a.close()}}),f=function(t,e,n){t.listen(e,(function(t){try{n(t)}catch(t){setTimeout((function(){throw t}),0)}}))};return f(a,gr.EventType.OPEN,(function(){l||Sr("Connection","WebChannel transport opened.")})),f(a,gr.EventType.CLOSE,(function(){l||(l=!0,Sr("Connection","WebChannel transport closed"),h.Vi())})),f(a,gr.EventType.ERROR,(function(t){l||(l=!0,Tr("Connection","WebChannel transport errored:",t),h.Vi(new br(vr.UNAVAILABLE,"The operation could not be completed")))})),f(a,gr.EventType.MESSAGE,(function(t){var e;if(!l){var n=t.data[0];xr(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){Sr("Connection","WebChannel received error:",r);var i=r.status,s=function(t){var e=Os[t];if(void 0!==e)return Fs(e)}(i),o=r.message;void 0===s&&(s=vr.INTERNAL,o="Unknown error status: "+i+" with message "+r.message),l=!0,h.Vi(new br(s,o)),a.close()}else Sr("Connection","WebChannel received:",n),h.Si(n)}})),f(i,dr.STAT_EVENT,(function(t){10===t.stat?Sr("Connection","Detected buffering proxy"):11===t.stat&&Sr("Connection","Detected no buffering proxy")})),setTimeout((function(){h.Pi()}),0),h},e}(function(){function t(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.Di=(t.ssl?"https":"http")+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Ni=function(t,e,n,r){var i=this.xi(t,e);Sr("RestConnection","Sending: ",i,n);var s={};return this.ki(s,r),this.Fi(t,i,s,n).then((function(t){return Sr("RestConnection","Received: ",t),t}),(function(e){throw Tr("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e}))},t.prototype.$i=function(t,e,n,r){return this.Ni(t,e,n,r)},t.prototype.ki=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.10.1",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n])},t.prototype.xi=function(t,e){return this.Di+"/v1/"+e+":"+dc[t]},t}());function mc(){return"undefined"!=typeof window?window:null}function yc(){return"undefined"!=typeof document?document:null}function vc(t){return new co(t,!0)}var bc=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=t,this.timerId=e,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return t.prototype.reset=function(){this.qi=0},t.prototype.Qi=function(){this.qi=this.Bi},t.prototype.ji=function(t){var e=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Ki),i=Math.max(0,n-r);i>0&&Sr("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,(function(){return e.Ki=Date.now(),t()})),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},t.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},t.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},t.prototype.Wi=function(){return(Math.random()-.5)*this.qi},t}(),wc=function(){function t(t,e,n,r,i,s){this.Se=t,this.zi=n,this.Hi=r,this.Ji=i,this.listener=s,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new bc(t,e)}return t.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.er=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.nr()},t.prototype.stop=function(){return o(this,void 0,void 0,(function(){return a(this,(function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.sr=function(){this.state=0,this.Zi.reset()},t.prototype.ir=function(){var t=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,(function(){return t.rr()})))},t.prototype.cr=function(t){this.ur(),this.stream.send(t)},t.prototype.rr=function(){return o(this,void 0,void 0,(function(){return a(this,(function(t){return this.er()?[2,this.close(0)]:[2]}))}))},t.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},t.prototype.close=function(t,e){return o(this,void 0,void 0,(function(){return a(this,(function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==t?this.Zi.reset():e&&e.code===vr.RESOURCE_EXHAUSTED?(Er(e.toString()),Er("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):e&&e.code===vr.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(e)];case 1:return n.sent(),[2]}}))}))},t.prototype.ar=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then((function(e){t.Yi===n&&t.lr(e)}),(function(n){e((function(){var e=new br(vr.UNKNOWN,"Fetching auth token failed: "+n.message);return t.dr(e)}))}))},t.prototype.lr=function(t){var e=this,n=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii((function(){n((function(){return e.state=2,e.listener.Ii()}))})),this.stream.Ri((function(t){n((function(){return e.dr(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},t.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji((function(){return o(t,void 0,void 0,(function(){return a(this,(function(t){return this.state=0,this.start(),[2]}))}))}))},t.prototype.dr=function(t){return Sr("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.hr=function(t){var e=this;return function(n){e.Se.enqueueAndForget((function(){return e.Yi===t?n():(Sr("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},t}(),_c=function(t){function e(e,n,r,i,s){var o=this;return(o=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,s)||this).R=i,o}return s(e,t),e.prototype.wr=function(t){return this.Hi.Oi("Listen",t)},e.prototype.onMessage=function(t){this.Zi.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:Ir()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(t,e){return t.I?(xr(void 0===e||"string"==typeof e),Hr.fromBase64String(e||"")):(xr(void 0===e||e instanceof Uint8Array),Hr.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),o=(a=e.targetChange.cause)&&function(t){var e=void 0===t.code?vr.UNKNOWN:Fs(t.code);return new br(e,t.message||"")}(a);n=new no(r,i,s,o||null)}else if("documentChange"in e){i=vo(t,(r=e.documentChange).document.name),s=po(r.document.updateTime);var a=new pi({mapValue:{fields:r.document.fields}}),u=(o=mi.newFoundDocument(i,s,a),r.targetIds||[]);n=new to(u,r.removedTargetIds||[],o.key,o)}else if("documentDelete"in e)i=vo(t,(r=e.documentDelete).document),s=r.readTime?po(r.readTime):Lr.min(),a=mi.newNoDocument(i,s),n=new to([],o=r.removedTargetIds||[],a.key,a);else if("documentRemove"in e)i=vo(t,(r=e.documentRemove).document),n=new to([],s=r.removedTargetIds||[],i,null);else{if(!("filter"in e))return Ir();var c=e.filter;i=new Rs(r=c.count||0),n=new eo(s=c.targetId,i)}return n}(this.R,t),n=function(t){if(!("targetChange"in t))return Lr.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?Lr.min():e.readTime?po(e.readTime):Lr.min()}(t);return this.listener._r(e,n)},e.prototype.mr=function(t){var e={};e.database=_o(this.R),e.addTarget=function(t,e){var n,r=e.target;return(n=_i(r)?{documents:xo(t,r)}:{query:ko(t,r)}).targetId=e.targetId,e.resumeToken.approximateByteSize()>0?n.resumeToken=ho(t,e.resumeToken):e.snapshotVersion.compareTo(Lr.min())>0&&(n.readTime=lo(t,e.snapshotVersion.toTimestamp())),n}(this.R,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Ir()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.cr(e)},e.prototype.yr=function(t){var e={};e.database=_o(this.R),e.removeTarget=t,this.cr(e)},e}(wc),Sc=function(t){function e(e,n,r,i,s){var o=this;return(o=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,s)||this).R=i,o.gr=!1,o}return s(e,t),Object.defineProperty(e.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.ar=function(){this.gr&&this.Er([])},e.prototype.wr=function(t){return this.Hi.Oi("Write",t)},e.prototype.onMessage=function(t){if(xr(!!t.streamToken),this.lastStreamToken=t.streamToken,this.gr){this.Zi.reset();var e=function(t,e){return t&&t.length>0?(xr(void 0!==e),t.map((function(t){return function(t,e){var n=po(t.updateTime?t.updateTime:e);return n.isEqual(Lr.min())&&(n=po(e)),new ms(n,t.transformResults||[])}(t,e)}))):[]}(t.writeResults,t.commitTime),n=po(t.commitTime);return this.listener.Tr(n,e)}return xr(!t.writeResults||0===t.writeResults.length),this.gr=!0,this.listener.Ir()},e.prototype.Ar=function(){var t={};t.database=_o(this.R),this.cr(t)},e.prototype.Er=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map((function(t){return Co(e.R,t)}))};this.cr(n)},e}(wc),Ec=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Hi=n,i.R=r,i.Rr=!1,i}return s(e,t),e.prototype.br=function(){if(this.Rr)throw new br(vr.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Ni=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.Ni(t,e,n,i)})).catch((function(t){throw"FirebaseError"===t.name?(t.code===vr.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new br(vr.UNKNOWN,t.toString())}))},e.prototype.$i=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.$i(t,e,n,i)})).catch((function(t){throw"FirebaseError"===t.name?(t.code===vr.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new br(vr.UNKNOWN,t.toString())}))},e.prototype.terminate=function(){this.Rr=!0},e}((function(){})),Tc=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return t.prototype.Sr=function(){var t=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()})))},t.prototype.Nr=function(t){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},t.prototype.set=function(t){this.kr(),this.vr=0,"Online"===t&&(this.Vr=!1),this.Dr(t)},t.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.Cr=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(Er(e),this.Vr=!1):Sr("OnlineStateTracker",e)},t.prototype.kr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},t}(),Cc=function(t,e,n,r,i){var s=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=i,this.Lr.di((function(t){n.enqueueAndForget((function(){return o(s,void 0,void 0,(function(){return a(this,(function(t){switch(t.label){case 0:return Rc(this)?(Sr("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return o(this,void 0,void 0,(function(){var e;return a(this,(function(n){switch(n.label){case 0:return(e=kr(t)).Or.add(4),[4,xc(e)];case 1:return n.sent(),e.Br.set("Unknown"),e.Or.delete(4),[4,Ic(e)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.Br=new Tc(n,r)};function Ic(t){return o(this,void 0,void 0,(function(){var e,n;return a(this,(function(r){switch(r.label){case 0:if(!Rc(t))return[3,4];e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function xc(t){return o(this,void 0,void 0,(function(){var e,n;return a(this,(function(r){switch(r.label){case 0:e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function kc(t,e){var n=kr(t);n.$r.has(e.targetId)||(n.$r.set(e.targetId,e),Pc(n)?Dc(n):Wc(n).er()&&Oc(n,e))}function Ac(t,e){var n=kr(t),r=Wc(n);n.$r.delete(e),r.er()&&Nc(n,e),0===n.$r.size&&(r.er()?r.ir():Rc(n)&&n.Br.set("Unknown"))}function Oc(t,e){t.qr.U(e.targetId),Wc(t).mr(e)}function Nc(t,e){t.qr.U(e),Wc(t).yr(e)}function Dc(t){t.qr=new io({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},lt:function(e){return t.$r.get(e)||null}}),Wc(t).start(),t.Br.Sr()}function Pc(t){return Rc(t)&&!Wc(t).tr()&&t.$r.size>0}function Rc(t){return 0===kr(t).Or.size}function Lc(t){t.qr=void 0}function Fc(t){return o(this,void 0,void 0,(function(){return a(this,(function(e){return t.$r.forEach((function(e,n){Oc(t,e)})),[2]}))}))}function Mc(t,e){return o(this,void 0,void 0,(function(){return a(this,(function(n){return Lc(t),Pc(t)?(t.Br.Nr(e),Dc(t)):t.Br.set("Unknown"),[2]}))}))}function jc(t,e,n){return o(this,void 0,void 0,(function(){var r,i,s;return a(this,(function(u){switch(u.label){case 0:if(t.Br.set("Online"),!(e instanceof no&&2===e.state&&e.cause))return[3,6];u.label=1;case 1:return u.trys.push([1,3,,5]),[4,function(t,e){return o(this,void 0,void 0,(function(){var n,r,i,s;return a(this,(function(o){switch(o.label){case 0:n=e.cause,r=0,i=e.targetIds,o.label=1;case 1:return r<i.length?t.$r.has(s=i[r])?[4,t.remoteSyncer.rejectListen(s,n)]:[3,3]:[3,5];case 2:o.sent(),t.$r.delete(s),t.qr.removeTarget(s),o.label=3;case 3:o.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(t,e)];case 2:return u.sent(),[3,5];case 3:return r=u.sent(),Sr("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,zc(t,r)];case 4:return u.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof to?t.qr.X(e):e instanceof eo?t.qr.rt(e):t.qr.et(e),n.isEqual(Lr.min()))return[3,13];u.label=7;case 7:return u.trys.push([7,11,,13]),[4,Du(t.localStore)];case 8:return i=u.sent(),n.compareTo(i)>=0?[4,function(t,e){var n=t.qr.ut(e);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=t.$r.get(r);i&&t.$r.set(r,i.withResumeToken(n.resumeToken,e))}})),n.targetMismatches.forEach((function(e){var n=t.$r.get(e);if(n){t.$r.set(e,n.withResumeToken(Hr.EMPTY_BYTE_STRING,n.snapshotVersion)),Nc(t,e);var r=new Ta(n.target,e,1,n.sequenceNumber);Oc(t,r)}})),t.remoteSyncer.applyRemoteEvent(n)}(t,n)]:[3,10];case 9:u.sent(),u.label=10;case 10:return[3,13];case 11:return Sr("RemoteStore","Failed to raise snapshot:",s=u.sent()),[4,zc(t,s)];case 12:return u.sent(),[3,13];case 13:return[2]}}))}))}function zc(t,e,n){return o(this,void 0,void 0,(function(){var r=this;return a(this,(function(i){switch(i.label){case 0:if(!ga(e))throw e;return t.Or.add(1),[4,xc(t)];case 1:return i.sent(),t.Br.set("Offline"),n||(n=function(){return Du(t.localStore)}),t.asyncQueue.enqueueRetryable((function(){return o(r,void 0,void 0,(function(){return a(this,(function(e){switch(e.label){case 0:return Sr("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Or.delete(1),[4,Ic(t)];case 2:return e.sent(),[2]}}))}))})),[2]}}))}))}function Uc(t,e){return e().catch((function(n){return zc(t,n,e)}))}function Vc(t){return o(this,void 0,void 0,(function(){var e,n,r,i,s;return a(this,(function(o){switch(o.label){case 0:e=kr(t),n=Yc(e),r=e.Fr.length>0?e.Fr[e.Fr.length-1].batchId:-1,o.label=1;case 1:if(!function(t){return Rc(t)&&t.Fr.length<10}(e))return[3,7];o.label=2;case 2:return o.trys.push([2,4,,6]),[4,Lu(e.localStore,r)];case 3:return null===(i=o.sent())?(0===e.Fr.length&&n.ir(),[3,7]):(r=i.batchId,function(t,e){t.Fr.push(e);var n=Yc(t);n.er()&&n.pr&&n.Er(e.mutations)}(e,i),[3,6]);case 4:return s=o.sent(),[4,zc(e,s)];case 5:return o.sent(),[3,6];case 6:return[3,1];case 7:return qc(e)&&Bc(e),[2]}}))}))}function qc(t){return Rc(t)&&!Yc(t).tr()&&t.Fr.length>0}function Bc(t){Yc(t).start()}function Hc(t){return o(this,void 0,void 0,(function(){return a(this,(function(e){return Yc(t).Ar(),[2]}))}))}function $c(t){return o(this,void 0,void 0,(function(){var e,n,r;return a(this,(function(i){for(e=Yc(t),n=0,r=t.Fr;n<r.length;n++)e.Er(r[n].mutations);return[2]}))}))}function Gc(t,e,n){return o(this,void 0,void 0,(function(){var r,i;return a(this,(function(s){switch(s.label){case 0:return r=t.Fr.shift(),i=Ea.from(r,e,n),[4,Uc(t,(function(){return t.remoteSyncer.applySuccessfulWrite(i)}))];case 1:return s.sent(),[4,Vc(t)];case 2:return s.sent(),[2]}}))}))}function Kc(t,e){return o(this,void 0,void 0,(function(){return a(this,(function(n){switch(n.label){case 0:return e&&Yc(t).pr?[4,function(t,e){return o(this,void 0,void 0,(function(){var n,r;return a(this,(function(i){switch(i.label){case 0:return Ls(r=e.code)&&r!==vr.ABORTED?(n=t.Fr.shift(),Yc(t).sr(),[4,Uc(t,(function(){return t.remoteSyncer.rejectFailedWrite(n.batchId,e)}))]):[3,3];case 1:return i.sent(),[4,Vc(t)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return qc(t)&&Bc(t),[2]}}))}))}function Qc(t,e){return o(this,void 0,void 0,(function(){var n;return a(this,(function(r){switch(r.label){case 0:return n=kr(t),e?(n.Or.delete(2),[4,Ic(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Or.add(2),[4,xc(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function Wc(t){var e=this;return t.Ur||(t.Ur=function(t,e,n){var r=kr(t);return r.br(),new _c(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:Fc.bind(null,t),Ri:Mc.bind(null,t),_r:jc.bind(null,t)}),t.Mr.push((function(n){return o(e,void 0,void 0,(function(){return a(this,(function(e){switch(e.label){case 0:return n?(t.Ur.sr(),Pc(t)?Dc(t):t.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ur.stop()];case 2:e.sent(),Lc(t),e.label=3;case 3:return[2]}}))}))}))),t.Ur}function Yc(t){var e=this;return t.Kr||(t.Kr=function(t,e,n){var r=kr(t);return r.br(),new Sc(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:Hc.bind(null,t),Ri:Kc.bind(null,t),Ir:$c.bind(null,t),Tr:Gc.bind(null,t)}),t.Mr.push((function(n){return o(e,void 0,void 0,(function(){return a(this,(function(e){switch(e.label){case 0:return n?(t.Kr.sr(),[4,Vc(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Kr.stop()];case 3:e.sent(),t.Fr.length>0&&(Sr("RemoteStore","Stopping write stream with "+t.Fr.length+" pending writes"),t.Fr=[]),e.label=4;case 4:return[2]}}))}))}))),t.Kr}var Xc=function(){function t(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new ca,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(t){}))}return t.createAndSchedule=function(e,n,r,i,s){var o=new t(e,n,Date.now()+r,i,s);return o.start(r),o},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout((function(){return e.handleDelayElapsed()}),t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new br(vr.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget((function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then((function(e){return t.deferred.resolve(e)}))):Promise.resolve()}))},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function Jc(t,e){if(Er("AsyncQueue",e+": "+t),ga(t))return new br(vr.UNAVAILABLE,e+": "+t);throw t}var Zc=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||ti.comparator(e.key,n.key)}:function(t,e){return ti.comparator(t.key,e.key)},this.keyedMap=$s(),this.sortedSet=new Ms(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal((function(e,n){return t(e),!1}))},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),tl=function(){function t(){this.Qr=new Ms(ti.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Qr.get(e);n?0!==t.type&&3===n.type?this.Qr=this.Qr.insert(e,t):3===t.type&&1!==n.type?this.Qr=this.Qr.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Qr=this.Qr.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Qr=this.Qr.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Qr=this.Qr.remove(e):1===t.type&&2===n.type?this.Qr=this.Qr.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Qr=this.Qr.insert(e,{type:2,doc:t.doc}):Ir():this.Qr=this.Qr.insert(e,t)},t.prototype.jr=function(){var t=[];return this.Qr.inorderTraversal((function(e,n){t.push(n)})),t},t}(),el=function(){function t(t,e,n,r,i,s,o,a){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a}return t.fromInitialDocuments=function(e,n,r,i){var s=[];return n.forEach((function(t){s.push({type:0,doc:t})})),new t(e,n,Zc.emptySet(n),s,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Qi(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),nl=function(){this.Wr=void 0,this.listeners=[]},rl=function(){this.queries=new lu((function(t){return Wi(t)}),Qi),this.onlineState="Unknown",this.Gr=new Set};function il(t,e){return o(this,void 0,void 0,(function(){var n,r,i,s,o,u,c;return a(this,(function(a){switch(a.label){case 0:if(n=kr(t),i=!1,(s=n.queries.get(r=e.query))||(i=!0,s=new nl),!i)return[3,4];a.label=1;case 1:return a.trys.push([1,3,,4]),o=s,[4,n.onListen(r)];case 2:return o.Wr=a.sent(),[3,4];case 3:return u=a.sent(),c=Jc(u,"Initialization of query '"+Yi(e.query)+"' failed"),[2,void e.onError(c)];case 4:return n.queries.set(r,s),s.listeners.push(e),e.zr(n.onlineState),s.Wr&&e.Hr(s.Wr)&&ul(n),[2]}}))}))}function sl(t,e){return o(this,void 0,void 0,(function(){var n,r,i,s,o;return a(this,(function(a){return n=kr(t),i=!1,(s=n.queries.get(r=e.query))&&(o=s.listeners.indexOf(e))>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]}))}))}function ol(t,e){for(var n=kr(t),r=!1,i=0,s=e;i<s.length;i++){var o=s[i],a=n.queries.get(o.query);if(a){for(var u=0,c=a.listeners;u<c.length;u++)c[u].Hr(o)&&(r=!0);a.Wr=o}}r&&ul(n)}function al(t,e,n){var r=kr(t),i=r.queries.get(e);if(i)for(var s=0,o=i.listeners;s<o.length;s++)o[s].onError(n);r.queries.delete(e)}function ul(t){t.Gr.forEach((function(t){t.next()}))}var cl=function(){function t(t,e,n){this.query=t,this.Jr=e,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new el(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var s=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),s=!0):this.eo(t,this.onlineState)&&(this.no(t),s=!0),this.Xr=t,s},t.prototype.onError=function(t){this.Jr.error(t)},t.prototype.zr=function(t){this.onlineState=t;var e=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),e=!0),e},t.prototype.eo=function(t,e){return!t.fromCache||!(this.options.so&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)},t.prototype.Zr=function(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.no=function(t){t=el.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},t}(),ll=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.io=function(){return"metadata"in this.payload},t}(),hl=function(){function t(t){this.R=t}return t.prototype.qn=function(t){return vo(this.R,t)},t.prototype.Un=function(t){return t.metadata.exists?To(this.R,t.document,!1):mi.newNoDocument(this.qn(t.metadata.name),this.Kn(t.metadata.readTime))},t.prototype.Kn=function(t){return po(t)},t}();!function(){function t(t,e,n){this.ro=t,this.localStore=e,this.R=n,this.queries=[],this.documents=[],this.progress=function(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(t)}t.prototype.oo=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.co=function(t){for(var e=new Map,n=new hl(this.R),r=0,i=t;r<i.length;r++){var s=i[r];if(s.metadata.queries)for(var o=n.qn(s.metadata.name),a=0,u=s.metadata.queries;a<u.length;a++){var c=u[a],l=(e.get(c)||Ws()).add(o);e.set(c,l)}}return e},t.prototype.complete=function(){return o(this,void 0,void 0,(function(){var t,e,n,r,i;return a(this,(function(s){switch(s.label){case 0:return[4,qu(this.localStore,new hl(this.R),this.documents,this.ro.id)];case 1:t=s.sent(),e=this.co(this.documents),n=0,r=this.queries,s.label=2;case 2:return n<r.length?[4,Bu(this.localStore,i=r[n],e.get(i.name))]:[3,5];case 3:s.sent(),s.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new Tu(Object.assign({},this.progress),t))]}}))}))}}();var fl=function(t){this.key=t},dl=function(t){this.key=t},pl=function(){function t(t,e){this.query=t,this.uo=e,this.ao=null,this.current=!1,this.ho=Ws(),this.mutatedKeys=Ws(),this.lo=Ji(t),this.fo=new Zc(this.lo)}return Object.defineProperty(t.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),t.prototype._o=function(t,e){var n=this,r=e?e.mo:new tl,i=e?e.fo:this.fo,s=e?e.mutatedKeys:this.mutatedKeys,o=i,a=!1,u=Ui(this.query)&&i.size===this.query.limit?i.last():null,c=Vi(this.query)&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((function(t,e){var l=i.get(t),h=Xi(n.query,e)?e:null,f=!!l&&n.mutatedKeys.has(l.key),d=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data.isEqual(h.data)?f!==d&&(r.track({type:3,doc:h}),p=!0):n.yo(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.lo(h,u)>0||c&&n.lo(h,c)<0)&&(a=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(a=!0)),p&&(h?(o=o.add(h),s=d?s.add(t):s.delete(t)):(o=o.delete(t),s=s.delete(t)))})),Ui(this.query)||Vi(this.query))for(;o.size>this.query.limit;){var l=Ui(this.query)?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{fo:o,mo:r,Nn:a,mutatedKeys:s}},t.prototype.yo=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,n){var r=this,i=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var s=t.mo.jr();s.sort((function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ir()}};return n(t)-n(e)}(t.type,e.type)||r.lo(t.doc,e.doc)})),this.po(n);var o=e?this.Eo():[],a=0===this.ho.size&&this.current?1:0,u=a!==this.ao;return this.ao=a,0!==s.length||u?{snapshot:new el(this.query,t.fo,i,s,t.mutatedKeys,0===a,u,!1),To:o}:{To:o}},t.prototype.zr=function(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({fo:this.fo,mo:new tl,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},t.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},t.prototype.po=function(t){var e=this;t&&(t.addedDocuments.forEach((function(t){return e.uo=e.uo.add(t)})),t.modifiedDocuments.forEach((function(t){})),t.removedDocuments.forEach((function(t){return e.uo=e.uo.delete(t)})),this.current=t.current)},t.prototype.Eo=function(){var t=this;if(!this.current)return[];var e=this.ho;this.ho=Ws(),this.fo.forEach((function(e){t.Io(e.key)&&(t.ho=t.ho.add(e.key))}));var n=[];return e.forEach((function(e){t.ho.has(e)||n.push(new dl(e))})),this.ho.forEach((function(t){e.has(t)||n.push(new fl(t))})),n},t.prototype.Ao=function(t){this.uo=t.Bn,this.ho=Ws();var e=this._o(t.documents);return this.applyChanges(e,!0)},t.prototype.Ro=function(){return el.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},t}(),gl=function(t,e,n){this.query=t,this.targetId=e,this.view=n},ml=function(t){this.key=t,this.bo=!1},yl=function(){function t(t,e,n,r,i,s){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.vo={},this.Po=new lu((function(t){return Wi(t)}),Qi),this.Vo=new Map,this.So=new Set,this.Do=new Ms(ti.comparator),this.Co=new Map,this.No=new $u,this.xo={},this.ko=new Map,this.Fo=Ja.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.$o},enumerable:!1,configurable:!0}),t}();function vl(t,e){return o(this,void 0,void 0,(function(){var n,r,i,s,o;return a(this,(function(a){switch(a.label){case 0:return n=Kl(t),(i=n.Po.get(e))?(n.sharedClientState.addLocalQueryTarget(i.targetId),r=i.view.Ro(),[3,4]):[3,1];case 1:return[4,Fu(n.localStore,Gi(e))];case 2:return s=a.sent(),o=n.sharedClientState.addLocalQueryTarget(s.targetId),[4,bl(n,e,s.targetId,"current"===o)];case 3:r=a.sent(),n.isPrimaryClient&&kc(n.remoteStore,s),a.label=4;case 4:return[2,r]}}))}))}function bl(t,e,n,r){return o(this,void 0,void 0,(function(){var i,s,u,c,l,h;return a(this,(function(f){switch(f.label){case 0:return t.Oo=function(e,n,r){return function(t,e,n,r){return o(this,void 0,void 0,(function(){var i,s,o;return a(this,(function(a){switch(a.label){case 0:return(i=e.view._o(n)).Nn?[4,ju(t.localStore,e.query,!1).then((function(t){return e.view._o(t.documents,i)}))]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return s=r&&r.targetChanges.get(e.targetId),o=e.view.applyChanges(i,t.isPrimaryClient,s),[2,(Dl(t,e.targetId,o.To),o.snapshot)]}}))}))}(t,e,n,r)},[4,ju(t.localStore,e,!0)];case 1:return i=f.sent(),s=new pl(e,i.Bn),u=s._o(i.documents),c=Zs.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),l=s.applyChanges(u,t.isPrimaryClient,c),Dl(t,n,l.To),h=new gl(e,n,s),[2,(t.Po.set(e,h),t.Vo.has(n)?t.Vo.get(n).push(e):t.Vo.set(n,[e]),l.snapshot)]}}))}))}function wl(t,e){return o(this,void 0,void 0,(function(){var n,r,i;return a(this,(function(s){switch(s.label){case 0:return n=kr(t),r=n.Po.get(e),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter((function(t){return!Qi(t,e)}))),void n.Po.delete(e))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,Mu(n.localStore,r.targetId,!1).then((function(){n.sharedClientState.clearQueryState(r.targetId),Ac(n.remoteStore,r.targetId),Ol(n,r.targetId)})).catch(ru)]):[3,3];case 1:s.sent(),s.label=2;case 2:return[3,5];case 3:return Ol(n,r.targetId),[4,Mu(n.localStore,r.targetId,!0)];case 4:s.sent(),s.label=5;case 5:return[2]}}))}))}function _l(t,e,n){return o(this,void 0,void 0,(function(){var r,i,s,o;return a(this,(function(a){switch(a.label){case 0:r=Ql(t),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,function(t,e){var n,r=kr(t),i=Rr.now(),s=e.reduce((function(t,e){return t.add(e.key)}),Ws());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(t){return r.Mn.pn(t,s).next((function(s){n=s;for(var o=[],a=0,u=e;a<u.length;a++){var c=u[a],l=Ss(c,n.get(c.key));null!=l&&o.push(new Is(c.key,l,gi(l.value.mapValue),ys.exists(!0)))}return r._n.addMutationBatch(t,i,o,e)}))})).then((function(t){return t.applyToLocalDocumentSet(n),{batchId:t.batchId,changes:n}}))}(r.localStore,e)];case 2:return i=a.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(t,e,n){var r=t.xo[t.currentUser.toKey()];r||(r=new Ms(Nr)),r=r.insert(e,n),t.xo[t.currentUser.toKey()]=r}(r,i.batchId,n),[4,Ll(r,i.changes)];case 3:return a.sent(),[4,Vc(r.remoteStore)];case 4:return a.sent(),[3,6];case 5:return s=a.sent(),o=Jc(s,"Failed to persist write"),n.reject(o),[3,6];case 6:return[2]}}))}))}function Sl(t,e){return o(this,void 0,void 0,(function(){var n,r;return a(this,(function(i){switch(i.label){case 0:n=kr(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,Pu(n.localStore,e)];case 2:return r=i.sent(),e.targetChanges.forEach((function(t,e){var r=n.Co.get(e);r&&(xr(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?r.bo=!0:t.modifiedDocuments.size>0?xr(r.bo):t.removedDocuments.size>0&&(xr(r.bo),r.bo=!1))})),[4,Ll(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,ru(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function El(t,e,n){var r=kr(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach((function(t,n){var r=n.view.zr(e);r.snapshot&&i.push(r.snapshot)})),function(t,e){var n=kr(t);n.onlineState=e;var r=!1;n.queries.forEach((function(t,n){for(var i=0,s=n.listeners;i<s.length;i++)s[i].zr(e)&&(r=!0)})),r&&ul(n)}(r.eventManager,e),i.length&&r.vo._r(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Tl(t,e,n){return o(this,void 0,void 0,(function(){var r,i,s,o,u,c;return a(this,(function(a){switch(a.label){case 0:return(r=kr(t)).sharedClientState.updateQueryState(e,"rejected",n),i=r.Co.get(e),(s=i&&i.key)?(o=(o=new Ms(ti.comparator)).insert(s,mi.newNoDocument(s,Lr.min())),u=Ws().add(s),c=new Js(Lr.min(),new Map,new Us(Nr),o,u),[4,Sl(r,c)]):[3,2];case 1:return a.sent(),r.Do=r.Do.remove(s),r.Co.delete(e),Rl(r),[3,4];case 2:return[4,Mu(r.localStore,e,!1).then((function(){return Ol(r,e,n)})).catch(ru)];case 3:a.sent(),a.label=4;case 4:return[2]}}))}))}function Cl(t,e){return o(this,void 0,void 0,(function(){var n,r,i;return a(this,(function(s){switch(s.label){case 0:n=kr(t),r=e.batch.batchId,s.label=1;case 1:return s.trys.push([1,4,,6]),[4,Nu(n.localStore,e)];case 2:return i=s.sent(),Al(n,r,null),kl(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,Ll(n,i)];case 3:return s.sent(),[3,6];case 4:return[4,ru(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}}))}))}function Il(t,e,n){return o(this,void 0,void 0,(function(){var r,i;return a(this,(function(s){switch(s.label){case 0:r=kr(t),s.label=1;case 1:return s.trys.push([1,4,,6]),[4,function(t,e){var n=kr(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(t){var r;return n._n.lookupMutationBatch(t,e).next((function(e){return xr(null!==e),r=e.keys(),n._n.removeMutationBatch(t,e)})).next((function(){return n._n.performConsistencyCheck(t)})).next((function(){return n.Mn.pn(t,r)}))}))}(r.localStore,e)];case 2:return i=s.sent(),Al(r,e,n),kl(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),[4,Ll(r,i)];case 3:return s.sent(),[3,6];case 4:return[4,ru(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}}))}))}function xl(t,e){return o(this,void 0,void 0,(function(){var n,r,i,s,o;return a(this,(function(a){switch(a.label){case 0:Rc((n=kr(t)).remoteStore)||Sr("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,function(t){var e=kr(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(t){return e._n.getHighestUnacknowledgedBatchId(t)}))}(n.localStore)];case 2:return-1===(r=a.sent())?[2,void e.resolve()]:((i=n.ko.get(r)||[]).push(e),n.ko.set(r,i),[3,4]);case 3:return s=a.sent(),o=Jc(s,"Initialization of waitForPendingWrites() operation failed"),e.reject(o),[3,4];case 4:return[2]}}))}))}function kl(t,e){(t.ko.get(e)||[]).forEach((function(t){t.resolve()})),t.ko.delete(e)}function Al(t,e,n){var r=kr(t),i=r.xo[r.currentUser.toKey()];if(i){var s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.xo[r.currentUser.toKey()]=i}}function Ol(t,e,n){void 0===n&&(n=null),t.sharedClientState.removeLocalQueryTarget(e);for(var r=0,i=t.Vo.get(e);r<i.length;r++){var s=i[r];t.Po.delete(s),n&&t.vo.Mo(s,n)}t.Vo.delete(e),t.isPrimaryClient&&t.No.Zn(e).forEach((function(e){t.No.containsKey(e)||Nl(t,e)}))}function Nl(t,e){t.So.delete(e.path.canonicalString());var n=t.Do.get(e);null!==n&&(Ac(t.remoteStore,n),t.Do=t.Do.remove(e),t.Co.delete(n),Rl(t))}function Dl(t,e,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];s instanceof fl?(t.No.addReference(s.key,e),Pl(t,s)):s instanceof dl?(Sr("SyncEngine","Document no longer in limbo: "+s.key),t.No.removeReference(s.key,e),t.No.containsKey(s.key)||Nl(t,s.key)):Ir()}}function Pl(t,e){var n=e.key,r=n.path.canonicalString();t.Do.get(n)||t.So.has(r)||(Sr("SyncEngine","New document in limbo: "+n),t.So.add(r),Rl(t))}function Rl(t){for(;t.So.size>0&&t.Do.size<t.maxConcurrentLimboResolutions;){var e=t.So.values().next().value;t.So.delete(e);var n=new ti(Ur.fromString(e)),r=t.Fo.next();t.Co.set(r,new ml(n)),t.Do=t.Do.insert(n,r),kc(t.remoteStore,new Ta(Gi(zi(n.path)),r,2,yr.o))}}function Ll(t,e,n){return o(this,void 0,void 0,(function(){var r,i,s,u;return a(this,(function(c){switch(c.label){case 0:return r=kr(t),i=[],s=[],u=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach((function(t,o){u.push(r.Oo(o,e,n).then((function(t){if(t){r.isPrimaryClient&&r.sharedClientState.updateQueryState(o.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=Iu.Pn(o.targetId,t);s.push(e)}})))})),[4,Promise.all(u)]);case 1:return c.sent(),r.vo._r(i),[4,function(t,e){return o(this,void 0,void 0,(function(){var n,r,i,s,o,u,c,l;return a(this,(function(a){switch(a.label){case 0:n=kr(t),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(t){return la.forEach(e,(function(e){return la.forEach(e.bn,(function(r){return n.persistence.referenceDelegate.addReference(t,e.targetId,r)})).next((function(){return la.forEach(e.vn,(function(r){return n.persistence.referenceDelegate.removeReference(t,e.targetId,r)}))}))}))}))];case 2:return a.sent(),[3,4];case 3:if(!ga(r=a.sent()))throw r;return Sr("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,s=e;i<s.length;i++)u=(o=s[i]).targetId,o.fromCache||(c=n.kn.get(u),l=c.withLastLimboFreeSnapshotVersion(c.snapshotVersion),n.kn=n.kn.insert(u,l));return[2]}}))}))}(r.localStore,s)];case 2:c.sent(),c.label=3;case 3:return[2]}}))}))}function Fl(t,e){return o(this,void 0,void 0,(function(){var n,r;return a(this,(function(i){switch(i.label){case 0:return(n=kr(t)).currentUser.isEqual(e)?[3,3]:(Sr("SyncEngine","User change. New user:",e.toKey()),[4,Ou(n.localStore,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.ko.forEach((function(t){t.forEach((function(t){t.reject(new br(vr.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),t.ko.clear()}(n),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),[4,Ll(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}function Ml(t,e){var n=kr(t),r=n.Co.get(e);if(r&&r.bo)return Ws().add(r.key);var i=Ws(),s=n.Vo.get(e);if(!s)return i;for(var o=0,a=s;o<a.length;o++){var u=n.Po.get(a[o]);i=i.unionWith(u.view.wo)}return i}function jl(t,e){return o(this,void 0,void 0,(function(){var n,r,i;return a(this,(function(s){switch(s.label){case 0:return[4,ju((n=kr(t)).localStore,e.query,!0)];case 1:return r=s.sent(),i=e.view.Ao(r),[2,(n.isPrimaryClient&&Dl(n,e.targetId,i.To),i)]}}))}))}function zl(t){return o(this,void 0,void 0,(function(){var e;return a(this,(function(n){return[2,Uu((e=kr(t)).localStore).then((function(t){return Ll(e,t)}))]}))}))}function Ul(t,e,n,r){return o(this,void 0,void 0,(function(){var i,s;return a(this,(function(o){switch(o.label){case 0:return[4,function(t,e){var n=kr(t),r=kr(n._n);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(t){return r.jt(t,e).next((function(e){return e?n.Mn.pn(t,e):la.resolve(null)}))}))}((i=kr(t)).localStore,e)];case 1:return null===(s=o.sent())?[3,6]:"pending"!==n?[3,3]:[4,Vc(i.remoteStore)];case 2:return o.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(Al(i,e,r||null),kl(i,e),function(t,e){kr(kr(t)._n).Gt(e)}(i.localStore,e)):Ir(),o.label=4;case 4:return[4,Ll(i,s)];case 5:return o.sent(),[3,7];case 6:Sr("SyncEngine","Cannot apply mutation batch with id: "+e),o.label=7;case 7:return[2]}}))}))}function Vl(t,e){return o(this,void 0,void 0,(function(){var n,r,i,s,o,u,c;return a(this,(function(a){switch(a.label){case 0:return Kl(n=kr(t)),Ql(n),!0!==e||!0===n.$o?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,ql(n,r.toArray())]);case 1:return i=a.sent(),n.$o=!0,[4,Qc(n.remoteStore,!0)];case 2:for(a.sent(),s=0,o=i;s<o.length;s++)kc(n.remoteStore,o[s]);return[3,7];case 3:return!1!==e||!1===n.$o?[3,7]:(u=[],c=Promise.resolve(),n.Vo.forEach((function(t,e){n.sharedClientState.isLocalQueryTarget(e)?u.push(e):c=c.then((function(){return Ol(n,e),Mu(n.localStore,e,!0)})),Ac(n.remoteStore,e)})),[4,c]);case 4:return a.sent(),[4,ql(n,u)];case 5:return a.sent(),function(t){var e=kr(t);e.Co.forEach((function(t,n){Ac(e.remoteStore,n)})),e.No.ts(),e.Co=new Map,e.Do=new Ms(ti.comparator)}(n),n.$o=!1,[4,Qc(n.remoteStore,!1)];case 6:a.sent(),a.label=7;case 7:return[2]}}))}))}function ql(t,e,n){return o(this,void 0,void 0,(function(){var n,r,i,s,o,u,c,l,h,f,d,p,g;return a(this,(function(a){switch(a.label){case 0:n=kr(t),r=[],i=[],s=0,o=e,a.label=1;case 1:return s<o.length?(c=void 0,(l=n.Vo.get(u=o[s]))&&0!==l.length?[4,Fu(n.localStore,Gi(l[0]))]:[3,7]):[3,13];case 2:c=a.sent(),h=0,f=l,a.label=3;case 3:return h<f.length?(d=n.Po.get(f[h]),[4,jl(n,d)]):[3,6];case 4:(p=a.sent()).snapshot&&i.push(p.snapshot),a.label=5;case 5:return h++,[3,3];case 6:return[3,11];case 7:return[4,zu(n.localStore,u)];case 8:return g=a.sent(),[4,Fu(n.localStore,g)];case 9:return c=a.sent(),[4,bl(n,Bl(g),u,!1)];case 10:a.sent(),a.label=11;case 11:r.push(c),a.label=12;case 12:return s++,[3,1];case 13:return[2,(n.vo._r(i),r)]}}))}))}function Bl(t){return ji(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Hl(t){var e=kr(t);return kr(kr(e.localStore).persistence).fn()}function $l(t,e,n,r){return o(this,void 0,void 0,(function(){var i,s,o;return a(this,(function(a){switch(a.label){case 0:return(i=kr(t)).$o?(Sr("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Uu(i.localStore)];case 3:return s=a.sent(),o=Js.createSynthesizedRemoteEventForCurrentChange(e,"current"===n),[4,Ll(i,s,o)];case 4:return a.sent(),[3,8];case 5:return[4,Mu(i.localStore,e,!0)];case 6:return a.sent(),Ol(i,e,r),[3,8];case 7:Ir(),a.label=8;case 8:return[2]}}))}))}function Gl(t,e,n){return o(this,void 0,void 0,(function(){var r,i,s,o,u,c,l,h,f;return a(this,(function(d){switch(d.label){case 0:if(!(r=Kl(t)).$o)return[3,10];i=0,s=e,d.label=1;case 1:return i<s.length?r.Vo.has(o=s[i])?(Sr("SyncEngine","Adding an already active target "+o),[3,5]):[4,zu(r.localStore,o)]:[3,6];case 2:return u=d.sent(),[4,Fu(r.localStore,u)];case 3:return c=d.sent(),[4,bl(r,Bl(u),c.targetId,!1)];case 4:d.sent(),kc(r.remoteStore,c),d.label=5;case 5:return i++,[3,1];case 6:l=function(t){return a(this,(function(e){switch(e.label){case 0:return r.Vo.has(t)?[4,Mu(r.localStore,t,!1).then((function(){Ac(r.remoteStore,t),Ol(r,t)})).catch(ru)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))},h=0,f=n,d.label=7;case 7:return h<f.length?[5,l(f[h])]:[3,10];case 8:d.sent(),d.label=9;case 9:return h++,[3,7];case 10:return[2]}}))}))}function Kl(t){var e=kr(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Sl.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Ml.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Tl.bind(null,e),e.vo._r=ol.bind(null,e.eventManager),e.vo.Mo=al.bind(null,e.eventManager),e}function Ql(t){var e=kr(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Cl.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Il.bind(null,e),e}var Wl=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return o(this,void 0,void 0,(function(){return a(this,(function(e){switch(e.label){case 0:return this.R=vc(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return e.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Ko(t),[2]}}))}))},t.prototype.Uo=function(t){return null},t.prototype.Ko=function(t){return Au(this.persistence,new xu,t.initialUser,this.R)},t.prototype.qo=function(t){return new Xu(Zu.bs,this.R)},t.prototype.Bo=function(t){return new lc},t.prototype.terminate=function(){return o(this,void 0,void 0,(function(){return a(this,(function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}}))}))},t}(),Yl=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Qo=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return s(e,t),e.prototype.initialize=function(e){return o(this,void 0,void 0,(function(){var n=this;return a(this,(function(r){switch(r.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return r.sent(),[4,Vu(this.localStore)];case 2:return r.sent(),[4,this.Qo.initialize(this,e)];case 3:return r.sent(),[4,Ql(this.Qo.syncEngine)];case 4:return r.sent(),[4,Vc(this.Qo.remoteStore)];case 5:return r.sent(),[4,this.persistence.He((function(){return n.gcScheduler&&!n.gcScheduler.started&&n.gcScheduler.start(n.localStore),Promise.resolve()}))];case 6:return r.sent(),[2]}}))}))},e.prototype.Ko=function(t){return Au(this.persistence,new xu,t.initialUser,this.R)},e.prototype.Uo=function(t){return new ou(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue)},e.prototype.qo=function(t){var e=Eu(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Ha.withCacheSize(this.cacheSizeBytes):Ha.DEFAULT;return new wu(this.synchronizeTabs,e,t.clientId,n,t.asyncQueue,mc(),yc(),this.R,this.sharedClientState,!!this.forceOwnership)},e.prototype.Bo=function(t){return new lc},e}(Wl),Xl=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Qo=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return s(e,t),e.prototype.initialize=function(e){return o(this,void 0,void 0,(function(){var n,r=this;return a(this,(function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Qo.syncEngine,this.sharedClientState instanceof cc?(this.sharedClientState.syncEngine={ui:Ul.bind(null,n),ai:$l.bind(null,n),hi:Gl.bind(null,n),fn:Hl.bind(null,n),ci:zl.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.He((function(t){return o(r,void 0,void 0,(function(){return a(this,(function(e){switch(e.label){case 0:return[4,Vl(this.Qo.syncEngine,t)];case 1:return e.sent(),this.gcScheduler&&(t&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):t||this.gcScheduler.stop()),[2]}}))}))}))];case 4:return i.sent(),[2]}}))}))},e.prototype.Bo=function(t){var e=mc();if(!cc.yt(e))throw new br(vr.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Eu(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new cc(e,t.asyncQueue,n,t.clientId,t.initialUser)},e}(Yl),Jl=function(){function t(){}return t.prototype.initialize=function(t,e){return o(this,void 0,void 0,(function(){var n=this;return a(this,(function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(t){return El(n.syncEngine,t,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Fl.bind(null,this.syncEngine),[4,Qc(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},t.prototype.createEventManager=function(t){return new rl},t.prototype.createDatastore=function(t){var e=vc(t.databaseInfo.databaseId),n=new gc(t.databaseInfo);return function(t,e,n){return new Ec(t,e,n)}(t.credentials,n,e)},t.prototype.createRemoteStore=function(t){var e,n,r,i,s,o=this;return e=this.localStore,n=this.datastore,r=t.asyncQueue,i=function(t){return El(o.syncEngine,t,0)},s=fc.yt()?new fc:new hc,new Cc(e,n,r,i,s)},t.prototype.createSyncEngine=function(t,e){return function(t,e,n,r,i,s,o){var a=new yl(t,e,n,r,i,s);return o&&(a.$o=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)},t.prototype.terminate=function(){return function(t){return o(this,void 0,void 0,(function(){var e;return a(this,(function(n){switch(n.label){case 0:return e=kr(t),Sr("RemoteStore","RemoteStore shutting down."),e.Or.add(5),[4,xc(e)];case 1:return n.sent(),e.Lr.shutdown(),e.Br.set("Unknown"),[2]}}))}))}(this.remoteStore)},t}(),Zl=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.Wo=function(){this.muted=!0},t.prototype.jo=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},t}(),th=(function(){function t(t,e){var n=this;this.Go=t,this.R=e,this.metadata=new ca,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then((function(t){t&&t.io()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))}),(function(t){return n.metadata.reject(t)}))}t.prototype.close=function(){return this.Go.cancel()},t.prototype.getMetadata=function(){return o(this,void 0,void 0,(function(){return a(this,(function(t){return[2,this.metadata.promise]}))}))},t.prototype.Lo=function(){return o(this,void 0,void 0,(function(){return a(this,(function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.Ho())]}}))}))},t.prototype.Ho=function(){return o(this,void 0,void 0,(function(){var t,e,n,r;return a(this,(function(i){switch(i.label){case 0:return[4,this.Jo()];case 1:return null===(t=i.sent())?[2,null]:(e=this.zo.decode(t),n=Number(e),isNaN(n)&&this.Yo("length string ("+e+") is not valid number"),[4,this.Xo(n)]);case 2:return r=i.sent(),[2,new ll(JSON.parse(r),t.length+n)]}}))}))},t.prototype.Zo=function(){return this.buffer.findIndex((function(t){return t==="{".charCodeAt(0)}))},t.prototype.Jo=function(){return o(this,void 0,void 0,(function(){var t,e;return a(this,(function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}}))}))},t.prototype.Xo=function(t){return o(this,void 0,void 0,(function(){var e;return a(this,(function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.zo.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}}))}))},t.prototype.Yo=function(t){throw this.Go.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.tc=function(){return o(this,void 0,void 0,(function(){var t,e;return a(this,(function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}}))}))}}(),function(){function t(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(t){return o(this,void 0,void 0,(function(){var e,n=this;return a(this,(function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new br(vr.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return o(this,void 0,void 0,(function(){var n,r,i,s,o,u;return a(this,(function(a){switch(a.label){case 0:return n=kr(t),r=_o(n.R)+"/documents",i={documents:e.map((function(t){return yo(n.R,t)}))},[4,n.$i("BatchGetDocuments",r,i)];case 1:return s=a.sent(),o=new Map,s.forEach((function(t){var e=function(t,e){return"found"in e?function(t,e){xr(!!e.found);var n=vo(t,e.found.name),r=po(e.found.updateTime),i=new pi({mapValue:{fields:e.found.fields}});return mi.newFoundDocument(n,r,i)}(t,e):"missing"in e?function(t,e){xr(!!e.missing),xr(!!e.readTime);var n=vo(t,e.missing),r=po(e.readTime);return mi.newNoDocument(n,r)}(t,e):Ir()}(n.R,t);o.set(e.key.toString(),e)})),u=[],[2,(e.forEach((function(t){var e=o.get(t.toString());xr(!!e),u.push(e)})),u)]}}))}))}(this.datastore,t)];case 1:return[2,((e=r.sent()).forEach((function(t){return n.recordVersion(t)})),e)]}}))}))},t.prototype.set=function(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(t){this.lastWriteError=t}this.writtenDocs.add(t.toString())},t.prototype.delete=function(t){this.write(new Ds(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.commit=function(){return o(this,void 0,void 0,(function(){var t,e=this;return a(this,(function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(t,n){var r=ti.fromPath(n);e.mutations.push(new Ps(r,e.precondition(r)))})),[4,function(t,e){return o(this,void 0,void 0,(function(){var n,r,i;return a(this,(function(s){switch(s.label){case 0:return n=kr(t),r=_o(n.R)+"/documents",i={writes:e.map((function(t){return Co(n.R,t)}))},[4,n.Ni("Commit",r,i)];case 1:return s.sent(),[2]}}))}))}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}}))}))},t.prototype.recordVersion=function(t){var e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw Ir();e=Lr.min()}var n=this.readVersions.get(t.key.toString());if(n){if(!e.isEqual(n))throw new br(vr.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)},t.prototype.precondition=function(t){var e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?ys.updateTime(e):ys.none()},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(Lr.min()))throw new br(vr.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ys.updateTime(e)}return ys.exists(!0)},t.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},t.prototype.ensureCommitNotCalled=function(){},t}()),eh=function(){function t(t,e,n,r){this.asyncQueue=t,this.datastore=e,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new bc(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.ec-=1,this.nc()},t.prototype.nc=function(){var t=this;this.Zi.ji((function(){return o(t,void 0,void 0,(function(){var t,e,n=this;return a(this,(function(r){return t=new th(this.datastore),(e=this.sc(t))&&e.then((function(e){n.asyncQueue.enqueueAndForget((function(){return t.commit().then((function(){n.deferred.resolve(e)})).catch((function(t){n.ic(t)}))}))})).catch((function(t){n.ic(t)})),[2]}))}))}))},t.prototype.sc=function(t){try{var e=this.updateFunction(t);return!Xr(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}},t.prototype.ic=function(t){var e=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget((function(){return e.nc(),Promise.resolve()}))):this.deferred.reject(t)},t.prototype.rc=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!Ls(e)}return!1},t}(),nh=function(){function t(t,e,n){var r=this;this.credentials=t,this.asyncQueue=e,this.databaseInfo=n,this.user=tc.UNAUTHENTICATED,this.clientId=Or.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(e,(function(t){return o(r,void 0,void 0,(function(){return a(this,(function(e){switch(e.label){case 0:return Sr("FirestoreClient","Received user=",t.uid),[4,this.credentialListener(t)];case 1:return e.sent(),this.user=t,[2]}}))}))}))}return t.prototype.getConfiguration=function(){return o(this,void 0,void 0,(function(){return a(this,(function(t){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]}))}))},t.prototype.setCredentialChangeListener=function(t){this.credentialListener=t},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new br(vr.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var e=new ca;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((function(){return o(t,void 0,void 0,(function(){var t,n;return a(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),e.resolve(),[3,6];case 5:return t=r.sent(),n=Jc(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}}))}))})),e.promise},t}();function rh(t,e){return o(this,void 0,void 0,(function(){var n,r,i=this;return a(this,(function(s){switch(s.label){case 0:return t.asyncQueue.verifyOperationInProgress(),Sr("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=s.sent(),[4,e.initialize(n)];case 2:return s.sent(),r=n.initialUser,t.setCredentialChangeListener((function(t){return o(i,void 0,void 0,(function(){return a(this,(function(n){switch(n.label){case 0:return r.isEqual(t)?[3,2]:[4,Ou(e.localStore,t)];case 1:n.sent(),r=t,n.label=2;case 2:return[2]}}))}))})),e.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=e,[2]}}))}))}function ih(t,e){return o(this,void 0,void 0,(function(){var n,r;return a(this,(function(i){switch(i.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,sh(t)];case 1:return n=i.sent(),Sr("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.setCredentialChangeListener((function(t){return function(t,e){return o(this,void 0,void 0,(function(){var n,r;return a(this,(function(i){switch(i.label){case 0:return(n=kr(t)).asyncQueue.verifyOperationInProgress(),Sr("RemoteStore","RemoteStore received new credentials"),r=Rc(n),n.Or.add(3),[4,xc(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(e)];case 2:return i.sent(),n.Or.delete(3),[4,Ic(n)];case 3:return i.sent(),[2]}}))}))}(e.remoteStore,t)})),t.onlineComponents=e,[2]}}))}))}function sh(t){return o(this,void 0,void 0,(function(){return a(this,(function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:(Sr("FirestoreClient","Using default OfflineComponentProvider"),[4,rh(t,new Wl)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}}))}))}function oh(t){return o(this,void 0,void 0,(function(){return a(this,(function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:(Sr("FirestoreClient","Using default OnlineComponentProvider"),[4,ih(t,new Jl)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}}))}))}function ah(t){return sh(t).then((function(t){return t.persistence}))}function uh(t){return sh(t).then((function(t){return t.localStore}))}function ch(t){return oh(t).then((function(t){return t.remoteStore}))}function lh(t){return oh(t).then((function(t){return t.syncEngine}))}function hh(t){return o(this,void 0,void 0,(function(){var e,n;return a(this,(function(r){switch(r.label){case 0:return[4,oh(t)];case 1:return e=r.sent(),[2,((n=e.eventManager).onListen=vl.bind(null,e.syncEngine),n.onUnlisten=wl.bind(null,e.syncEngine),n)]}}))}))}function fh(t,e,n){var r=this;void 0===n&&(n={});var i=new ca;return t.asyncQueue.enqueueAndForget((function(){return o(r,void 0,void 0,(function(){var r;return a(this,(function(s){switch(s.label){case 0:return r=function(t,e,n,r,i){var s=new Zl({next:function(s){e.enqueueAndForget((function(){return sl(t,o)}));var a=s.docs.has(n);!a&&s.fromCache?i.reject(new br(vr.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&s.fromCache&&r&&"server"===r.source?i.reject(new br(vr.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:function(t){return i.reject(t)}}),o=new cl(zi(n.path),s,{includeMetadataChanges:!0,so:!0});return il(t,o)},[4,hh(t)];case 1:return[2,r.apply(void 0,[s.sent(),t.asyncQueue,e,n,i])]}}))}))})),i.promise}function dh(t,e,n){var r=this;void 0===n&&(n={});var i=new ca;return t.asyncQueue.enqueueAndForget((function(){return o(r,void 0,void 0,(function(){var r;return a(this,(function(s){switch(s.label){case 0:return r=function(t,e,n,r,i){var s=new Zl({next:function(n){e.enqueueAndForget((function(){return sl(t,o)})),n.fromCache&&"server"===r.source?i.reject(new br(vr.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),o=new cl(n,s,{includeMetadataChanges:!0,so:!0});return il(t,o)},[4,hh(t)];case 1:return[2,r.apply(void 0,[s.sent(),t.asyncQueue,e,n,i])]}}))}))})),i.promise}var ph=function(t,e,n,r,i,s,o,a){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.useFetchStreams=a},gh=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),mh=new Map,yh=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},vh=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t,e){this.changeListener=e,t.enqueueRetryable((function(){return e(tc.UNAUTHENTICATED)}))},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),bh=function(){function t(t){this.token=t,this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(this.token)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t,e){var n=this;this.changeListener=e,t.enqueueRetryable((function(){return e(n.token.user)}))},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),wh=function(){function t(t){var e=this;this.currentUser=tc.UNAUTHENTICATED,this.oc=new ca,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){e.cc++,e.currentUser=e.ac(),e.oc.resolve(),e.changeListener&&e.asyncQueue.enqueueRetryable((function(){return e.changeListener(e.currentUser)}))};var n=function(t){Sr("FirebaseCredentialsProvider","Auth detected"),e.auth=t,e.auth.addAuthTokenListener(e.uc)};t.onInit((function(t){return n(t)})),setTimeout((function(){if(!e.auth){var r=t.getImmediate({optional:!0});r?n(r):(Sr("FirebaseCredentialsProvider","Auth not yet detected"),e.oc.resolve())}}),0)}return t.prototype.getToken=function(){var t=this,e=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return t.cc!==e?(Sr("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(xr("string"==typeof n.accessToken),new yh(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t,e){var n=this;this.asyncQueue=t,this.asyncQueue.enqueueRetryable((function(){return o(n,void 0,void 0,(function(){return a(this,(function(t){switch(t.label){case 0:return[4,this.oc.promise];case 1:return t.sent(),[4,e(this.currentUser)];case 2:return t.sent(),this.changeListener=e,[2]}}))}))}))},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},t.prototype.ac=function(){var t=this.auth&&this.auth.getUid();return xr(null===t||"string"==typeof t),new tc(t)},t}(),_h=function(){function t(t,e,n){this.hc=t,this.lc=e,this.fc=n,this.type="FirstParty",this.user=tc.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.lc},e=this.hc.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),this.fc&&(t["X-Goog-Iam-Authorization-Token"]=this.fc),t},enumerable:!1,configurable:!0}),t}(),Sh=function(){function t(t,e,n){this.hc=t,this.lc=e,this.fc=n}return t.prototype.getToken=function(){return Promise.resolve(new _h(this.hc,this.lc,this.fc))},t.prototype.setChangeListener=function(t,e){t.enqueueRetryable((function(){return e(tc.FIRST_PARTY)}))},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();function Eh(t,e,n){if(!n)throw new br(vr.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function Th(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new br(vr.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function Ch(t,e,n,r){if(!0===e&&!0===r)throw new br(vr.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function Ih(t){if(!ti.isDocumentKey(t))throw new br(vr.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function xh(t){if(ti.isDocumentKey(t))throw new br(vr.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function kh(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":Ir()}function Ah(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new br(vr.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=kh(t);throw new br(vr.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function Oh(t,e){if(e<=0)throw new br(vr.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var Nh=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new br(vr.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new br(vr.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,Ch("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams},t}(),Dh=function(){function t(t,e){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Nh({}),this._settingsFrozen=!1,t instanceof gh?(this._databaseId=t,this._credentials=new vh):(this._app=t,this._databaseId=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new br(vr.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new gh(t.options.projectId)}(t),this._credentials=new wh(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new br(vr.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(t){if(this._settingsFrozen)throw new br(vr.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Nh(t),void 0!==t.credentials&&(this._credentials=function(t){if(!t)return new vh;switch(t.type){case"gapi":var e=t.client;return xr(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new Sh(e,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new br(vr.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return(t=mh.get(this))&&(Sr("ComponentProvider","Removing Datastore"),mh.delete(this),t.terminate()),Promise.resolve();var t},t}(),Ph=function(){function t(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Lh(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),Rh=function(){function t(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),Lh=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,zi(r))||this)._path=r,i.type="collection",i}return s(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._path.popLast();return t.isEmpty()?null:new Ph(this.firestore,null,new ti(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._path)},e}(Rh);function Fh(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=Object(c.h)(t),Eh("collection","path",e),t instanceof Dh)return xh(n=Ur.fromString.apply(Ur,u([e],r))),new Lh(t,null,n);if(!(t instanceof Ph||t instanceof Lh))throw new br(vr.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return xh(n=Ur.fromString.apply(Ur,u([t.path],r)).child(Ur.fromString(e))),new Lh(t.firestore,null,n)}function Mh(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=Object(c.h)(t),1===arguments.length&&(e=Or.u()),Eh("doc","path",e),t instanceof Dh)return Ih(n=Ur.fromString.apply(Ur,u([e],r))),new Ph(t,null,new ti(n));if(!(t instanceof Ph||t instanceof Lh))throw new br(vr.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Ih(n=t._path.child(Ur.fromString.apply(Ur,u([e],r)))),new Ph(t.firestore,t instanceof Lh?t.converter:null,new ti(n))}function jh(t,e){return t=Object(c.h)(t),e=Object(c.h)(e),(t instanceof Ph||t instanceof Lh)&&(e instanceof Ph||e instanceof Lh)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function zh(t,e){return t=Object(c.h)(t),e=Object(c.h)(e),t instanceof Rh&&e instanceof Rh&&t.firestore===e.firestore&&Qi(t._query,e._query)&&t.converter===e.converter}var Uh=function(){function t(){var t=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new bc(this,"async_queue_retry"),this.Ic=function(){var e=yc();e&&Sr("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Zi.Gi()};var e=yc();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Ac(),this.Rc(t)},t.prototype.enterRestrictedMode=function(t){if(!this._c){this._c=!0,this.Ec=t||!1;var e=yc();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Ic)}},t.prototype.enqueue=function(t){var e=this;if(this.Ac(),this._c)return new Promise((function(){}));var n=new ca;return this.Rc((function(){return e._c&&e.Ec?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))},t.prototype.enqueueRetryable=function(t){var e=this;this.enqueueAndForget((function(){return e.wc.push(t),e.bc()}))},t.prototype.bc=function(){return o(this,void 0,void 0,(function(){var t,e=this;return a(this,(function(n){switch(n.label){case 0:if(0===this.wc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return n.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!ga(t=n.sent()))throw t;return Sr("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.wc.length>0&&this.Zi.ji((function(){return e.bc()})),n.label=5;case 5:return[2]}}))}))},t.prototype.Rc=function(t){var e=this,n=this.dc.then((function(){return e.gc=!0,t().catch((function(t){throw e.yc=t,e.gc=!1,Er("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t})).then((function(t){return e.gc=!1,t}))}));return this.dc=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.Ac(),this.Tc.indexOf(t)>-1&&(e=0);var i=Xc.createAndSchedule(this,t,e,n,(function(t){return r.vc(t)}));return this.mc.push(i),i},t.prototype.Ac=function(){this.yc&&Ir()},t.prototype.verifyOperationInProgress=function(){},t.prototype.Pc=function(){return o(this,void 0,void 0,(function(){var t;return a(this,(function(e){switch(e.label){case 0:return[4,t=this.dc];case 1:e.sent(),e.label=2;case 2:if(t!==this.dc)return[3,0];e.label=3;case 3:return[2]}}))}))},t.prototype.Vc=function(t){for(var e=0,n=this.mc;e<n.length;e++)if(n[e].timerId===t)return!0;return!1},t.prototype.Sc=function(t){var e=this;return this.Pc().then((function(){e.mc.sort((function(t,e){return t.targetTimeMs-e.targetTimeMs}));for(var n=0,r=e.mc;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==t&&i.timerId===t)break}return e.Pc()}))},t.prototype.Dc=function(t){this.Tc.push(t)},t.prototype.vc=function(t){var e=this.mc.indexOf(t);this.mc.splice(e,1)},t}();function Vh(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var s=i[r];if(s in n&&"function"==typeof n[s])return!0}return!1}(t)}!function(){function t(){this._progressObserver={},this._taskCompletionResolver=new ca,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this._progressObserver={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this._taskCompletionResolver.promise.catch(t)},t.prototype.then=function(t,e){return this._taskCompletionResolver.promise.then(t,e)},t.prototype._completeWith=function(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)},t.prototype._failWith=function(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)},t.prototype._updateProgress=function(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}();var qh=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).type="firestore",r._queue=new Uh,r._persistenceKey="name"in e?e.name:"[DEFAULT]",r}return s(e,t),e.prototype._terminate=function(){return this._firestoreClient||Hh(this),this._firestoreClient.terminate()},e}(Dh);function Bh(t){return t._firestoreClient||Hh(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Hh(t){var e,n=t._freezeSettings(),r=function(t,e,n,r){return new ph(t,e,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(t._databaseId,(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new nh(t._credentials,t._queue,r)}function $h(t,e,n){var r=this,i=new ca;return t.asyncQueue.enqueue((function(){return o(r,void 0,void 0,(function(){var r;return a(this,(function(s){switch(s.label){case 0:return s.trys.push([0,3,,4]),[4,rh(t,n)];case 1:return s.sent(),[4,ih(t,e)];case 2:return s.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===vr.FAILED_PRECONDITION||t.code===vr.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=s.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}}))}))})).then((function(){return i.promise}))}function Gh(t){if(t._initialized||t._terminated)throw new br(vr.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Kh=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new br(vr.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qr(t)}return t.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},t}(),Qh=function(){function t(t){this._byteString=t}return t.fromBase64String=function(e){try{return new t(Hr.fromBase64String(e))}catch(e){throw new br(vr.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(Hr.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},t}(),Wh=function(t){this._methodName=t},Yh=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new br(vr.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new br(vr.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(t){return Nr(this._lat,t._lat)||Nr(this._long,t._long)},t}(),Xh=/^__.*__$/,Jh=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return null!==this.fieldMask?new Is(t,this.data,this.fieldMask,e,this.fieldTransforms):new Cs(t,this.data,e,this.fieldTransforms)},t}(),Zh=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return new Is(t,this.data,this.fieldMask,e,this.fieldTransforms)},t}();function tf(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ir()}}var ef=function(){function t(t,e,n,r,i,s){this.settings=t,this.databaseId=e,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Cc(),this.fieldTransforms=i||[],this.fieldMask=s||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),t.prototype.xc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.kc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.xc({path:n,Fc:!1});return r.$c(t),r},t.prototype.Oc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.xc({path:n,Fc:!1});return r.Cc(),r},t.prototype.Mc=function(t){return this.xc({path:void 0,Fc:!0})},t.prototype.Lc=function(t){return Sf(t,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find((function(e){return t.isPrefixOf(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.isPrefixOf(e.field)}))},t.prototype.Cc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.$c(this.path.get(t))},t.prototype.$c=function(t){if(0===t.length)throw this.Lc("Document fields must not be empty");if(tf(this.Nc)&&Xh.test(t))throw this.Lc('Document fields cannot begin and end with "__"')},t}(),nf=function(){function t(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.R=n||vc(t)}return t.prototype.Uc=function(t,e,n,r){return void 0===r&&(r=!1),new ef({Nc:t,methodName:e,qc:n,path:qr.emptyPath(),Fc:!1,Bc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},t}();function rf(t){var e=t._freezeSettings(),n=vc(t._databaseId);return new nf(t._databaseId,!!e.ignoreUndefinedProperties,n)}function sf(t,e,n,r,i,s){void 0===s&&(s={});var o=t.Uc(s.merge||s.mergeFields?2:0,e,n,i);vf("Data must be an object, but it was:",o,r);var a,u,c=mf(r,o);if(s.merge)a=new Br(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){for(var l=[],h=0,f=s.mergeFields;h<f.length;h++){var d=bf(e,f[h],n);if(!o.contains(d))throw new br(vr.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");Ef(l,d)||l.push(d)}a=new Br(l),u=o.fieldTransforms.filter((function(t){return a.covers(t.field)}))}else a=null,u=o.fieldTransforms;return new Jh(new pi(c),a,u)}var of=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e.prototype._toFieldTransform=function(t){if(2!==t.Nc)throw t.Lc(1===t.Nc?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.fieldMask.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(Wh);function af(t,e,n){return new ef({Nc:3,qc:e.settings.qc,methodName:t._methodName,Fc:n},e.databaseId,e.R,e.ignoreUndefinedProperties)}var uf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e.prototype._toFieldTransform=function(t){return new gs(t.path,new as)},e.prototype.isEqual=function(t){return t instanceof e},e}(Wh),cf=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Kc=n,r}return s(e,t),e.prototype._toFieldTransform=function(t){var e=af(this,t,!0),n=this.Kc.map((function(t){return gf(t,e)})),r=new us(n);return new gs(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Wh),lf=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Kc=n,r}return s(e,t),e.prototype._toFieldTransform=function(t){var e=af(this,t,!0),n=this.Kc.map((function(t){return gf(t,e)})),r=new ls(n);return new gs(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Wh),hf=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Qc=n,r}return s(e,t),e.prototype._toFieldTransform=function(t){var e=new fs(t.R,ns(t.R,this.Qc));return new gs(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(Wh);function ff(t,e,n,r){var i=t.Uc(1,e,n);vf("Data must be an object, but it was:",i,r);var s=[],o=pi.empty();Mr(r,(function(t,r){var a=_f(e,t,n);r=Object(c.h)(r);var u=i.Oc(a);if(r instanceof of)s.push(a);else{var l=gf(r,u);null!=l&&(s.push(a),o.set(a,l))}}));var a=new Br(s);return new Zh(o,a,i.fieldTransforms)}function df(t,e,n,r,i,s){var o=t.Uc(1,e,n),a=[bf(e,r,n)],u=[i];if(s.length%2!=0)throw new br(vr.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var l=0;l<s.length;l+=2)a.push(bf(e,s[l])),u.push(s[l+1]);for(var h=[],f=pi.empty(),d=a.length-1;d>=0;--d)if(!Ef(h,a[d])){var p=a[d],g=u[d];g=Object(c.h)(g);var m=o.Oc(p);if(g instanceof of)h.push(p);else{var y=gf(g,m);null!=y&&(h.push(p),f.set(p,y))}}var v=new Br(h);return new Zh(f,v,o.fieldTransforms)}function pf(t,e,n,r){return void 0===r&&(r=!1),gf(n,t.Uc(r?4:3,e))}function gf(t,e){if(yf(t=Object(c.h)(t)))return vf("Unsupported field value:",e,t),mf(t,e);if(t instanceof Wh)return function(t,e){if(!tf(e.Nc))throw e.Lc(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.Lc(t._methodName+"() is not currently supported inside arrays");var n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Fc&&4!==e.Nc)throw e.Lc("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,s=t;i<s.length;i++){var o=gf(s[i],e.Mc(r));null==o&&(o={nullValue:"NULL_VALUE"}),n.push(o),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===(t=Object(c.h)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return ns(e.R,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=Rr.fromDate(t);return{timestampValue:lo(e.R,n)}}if(t instanceof Rr)return n=new Rr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:lo(e.R,n)};if(t instanceof Yh)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Qh)return{bytesValue:ho(e.R,t._byteString)};if(t instanceof Ph){var r=t.firestore._databaseId;if(!r.isEqual(n=e.databaseId))throw e.Lc("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:go(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.Lc("Unsupported field value: "+kh(t))}(t,e)}function mf(t,e){var n={};return jr(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Mr(t,(function(t,r){var i=gf(r,e.kc(t));null!=i&&(n[t]=i)})),{mapValue:{fields:n}}}function yf(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Rr||t instanceof Yh||t instanceof Qh||t instanceof Ph||t instanceof Wh)}function vf(t,e,n){if(!yf(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=kh(n);throw e.Lc("an object"===r?t+" a custom object":t+" "+r)}}function bf(t,e,n){if((e=Object(c.h)(e))instanceof Kh)return e._internalPath;if("string"==typeof e)return _f(t,e);throw Sf("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var wf=new RegExp("[~\\*/\\[\\]]");function _f(t,e,n){if(e.search(wf)>=0)throw Sf("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(Kh.bind.apply(Kh,u([void 0],e.split(".")))))._internalPath}catch(r){throw Sf("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function Sf(t,e,n,r,i){var s=r&&!r.isEmpty(),o=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var u="";return(s||o)&&(u+=" (found",s&&(u+=" in field "+r),o&&(u+=" in document "+i),u+=")"),new br(vr.INVALID_ARGUMENT,(a+=". ")+t+u)}function Ef(t,e){return t.some((function(t){return t.isEqual(e)}))}var Tf=function(){function t(t,e,n,r,i){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Ph(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this._document},t.prototype.data=function(){if(this._document){if(this._converter){var t=new Cf(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}},t.prototype.get=function(t){if(this._document){var e=this._document.data.field(If("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}},t}(),Cf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(Tf);function If(t,e){return"string"==typeof e?_f(t,e):e instanceof Kh?e._internalPath:e._delegate._internalPath}var xf=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),kf=function(t){function e(e,n,r,i,s,o){var a=this;return(a=t.call(this,e,n,r,i,o)||this)._firestore=e,a._firestoreImpl=e,a.metadata=s,a}return s(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this._document){if(this._converter){var e=new Af(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this._document){var n=this._document.data.field(If("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}},e}(Tf),Af=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(kf),Of=function(){function t(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new xf(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._snapshot.docs.forEach((function(r){t.call(e,new Af(n._firestore,n._userDataWriter,r.key,r,new xf(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new br(vr.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){var n=0;return t._snapshot.docChanges.map((function(e){return{type:"added",doc:new Af(t._firestore,t._userDataWriter,e.doc.key,e.doc,new xf(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),oldIndex:-1,newIndex:n++}}))}var r=t._snapshot.oldDocs;return t._snapshot.docChanges.filter((function(t){return e||3!==t.type})).map((function(e){var n=new Af(t._firestore,t._userDataWriter,e.doc.key,e.doc,new xf(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),i=-1,s=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(s=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:Nf(e.type),doc:n,oldIndex:i,newIndex:s}}))}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t}();function Nf(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ir()}}function Df(t,e){return t instanceof kf&&e instanceof kf?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof Of&&e instanceof Of&&t._firestore===e._firestore&&zh(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}function Pf(t){if(Vi(t)&&0===t.explicitOrderBy.length)throw new br(vr.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Rf=function(){};function Lf(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var s=i[r];t=s._apply(t)}return t}var Ff=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).jc=e,i.Wc=n,i.Gc=r,i.type="where",i}return s(e,t),e.prototype._apply=function(t){var e=rf(t.firestore),n=function(t,e,n,r,i,s,o){var a;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new br(vr.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+s+"' queries on FieldPath.documentId().");if("in"===s||"not-in"===s){Bf(o,s);for(var u=[],c=0,l=o;c<l.length;c++)u.push(qf(r,t,l[c]));a={arrayValue:{values:u}}}else a=qf(r,t,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||Bf(o,s),a=pf(n,"where",o,"in"===s||"not-in"===s);var h=Si.create(i,s,a);return function(t,e){if(e.g()){var n=Bi(t);if(null!==n&&!n.isEqual(e.field))throw new br(vr.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=qi(t);null!==r&&Hf(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new br(vr.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t._query,0,e,t.firestore._databaseId,this.jc,this.Wc,this.Gc);return new Rh(t.firestore,t.converter,function(t,e){var n=t.filters.concat([e]);return new Mi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t._query,n))},e}(Rf),Mf=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).jc=e,r.zc=n,r.type="orderBy",r}return s(e,t),e.prototype._apply=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new br(vr.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new br(vr.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Pi(e,n);return function(t,e){if(null===qi(t)){var n=Bi(t);null!==n&&Hf(0,n,e.field)}}(t,r),r}(t._query,this.jc,this.zc);return new Rh(t.firestore,t.converter,function(t,e){var n=t.explicitOrderBy.concat([e]);return new Mi(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t._query,e))},e}(Rf),jf=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Hc=n,i.Jc=r,i}return s(e,t),e.prototype._apply=function(t){return new Rh(t.firestore,t.converter,Ki(t._query,this.Hc,this.Jc))},e}(Rf),zf=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Yc=n,i.Xc=r,i}return s(e,t),e.prototype._apply=function(t){var e=Vf(t,this.type,this.Yc,this.Xc);return new Rh(t.firestore,t.converter,function(t,e){return new Mi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t._query,e))},e}(Rf),Uf=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Yc=n,i.Xc=r,i}return s(e,t),e.prototype._apply=function(t){var e=Vf(t,this.type,this.Yc,this.Xc);return new Rh(t.firestore,t.converter,function(t,e){return new Mi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t._query,e))},e}(Rf);function Vf(t,e,n,r){if(n[0]=Object(c.h)(n[0]),n[0]instanceof Tf)return function(t,e,n,r,i){if(!r)throw new br(vr.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var s=[],o=0,a=$i(t);o<a.length;o++){var u=a[o];if(u.field.isKeyField())s.push(ai(e,r.key));else{var c=r.data.field(u.field);if(Wr(c))throw new br(vr.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new br(vr.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}s.push(c)}}return new Ni(s,i)}(t._query,t.firestore._databaseId,e,n[0]._document,r);var i=rf(t.firestore);return function(t,e,n,r,i,s){var o=t.explicitOrderBy;if(i.length>o.length)throw new br(vr.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],u=0;u<i.length;u++){var c=i[u];if(o[u].field.isKeyField()){if("string"!=typeof c)throw new br(vr.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!Hi(t)&&-1!==c.indexOf("/"))throw new br(vr.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(Ur.fromString(c));if(!ti.isDocumentKey(l))throw new br(vr.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new ti(l);a.push(ai(e,h))}else{var f=pf(n,r,c);a.push(f)}}return new Ni(a,s)}(t._query,t.firestore._databaseId,i,e,n,r)}function qf(t,e,n){if("string"==typeof(n=Object(c.h)(n))){if(""===n)throw new br(vr.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Hi(e)&&-1!==n.indexOf("/"))throw new br(vr.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(Ur.fromString(n));if(!ti.isDocumentKey(r))throw new br(vr.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return ai(t,new ti(r))}if(n instanceof Ph)return ai(t,n._key);throw new br(vr.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+kh(n)+".")}function Bf(t,e){if(!Array.isArray(t)||0===t.length)throw new br(vr.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new br(vr.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function Hf(t,e,n){if(!n.isEqual(e))throw new br(vr.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var $f=function(){function t(){}return t.prototype.convertValue=function(t,e){switch(void 0===e&&(e="none"),ei(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Kr(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Qr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw Ir()}},t.prototype.convertObject=function(t,e){var n=this,r={};return Mr(t.fields,(function(t,i){r[t]=n.convertValue(i,e)})),r},t.prototype.convertGeoPoint=function(t){return new Yh(Kr(t.latitude),Kr(t.longitude))},t.prototype.convertArray=function(t,e){var n=this;return(t.values||[]).map((function(t){return n.convertValue(t,e)}))},t.prototype.convertServerTimestamp=function(t,e){switch(e){case"previous":var n=function t(e){var n=e.mapValue.fields.__previous_value__;return Wr(n)?t(n):n}(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(Yr(t));default:return null}},t.prototype.convertTimestamp=function(t){var e=Gr(t);return new Rr(e.seconds,e.nanos)},t.prototype.convertDocumentKey=function(t,e){var n=Ur.fromString(t);xr(zo(n));var r=new gh(n.get(1),n.get(3)),i=new ti(n.popFirst(5));return r.isEqual(e)||Er("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}();function Gf(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var Kf=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return s(e,t),e.prototype.convertBytes=function(t){return new Qh(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new Ph(this.firestore,null,e)},e}($f),Qf=function(){function t(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=rf(t)}return t.prototype.set=function(t,e,n){this._verifyNotCommitted();var r=Wf(t,this._firestore),i=Gf(r.converter,e,n),s=sf(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(s.toMutation(r._key,ys.none())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var s,o=Wf(t,this._firestore);return s="string"==typeof(e=Object(c.h)(e))||e instanceof Kh?df(this._dataReader,"WriteBatch.update",o._key,e,n,r):ff(this._dataReader,"WriteBatch.update",o._key,e),this._mutations.push(s.toMutation(o._key,ys.exists(!0))),this},t.prototype.delete=function(t){this._verifyNotCommitted();var e=Wf(t,this._firestore);return this._mutations=this._mutations.concat(new Ds(e._key,ys.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new br(vr.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function Wf(t,e){if((t=Object(c.h)(t)).firestore!==e)throw new br(vr.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var Yf=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return s(e,t),e.prototype.convertBytes=function(t){return new Qh(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new Ph(this.firestore,null,e)},e}($f);function Xf(t,e,n){t=Ah(t,Ph);var r=Ah(t.firestore,qh),i=Gf(t.converter,e,n);return td(r,[sf(rf(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,ys.none())])}function Jf(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=Ah(t,Ph);var s=Ah(t.firestore,qh),o=rf(s);return td(s,[("string"==typeof(e=Object(c.h)(e))||e instanceof Kh?df(o,"updateDoc",t._key,e,n,r):ff(o,"updateDoc",t._key,e)).toMutation(t._key,ys.exists(!0))])}function Zf(t){for(var e,n,r,i=[],s=1;s<arguments.length;s++)i[s-1]=arguments[s];t=Object(c.h)(t);var u={includeMetadataChanges:!1},l=0;"object"!=typeof i[l]||Vh(i[l])||(u=i[l],l++);var h,f,d,p={includeMetadataChanges:u.includeMetadataChanges};if(Vh(i[l])){var g=i[l];i[l]=null===(e=g.next)||void 0===e?void 0:e.bind(g),i[l+1]=null===(n=g.error)||void 0===n?void 0:n.bind(g),i[l+2]=null===(r=g.complete)||void 0===r?void 0:r.bind(g)}if(t instanceof Ph)f=Ah(t.firestore,qh),d=zi(t._key.path),h={next:function(e){i[l]&&i[l](ed(f,t,e))},error:i[l+1],complete:i[l+2]};else{var m=Ah(t,Rh);f=Ah(m.firestore,qh),d=m._query;var y=new Yf(f);h={next:function(t){i[l]&&i[l](new Of(f,y,m,t))},error:i[l+1],complete:i[l+2]},Pf(t._query)}return function(t,e,n,r){var i=this,s=new Zl(r),u=new cl(e,s,n);return t.asyncQueue.enqueueAndForget((function(){return o(i,void 0,void 0,(function(){var e;return a(this,(function(n){switch(n.label){case 0:return e=il,[4,hh(t)];case 1:return[2,e.apply(void 0,[n.sent(),u])]}}))}))})),function(){s.Wo(),t.asyncQueue.enqueueAndForget((function(){return o(i,void 0,void 0,(function(){var e;return a(this,(function(n){switch(n.label){case 0:return e=sl,[4,hh(t)];case 1:return[2,e.apply(void 0,[n.sent(),u])]}}))}))}))}}(Bh(f),d,p,h)}function td(t,e){return function(t,e){var n=this,r=new ca;return t.asyncQueue.enqueueAndForget((function(){return o(n,void 0,void 0,(function(){var n;return a(this,(function(i){switch(i.label){case 0:return n=_l,[4,lh(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(Bh(t),e)}function ed(t,e,n){var r=n.docs.get(e._key),i=new Yf(t);return new kf(t,i,e._key,r,new xf(n.hasPendingWrites,n.fromCache),e.converter)}var nd=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._firestore=e,r}return s(e,t),e.prototype.get=function(e){var n=this,r=Wf(e,this._firestore),i=new Yf(this._firestore);return t.prototype.get.call(this,e).then((function(t){return new kf(n._firestore,i,r._key,t._document,new xf(!1,!1),r.converter)}))},e}(function(){function t(t,e){this._firestore=t,this._transaction=e,this._dataReader=rf(t)}return t.prototype.get=function(t){var e=this,n=Wf(t,this._firestore),r=new Kf(this._firestore);return this._transaction.lookup([n._key]).then((function(t){if(!t||1!==t.length)return Ir();var i=t[0];if(i.isFoundDocument())return new Tf(e._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new Tf(e._firestore,r,n._key,null,n.converter);throw Ir()}))},t.prototype.set=function(t,e,n){var r=Wf(t,this._firestore),i=Gf(r.converter,e,n),s=sf(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,s),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var s,o=Wf(t,this._firestore);return s="string"==typeof(e=Object(c.h)(e))||e instanceof Kh?df(this._dataReader,"Transaction.update",o._key,e,n,r):ff(this._dataReader,"Transaction.update",o._key,e),this._transaction.update(o._key,s),this},t.prototype.delete=function(t){var e=Wf(t,this._firestore);return this._transaction.delete(e._key),this},t}());function rd(){if("undefined"==typeof Uint8Array)throw new br(vr.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function id(){if("undefined"==typeof atob)throw new br(vr.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var sd=function(){function t(t){this._delegate=t}return t.fromBase64String=function(e){return id(),new t(Qh.fromBase64String(e))},t.fromUint8Array=function(e){return rd(),new t(Qh.fromUint8Array(e))},t.prototype.toBase64=function(){return id(),this._delegate.toBase64()},t.prototype.toUint8Array=function(){return rd(),this._delegate.toUint8Array()},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(),od=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){Gh(t=Ah(t,qh));var n=Bh(t),r=t._freezeSettings(),i=new Jl;return $h(n,i,new Yl(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._delegate,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){Gh(t=Ah(t,qh));var e=Bh(t),n=t._freezeSettings(),r=new Jl;return $h(e,r,new Xl(r,n.cacheSizeBytes))}(t._delegate)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t._initialized&&!t._terminated)throw new br(vr.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new ca;return t._queue.enqueueAndForgetEvenWhileRestricted((function(){return o(e,void 0,void 0,(function(){var e;return a(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return o(this,void 0,void 0,(function(){return a(this,(function(e){switch(e.label){case 0:return fa.yt()?[4,fa.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}}))}))}(Eu(t._databaseId,t._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}}))}))})),n.promise}(t._delegate)},t}(),ad=function(){function t(t,e,n){var r=this;this._delegate=e,this.Zc=n,this.INTERNAL={delete:function(){return r.terminate()}},t instanceof gh||(this.tu=t)}return Object.defineProperty(t.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),t.prototype.settings=function(t){var e=this._delegate._getSettings();t.merge||e.host===t.host||Tr("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)},t.prototype.useEmulator=function(t,e,n){void 0===n&&(n={}),function(t,e,n,r){var i;void 0===r&&(r={});var s=(t=Ah(t,Dh))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==e&&Tr("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},s),{host:e+":"+n,ssl:!1})),r.mockUserToken){var o,a;if("string"==typeof r.mockUserToken)o=r.mockUserToken,a=tc.MOCK_USER;else{o=Object(c.d)(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);var u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new br(vr.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new tc(u)}t._credentials=new bh(new yh(o,a))}}(this._delegate,t,e,n)},t.prototype.enableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue((function(){return o(e,void 0,void 0,(function(){var e,n;return a(this,(function(r){switch(r.label){case 0:return[4,ah(t)];case 1:return e=r.sent(),[4,ch(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!0),function(t){var e=kr(t);return e.Or.delete(0),Ic(e)}(n))]}}))}))}))}(Bh(Ah(this._delegate,qh)))},t.prototype.disableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue((function(){return o(e,void 0,void 0,(function(){var e,n;return a(this,(function(r){switch(r.label){case 0:return[4,ah(t)];case 1:return e=r.sent(),[4,ch(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!1),function(t){return o(this,void 0,void 0,(function(){var e;return a(this,(function(n){switch(n.label){case 0:return(e=kr(t)).Or.add(0),[4,xc(e)];case 1:return n.sent(),e.Br.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(Bh(Ah(this._delegate,qh)))},t.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&Ch("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,n)},t.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},t.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new ca;return t.asyncQueue.enqueueAndForget((function(){return o(e,void 0,void 0,(function(){var e;return a(this,(function(r){switch(r.label){case 0:return e=xl,[4,lh(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(Bh(Ah(this._delegate,qh)))},t.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new Zl(e);return t.asyncQueue.enqueueAndForget((function(){return o(n,void 0,void 0,(function(){var e;return a(this,(function(n){switch(n.label){case 0:return e=function(t,e){kr(t).Gr.add(e),e.next()},[4,hh(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))})),function(){r.Wo(),t.asyncQueue.enqueueAndForget((function(){return o(n,void 0,void 0,(function(){var e;return a(this,(function(n){switch(n.label){case 0:return e=function(t,e){kr(t).Gr.delete(e)},[4,hh(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))}))}}(Bh(t=Ah(t,qh)),Vh(e)?e:{next:e})}(this._delegate,t)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.tu)throw new br(vr.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new _d(this,Fh(this._delegate,t))}catch(t){throw dd(t,"collection()","Firestore.collection()")}},t.prototype.doc=function(t){try{return new fd(this,Mh(this._delegate,t))}catch(t){throw dd(t,"doc()","Firestore.doc()")}},t.prototype.collectionGroup=function(t){try{return new vd(this,function(t,e){if(t=Ah(t,Dh),Eh("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new br(vr.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Rh(t,null,function(t){return new Mi(Ur.emptyPath(),t)}(e))}(this._delegate,t))}catch(t){throw dd(t,"collectionGroup()","Firestore.collectionGroup()")}},t.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new ca;return t.asyncQueue.enqueueAndForget((function(){return o(n,void 0,void 0,(function(){var n;return a(this,(function(i){switch(i.label){case 0:return[4,function(t){return oh(t).then((function(t){return t.datastore}))}(t)];case 1:return n=i.sent(),new eh(t.asyncQueue,n,e,r).run(),[2]}}))}))})),r.promise}(Bh(t),(function(n){return e(new nd(t,n))}))}(this._delegate,(function(n){return t(new cd(e,n))}))},t.prototype.batch=function(){var t=this;return Bh(this._delegate),new ld(new Qf(this._delegate,(function(e){return td(t._delegate,e)})))},t.prototype.loadBundle=function(t){throw new br(vr.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},t.prototype.namedQuery=function(t){throw new br(vr.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},t}(),ud=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return s(e,t),e.prototype.convertBytes=function(t){return new sd(new Qh(t))},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return fd.eu(e,this.firestore,null)},e}($f),cd=function(){function t(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new ud(t)}return t.prototype.get=function(t){var e=this,n=Sd(t);return this._delegate.get(n).then((function(t){return new md(e._firestore,new kf(e._firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,n.converter))}))},t.prototype.set=function(t,e,n){var r=Sd(t);return n?(Th("Transaction.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];var o=Sd(t);return 2===arguments.length?this._delegate.update(o,e):(r=this._delegate).update.apply(r,u([o,e,n],i)),this},t.prototype.delete=function(t){var e=Sd(t);return this._delegate.delete(e),this},t}(),ld=function(){function t(t){this._delegate=t}return t.prototype.set=function(t,e,n){var r=Sd(t);return n?(Th("WriteBatch.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];var o=Sd(t);return 2===arguments.length?this._delegate.update(o,e):(r=this._delegate).update.apply(r,u([o,e,n],i)),this},t.prototype.delete=function(t){var e=Sd(t);return this._delegate.delete(e),this},t.prototype.commit=function(){return this._delegate.commit()},t}(),hd=function(){function t(t,e,n){this._firestore=t,this._userDataWriter=e,this._delegate=n}return t.prototype.fromFirestore=function(t,e){var n=new Af(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new yd(this._firestore,n),null!=e?e:{})},t.prototype.toFirestore=function(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)},t.nu=function(e,n){var r=t.su,i=r.get(e);i||(i=new WeakMap,r.set(e,i));var s=i.get(n);return s||(s=new t(e,new ud(e),n),i.set(n,s)),s},t}();hd.su=new WeakMap;var fd=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new ud(t)}return t.iu=function(e,n,r){if(e.length%2!=0)throw new br(vr.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(n,new Ph(n._delegate,r,new ti(e)))},t.eu=function(e,n,r){return new t(n,new Ph(n._delegate,r,e))},Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new _d(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new _d(this.firestore,Fh(this._delegate,t))}catch(t){throw dd(t,"collection()","DocumentReference.collection()")}},t.prototype.isEqual=function(t){return(t=Object(c.h)(t))instanceof Ph&&jh(this._delegate,t)},t.prototype.set=function(t,e){e=Th("DocumentReference.set",e);try{return e?Xf(this._delegate,t,e):Xf(this._delegate,t)}catch(t){throw dd(t,"setDoc()","DocumentReference.set()")}},t.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?Jf(this._delegate,t):Jf.apply(void 0,u([this._delegate,t,e],n))}catch(t){throw dd(t,"updateDoc()","DocumentReference.update()")}},t.prototype.delete=function(){return td(Ah((t=this._delegate).firestore,qh),[new Ds(t._key,ys.none())]);var t},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=pd(e),i=gd(e,(function(e){return new md(t.firestore,new kf(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))}));return Zf(this._delegate,r,i)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Ah(t,Ph);var e=Ah(t.firestore,qh),n=Bh(e),r=new Yf(e);return function(t,e){var n=this,r=new ca;return t.asyncQueue.enqueueAndForget((function(){return o(n,void 0,void 0,(function(){var n;return a(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return o(this,void 0,void 0,(function(){var r,i;return a(this,(function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,function(t,e){var n=kr(t);return n.persistence.runTransaction("read document","readonly",(function(t){return n.Mn.mn(t,e)}))}(t,e)];case 1:return(i=s.sent()).isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new br(vr.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=s.sent(),i=Jc(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}}))}))},[4,uh(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t._key).then((function(n){return new kf(e,r,t._key,n,new xf(null!==n&&n.hasLocalMutations,!0),t.converter)}))}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=Ah(t,Ph);var e=Ah(t.firestore,qh);return fh(Bh(e),t._key,{source:"server"}).then((function(n){return ed(e,t,n)}))}(this._delegate):function(t){t=Ah(t,Ph);var e=Ah(t.firestore,qh);return fh(Bh(e),t._key).then((function(n){return ed(e,t,n)}))}(this._delegate)).then((function(t){return new md(e.firestore,new kf(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}))},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?hd.nu(this.firestore,e):null))},t}();function dd(t,e,n){return t.message=t.message.replace(e,n),t}function pd(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!Vh(r))return r}return{}}function gd(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=Vh(t[0])?t[0]:Vh(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var md=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"ref",{get:function(){return new fd(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(t){return this._delegate.data(t)},t.prototype.get=function(t,e){return this._delegate.get(t,e)},t.prototype.isEqual=function(t){return Df(this._delegate,t._delegate)},t}(),yd=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e.prototype.data=function(t){return this._delegate.data(t)},e}(md),vd=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new ud(t)}return t.prototype.where=function(e,n,r){try{return new t(this.firestore,Lf(this._delegate,function(t,e,n){var r=e,i=If("where",t);return new Ff(i,r,n)}(e,n,r)))}catch(e){throw dd(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.orderBy=function(e,n){try{return new t(this.firestore,Lf(this._delegate,function(t,e){void 0===e&&(e="asc");var n=e,r=If("orderBy",t);return new Mf(r,n)}(e,n)))}catch(e){throw dd(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.limit=function(e){try{return new t(this.firestore,Lf(this._delegate,function(t){return Oh("limit",t),new jf("limit",t,"F")}(e)))}catch(e){throw dd(e,"limit()","Query.limit()")}},t.prototype.limitToLast=function(e){try{return new t(this.firestore,Lf(this._delegate,function(t){return Oh("limitToLast",t),new jf("limitToLast",t,"L")}(e)))}catch(e){throw dd(e,"limitToLast()","Query.limitToLast()")}},t.prototype.startAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Lf(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new zf("startAt",t,!0)}).apply(void 0,e)))}catch(e){throw dd(e,"startAt()","Query.startAt()")}},t.prototype.startAfter=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Lf(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new zf("startAfter",t,!1)}).apply(void 0,e)))}catch(e){throw dd(e,"startAfter()","Query.startAfter()")}},t.prototype.endBefore=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Lf(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Uf("endBefore",t,!0)}).apply(void 0,e)))}catch(e){throw dd(e,"endBefore()","Query.endBefore()")}},t.prototype.endAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Lf(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Uf("endAt",t,!1)}).apply(void 0,e)))}catch(e){throw dd(e,"endAt()","Query.endAt()")}},t.prototype.isEqual=function(t){return zh(this._delegate,t._delegate)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Ah(t,Rh);var e=Ah(t.firestore,qh),n=Bh(e),r=new Yf(e);return function(t,e){var n=this,r=new ca;return t.asyncQueue.enqueueAndForget((function(){return o(n,void 0,void 0,(function(){var n;return a(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return o(this,void 0,void 0,(function(){var r,i,s,o,u;return a(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,ju(t,e,!0)];case 1:return u=a.sent(),r=new pl(e,u.Bn),i=r._o(u.documents),s=r.applyChanges(i,!1),n.resolve(s.snapshot),[3,3];case 2:return o=a.sent(),u=Jc(o,"Failed to execute query '"+e+" against cache"),n.reject(u),[3,3];case 3:return[2]}}))}))},[4,uh(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t._query).then((function(n){return new Of(e,r,t,n)}))}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=Ah(t,Rh);var e=Ah(t.firestore,qh),n=Bh(e),r=new Yf(e);return dh(n,t._query,{source:"server"}).then((function(n){return new Of(e,r,t,n)}))}(this._delegate):function(t){t=Ah(t,Rh);var e=Ah(t.firestore,qh),n=Bh(e),r=new Yf(e);return Pf(t._query),dh(n,t._query).then((function(n){return new Of(e,r,t,n)}))}(this._delegate)).then((function(t){return new wd(e.firestore,new Of(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}))},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=pd(e),i=gd(e,(function(e){return new wd(t.firestore,new Of(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))}));return Zf(this._delegate,r,i)},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?hd.nu(this.firestore,e):null))},t}(),bd=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new yd(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),t}(),wd=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"query",{get:function(){return new vd(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map((function(e){return new yd(t._firestore,e)}))},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(t){var e=this;return this._delegate.docChanges(t).map((function(t){return new bd(e._firestore,t)}))},t.prototype.forEach=function(t,e){var n=this;this._delegate.forEach((function(r){t.call(e,new yd(n._firestore,r))}))},t.prototype.isEqual=function(t){return Df(this._delegate,t._delegate)},t}(),_d=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._delegate=n,r}return s(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t?new fd(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new fd(this.firestore,void 0===t?Mh(this._delegate):Mh(this._delegate,t))}catch(t){throw dd(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=Ah(t.firestore,qh),r=Mh(t),i=Gf(t.converter,e);return td(n,[sf(rf(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,ys.exists(!1))]).then((function(){return r}))}(this._delegate,t).then((function(t){return new fd(e.firestore,t)}))},e.prototype.isEqual=function(t){return jh(this._delegate,t._delegate)},e.prototype.withConverter=function(t){return new e(this.firestore,this._delegate.withConverter(t?hd.nu(this.firestore,t):null))},e}(vd);function Sd(t){return Ah(t,Ph)}var Ed=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._delegate=new(Kh.bind.apply(Kh,u([void 0],t)))}return t.documentId=function(){return new t(qr.keyField().canonicalString())},t.prototype.isEqual=function(t){return(t=Object(c.h)(t))instanceof Kh&&this._delegate._internalPath.isEqual(t._internalPath)},t}(),Td=function(){function t(t){this._delegate=t}return t.serverTimestamp=function(){var e=new uf("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new t(e)},t.delete=function(){var e=new of("deleteField");return e._methodName="FieldValue.delete",new t(e)},t.arrayUnion=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new cf("arrayUnion",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayUnion",new t(r)},t.arrayRemove=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new lf("arrayRemove",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayRemove",new t(r)},t.increment=function(e){var n=function(t){return new hf("increment",t)}(e);return n._methodName="FieldValue.increment",new t(n)},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t}(),Cd=n("/6Yf"),Id={Firestore:ad,GeoPoint:Yh,Timestamp:Rr,Blob:sd,Transaction:cd,WriteBatch:ld,DocumentReference:fd,DocumentSnapshot:md,Query:vd,QueryDocumentSnapshot:yd,QuerySnapshot:wd,CollectionReference:_d,FieldPath:Ed,FieldValue:Td,setLogLevel:function(t){wr.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};function xd(t){!function(t,e){t.INTERNAL.registerComponent(new Cd.a("firestore",(function(t){return function(t,e){return new ad(t,new qh(t,e),new od)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},Id)))}(t),t.registerVersion("@firebase/firestore","2.4.1")}xd(r.a)},zIRd:function(t,e,n){"use strict";var r,i,s=function(){return(s=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},o=n("qOnz"),a=n("/6Yf"),u=n("q/0M"),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new o.b("app","Firebase",c),h=((i={})["@firebase/app"]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/app-check"]="fire-app-check",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),f=new u.b("@firebase/app"),d=function(){function t(t,e,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(o.f)(t),this.container=new a.b(e.name),this._addComponent(new a.a("app",(function(){return r}),"PUBLIC")),this.firebase_.INTERNAL.components.forEach((function(t){return r._addComponent(t)}))}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){var n;void 0===e&&(e="[DEFAULT]"),this.checkDestroyed_();var r=this.container.getProvider(t);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e="[DEFAULT]"),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){f.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();d.prototype.name&&d.prototype.options||d.prototype.delete||console.log("dc");var p=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var s=i;void 0===s.name&&(s.name="[DEFAULT]");var a=s.name;if("string"!=typeof a||!a)throw l.create("bad-app-name",{appName:String(a)});if(Object(o.c)(e,a))throw l.create("duplicate-app",{appName:a});var u=new t(n,s,r);return e[a]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=h[t])&&void 0!==r?r:t;n&&(i+="-"+n);var o=i.match(/\s|\//),u=e.match(/\s|\//);if(o||u){var c=['Unable to register library "'+i+'" with version "'+e+'":'];return o&&c.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),o&&u&&c.push("and"),u&&c.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void f.warn(c.join(" "))}s(new a.a(i+"-version",(function(){return{library:i,version:e}}),"VERSION"))},setLogLevel:u.c,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument");Object(u.d)(t,e)},apps:null,SDK_VERSION:"8.10.0",INTERNAL:{registerComponent:s,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||"[DEFAULT]",!Object(o.c)(e,t))throw l.create("no-app",{appName:t});return e[t]}function s(s){var a=s.name;if(n.has(a))return f.debug("There were multiple attempts to register component "+a+"."),"PUBLIC"===s.type?r[a]:null;if(n.set(a,s),"PUBLIC"===s.type){var u=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[a])throw l.create("invalid-app-argument",{appName:a});return t[a]()};void 0!==s.serviceProps&&Object(o.g)(u,s.serviceProps),r[a]=u,t.prototype[a]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this._getService.bind(this,a);return n.apply(this,s.multipleInstances?t:[])}}for(var c=0,h=Object.keys(e);c<h.length;c++)e[h[c]]._addComponent(s);return"PUBLIC"===s.type?r[a]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),i.App=t,r}(d);return e.INTERNAL=s(s({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(o.g)(e,t)},createSubscribe:o.e,ErrorFactory:o.b,deepExtend:o.g}),e}(),g=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();if(Object(o.j)()&&void 0!==self.firebase){f.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var m=self.firebase.SDK_VERSION;m&&m.indexOf("LITE")>=0&&f.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var y=p.initializeApp;p.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(o.o)()&&f.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),y.apply(void 0,t)};var v,b=p;(v=b).INTERNAL.registerComponent(new a.a("platform-logger",(function(t){return new g(t)}),"PRIVATE")),v.registerVersion("@firebase/app","0.6.30",void 0),v.registerVersion("fire-js",""),e.a=b},zUnb:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.r(e);let i=!1;const s={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else i&&console.log("RxJS: Back to a better error behavior. Thank you. <3");i=t},get useDeprecatedSynchronousErrorHandling(){return i}};function o(t){setTimeout(()=>{throw t},0)}const a={closed:!0,next(t){},error(t){if(s.useDeprecatedSynchronousErrorHandling)throw t;o(t)},complete(){}},u=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))();function c(t){return null!==t&&"object"==typeof t}const l=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let h=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_unsubscribe:i,_subscriptions:s}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(r(i))try{i.call(this)}catch(o){e=o instanceof l?f(o.errors):[o]}if(u(s)){let t=-1,n=s.length;for(;++t<n;){const n=s[t];if(c(n))try{n.unsubscribe()}catch(o){e=e||[],o instanceof l?e=e.concat(f(o.errors)):e.push(o)}}}if(e)throw new l(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}return t.EMPTY=function(t){return t.closed=!0,t}(new t),t})();function f(t){return t.reduce((t,e)=>t.concat(e instanceof l?e.errors:e),[])}const d=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())();class p extends h{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=a;break;case 1:if(!t){this.destination=a;break}if("object"==typeof t){t instanceof p?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new g(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new g(this,t,e,n)}}[d](){return this}static create(t,e,n){const r=new p(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class g extends p{constructor(t,e,n,i){let s;super(),this._parentSubscriber=t;let o=this;r(e)?s=e:e&&(s=e.next,n=e.error,i=e.complete,e!==a&&(o=Object.create(e),r(o.unsubscribe)&&this.add(o.unsubscribe.bind(o)),o.unsubscribe=this.unsubscribe.bind(this))),this._context=o,this._next=s,this._error=n,this._complete=i}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;s.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=s;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):o(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;o(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);s.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),s.useDeprecatedSynchronousErrorHandling)throw n;o(n)}}__tryOrSetError(t,e,n){if(!s.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return s.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(o(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}const m=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")();function y(t){return t}function v(...t){return b(t)}function b(t){return 0===t.length?y:1===t.length?t[0]:function(e){return t.reduce((t,e)=>e(t),e)}}let w=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:r}=this,i=function(t,e,n){if(t){if(t instanceof p)return t;if(t[d])return t[d]()}return t||e||n?new p(t,e,n):new p(a)}(t,e,n);if(i.add(r?r.call(i,this.source):this.source||s.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),s.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i}_trySubscribe(t){try{return this._subscribe(t)}catch(e){s.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:r}=t;if(e||r)return!1;t=n&&n instanceof p?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=_(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[m](){return this}pipe(...t){return 0===t.length?this:b(t)(this)}toPromise(t){return new(t=_(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function _(t){if(t||(t=s.Promise||Promise),!t)throw new Error("no Promise impl found");return t}const S=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})();class E extends h{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}class T extends p{constructor(t){super(t),this.destination=t}}let C=(()=>{class t extends w{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[d](){return new T(this)}lift(t){const e=new I(this,this);return e.operator=t,e}next(t){if(this.closed)throw new S;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new S;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new S;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new S;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new S;return this.hasError?(t.error(this.thrownError),h.EMPTY):this.isStopped?(t.complete(),h.EMPTY):(this.observers.push(t),new E(this,t))}asObservable(){const t=new w;return t.source=this,t}}return t.create=(t,e)=>new I(t,e),t})();class I extends C{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):h.EMPTY}}function x(t){return t&&"function"==typeof t.schedule}class k extends p{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}const A=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()};function O(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}const N=O(),D=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function P(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}const R=t=>{if(t&&"function"==typeof t[m])return r=t,t=>{const e=r[m]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(D(t))return A(t);if(P(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,o),t);if(t&&"function"==typeof t[N])return e=t,t=>{const n=e[N]();for(;;){const e=n.next();if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=c(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,r};function L(t,e,n,r,i=new k(t,n,r)){if(!i.closed)return e instanceof w?e.subscribe(i):R(e)(i)}class F extends p{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}function M(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new j(t,e))}}class j{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new z(t,this.project,this.thisArg))}}class z extends p{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}function U(t,e){return new w(n=>{const r=new h;let i=0;return r.add(e.schedule((function(){i!==t.length?(n.next(t[i++]),n.closed||r.add(this.schedule())):n.complete()}))),r})}function V(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[m]}(t))return function(t,e){return new w(n=>{const r=new h;return r.add(e.schedule(()=>{const i=t[m]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(P(t))return function(t,e){return new w(n=>{const r=new h;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if(D(t))return U(t,e);if(function(t){return t&&"function"==typeof t[N]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new w(n=>{const r=new h;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[N](),r.add(e.schedule((function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())})))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof w?t:new w(R(t))}function q(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?r=>r.pipe(q((n,r)=>V(t(n,r)).pipe(M((t,i)=>e(n,t,r,i))),n)):("number"==typeof e&&(n=e),e=>e.lift(new B(t,n)))}class B{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new H(t,this.project,this.concurrent))}}class H extends F{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e,t,n)}_innerSub(t,e,n){const r=new k(this,e,n),i=this.destination;i.add(r);const s=L(this,t,void 0,void 0,r);s!==r&&i.add(s)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t,e,n,r,i){this.destination.next(e)}notifyComplete(t){const e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function $(t=Number.POSITIVE_INFINITY){return q(y,t)}function G(t,e){return e?U(t,e):new w(A(t))}function K(){return function(t){return t.lift(new Q(t))}}class Q{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new W(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class W extends p{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}class Y extends w{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new h,t.add(this.source.subscribe(new J(this.getSubject(),this))),t.closed&&(this._connection=null,t=h.EMPTY)),t}refCount(){return K()(this)}}const X=(()=>{const t=Y.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class J extends T{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function Z(){return new C}function tt(){return t=>{return K()((e=Z,function(t){let n;n="function"==typeof e?e:function(){return e};const r=Object.create(t,X);return r.source=t,r.subjectFactory=n,r})(t));var e}}function et(t){return{toString:t}.toString()}function nt(t,e,n){return et(()=>{const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty("__parameters__")?t.__parameters__:Object.defineProperty(t,"__parameters__",{value:[]}).__parameters__;for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}const rt=nt("Inject",t=>({token:t})),it=nt("Optional"),st=nt("Self"),ot=nt("SkipSelf");var at=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});function ut(t){for(let e in t)if(t[e]===ut)return e;throw Error("Could not find renamed property on target object.")}function ct(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function lt(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function ht(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function ft(t){return dt(t,t[gt])||dt(t,t[vt])}function dt(t,e){return e&&e.token===t?e:null}function pt(t){return t&&(t.hasOwnProperty(mt)||t.hasOwnProperty(bt))?t[mt]:null}const gt=ut({"\u0275prov":ut}),mt=ut({"\u0275inj":ut}),yt=ut({"\u0275provFallback":ut}),vt=ut({ngInjectableDef:ut}),bt=ut({ngInjectorDef:ut});function wt(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(wt).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function _t(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const St=ut({__forward_ref__:ut});function Et(t){return t.__forward_ref__=Et,t.toString=function(){return wt(this())},t}function Tt(t){return"function"==typeof(e=t)&&e.hasOwnProperty(St)&&e.__forward_ref__===Et?t():t;var e}const Ct="undefined"!=typeof globalThis&&globalThis,It="undefined"!=typeof window&&window,xt="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,kt="undefined"!=typeof global&&global,At=Ct||kt||It||xt,Ot=ut({"\u0275cmp":ut}),Nt=ut({"\u0275dir":ut}),Dt=ut({"\u0275pipe":ut}),Pt=ut({"\u0275mod":ut}),Rt=ut({"\u0275loc":ut}),Lt=ut({"\u0275fac":ut}),Ft=ut({__NG_ELEMENT_ID__:ut});class Mt{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=lt({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return"InjectionToken "+this._desc}}const jt=new Mt("INJECTOR",-1),zt={},Ut=/\n/gm,Vt=ut({provide:String,useValue:ut});let qt,Bt=void 0;function Ht(t){const e=Bt;return Bt=t,e}function $t(t){const e=qt;return qt=t,e}function Gt(t,e=at.Default){if(void 0===Bt)throw new Error("inject() must be called from an injection context");return null===Bt?Qt(t,void 0,e):Bt.get(t,e&at.Optional?null:void 0,e)}function Kt(t,e=at.Default){return(qt||Gt)(Tt(t),e)}function Qt(t,e,n){const r=ft(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&at.Optional)return null;if(void 0!==e)return e;throw new Error(`Injector: NOT_FOUND [${wt(t)}]`)}function Wt(t){const e=[];for(let n=0;n<t.length;n++){const r=Tt(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t=void 0,n=at.Default;for(let e=0;e<r.length;e++){const i=r[e];i instanceof it||"Optional"===i.ngMetadataName||i===it?n|=at.Optional:i instanceof ot||"SkipSelf"===i.ngMetadataName||i===ot?n|=at.SkipSelf:i instanceof st||"Self"===i.ngMetadataName||i===st?n|=at.Self:t=i instanceof rt||i===rt?i.token:i}e.push(Kt(t,n))}else e.push(Kt(r))}return e}class Yt{get(t,e=zt){if(e===zt){const e=new Error(`NullInjectorError: No provider for ${wt(t)}!`);throw e.name="NullInjectorError",e}return e}}class Xt{}class Jt{}function Zt(t,e){t.forEach(t=>Array.isArray(t)?Zt(t,e):e(t))}function te(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function ee(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function ne(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}function re(t,e,n){let r=se(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function ie(t,e){const n=se(t,e);if(n>=0)return t[1|n]}function se(t,e){return function(t,e,n){let r=0,i=t.length>>1;for(;i!==r;){const n=r+(i-r>>1),s=t[n<<1];if(e===s)return n<<1;s>e?i=n:r=n+1}return~(i<<1)}(t,e)}const oe=function(){var t={OnPush:0,Default:1};return t[t.OnPush]="OnPush",t[t.Default]="Default",t}(),ae=function(){var t={Emulated:0,Native:1,None:2,ShadowDom:3};return t[t.Emulated]="Emulated",t[t.Native]="Native",t[t.None]="None",t[t.ShadowDom]="ShadowDom",t}(),ue={},ce=[];let le=0;function he(t){return et(()=>{const e=t.type,n=e.prototype,r={},i={type:e,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:t.exportAs||null,onChanges:null,onInit:n.ngOnInit||null,doCheck:n.ngDoCheck||null,afterContentInit:n.ngAfterContentInit||null,afterContentChecked:n.ngAfterContentChecked||null,afterViewInit:n.ngAfterViewInit||null,afterViewChecked:n.ngAfterViewChecked||null,onDestroy:n.ngOnDestroy||null,onPush:t.changeDetection===oe.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||ce,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||ae.Emulated,id:"c",styles:t.styles||ce,_:null,setInput:null,schemas:t.schemas||null,tView:null},s=t.directives,o=t.features,a=t.pipes;return i.id+=le++,i.inputs=me(t.inputs,r),i.outputs=me(t.outputs),o&&o.forEach(t=>t(i)),i.directiveDefs=s?()=>("function"==typeof s?s():s).map(fe):null,i.pipeDefs=a?()=>("function"==typeof a?a():a).map(de):null,i})}function fe(t){return ve(t)||function(t){return t[Nt]||null}(t)}function de(t){return function(t){return t[Dt]||null}(t)}const pe={};function ge(t){const e={type:t.type,bootstrap:t.bootstrap||ce,declarations:t.declarations||ce,imports:t.imports||ce,exports:t.exports||ce,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&et(()=>{pe[t.id]=t.type}),e}function me(t,e){if(null==t)return ue;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}const ye=he;function ve(t){return t[Ot]||null}function be(t,e){return t.hasOwnProperty(Lt)?t[Lt]:null}function we(t,e){const n=t[Pt]||null;if(!n&&!0===e)throw new Error(`Type ${wt(t)} does not have '\u0275mod' property.`);return n}function _e(t){return Array.isArray(t)&&"object"==typeof t[1]}function Se(t){return Array.isArray(t)&&!0===t[1]}function Ee(t){return 0!=(8&t.flags)}function Te(t){return 2==(2&t.flags)}function Ce(t){return 1==(1&t.flags)}function Ie(t){return null!==t.template}function xe(t){return 0!=(512&t[2])}let ke=void 0;function Ae(t){return!!t.listen}const Oe={createRenderer:(t,e)=>void 0!==ke?ke:"undefined"!=typeof document?document:void 0};function Ne(t){for(;Array.isArray(t);)t=t[0];return t}function De(t,e){return Ne(e[t+20])}function Pe(t,e){return Ne(e[t.index])}function Re(t,e){return t.data[e+20]}function Le(t,e){return t[e+20]}function Fe(t,e){const n=e[t];return _e(n)?n:n[0]}function Me(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function je(t){return 4==(4&t[2])}function ze(t){return 128==(128&t[2])}function Ue(t,e){return null===t||null==e?null:t[e]}function Ve(t){t[18]=0}function qe(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const Be={lFrame:hn(null),bindingsEnabled:!0,checkNoChangesMode:!1};function He(){return Be.bindingsEnabled}function $e(){return Be.lFrame.lView}function Ge(){return Be.lFrame.tView}function Ke(){return Be.lFrame.previousOrParentTNode}function Qe(t,e){Be.lFrame.previousOrParentTNode=t,Be.lFrame.isParent=e}function We(){return Be.lFrame.isParent}function Ye(){Be.lFrame.isParent=!1}function Xe(){return Be.checkNoChangesMode}function Je(t){Be.checkNoChangesMode=t}function Ze(){const t=Be.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function tn(){return Be.lFrame.bindingIndex}function en(){return Be.lFrame.bindingIndex++}function nn(t){const e=Be.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function rn(t,e){const n=Be.lFrame;n.bindingIndex=n.bindingRootIndex=t,sn(e)}function sn(t){Be.lFrame.currentDirectiveIndex=t}function on(){return Be.lFrame.currentQueryIndex}function an(t){Be.lFrame.currentQueryIndex=t}function un(t,e){const n=ln();Be.lFrame=n,n.previousOrParentTNode=e,n.lView=t}function cn(t,e){const n=ln(),r=t[1];Be.lFrame=n,n.previousOrParentTNode=e,n.lView=t,n.tView=r,n.contextLView=t,n.bindingIndex=r.bindingStartIndex}function ln(){const t=Be.lFrame,e=null===t?null:t.child;return null===e?hn(t):e}function hn(t){const e={previousOrParentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:0,contextLView:null,elementDepthCount:0,currentNamespace:null,currentSanitizer:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null};return null!==t&&(t.child=e),e}function fn(){const t=Be.lFrame;return Be.lFrame=t.parent,t.previousOrParentTNode=null,t.lView=null,t}const dn=fn;function pn(){const t=fn();t.isParent=!0,t.tView=null,t.selectedIndex=0,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.currentSanitizer=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function gn(){return Be.lFrame.selectedIndex}function mn(t){Be.lFrame.selectedIndex=t}function yn(){const t=Be.lFrame;return Re(t.tView,t.selectedIndex)}function vn(){Be.lFrame.currentNamespace="http://www.w3.org/2000/svg"}function bn(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n];e.afterContentInit&&(t.contentHooks||(t.contentHooks=[])).push(-n,e.afterContentInit),e.afterContentChecked&&((t.contentHooks||(t.contentHooks=[])).push(n,e.afterContentChecked),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,e.afterContentChecked)),e.afterViewInit&&(t.viewHooks||(t.viewHooks=[])).push(-n,e.afterViewInit),e.afterViewChecked&&((t.viewHooks||(t.viewHooks=[])).push(n,e.afterViewChecked),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,e.afterViewChecked)),null!=e.onDestroy&&(t.destroyHooks||(t.destroyHooks=[])).push(n,e.onDestroy)}}function wn(t,e,n){En(t,e,3,n)}function _n(t,e,n,r){(3&t[2])===n&&En(t,e,n,r)}function Sn(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function En(t,e,n,r){const i=null!=r?r:-1;let s=0;for(let o=void 0!==r?65535&t[18]:0;o<e.length;o++)if("number"==typeof e[o+1]){if(s=e[o],null!=r&&s>=r)break}else e[o]<0&&(t[18]+=65536),(s<i||-1==i)&&(Tn(t,n,e,o),t[18]=(4294901760&t[18])+o+2),o++}function Tn(t,e,n,r){const i=n[r]<0,s=n[r+1],o=t[i?-n[r]:n[r]];i?t[2]>>11<t[18]>>16&&(3&t[2])===e&&(t[2]+=2048,s.call(o)):s.call(o)}class Cn{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function In(t,e,n){const r=Ae(t);let i=0;for(;i<n.length;){const s=n[i];if("number"==typeof s){if(0!==s)break;i++;const o=n[i++],a=n[i++],u=n[i++];r?t.setAttribute(e,a,u,o):e.setAttributeNS(o,a,u)}else{const o=s,a=n[++i];kn(o)?r&&t.setProperty(e,o,a):r?t.setAttribute(e,o,a):e.setAttribute(o,a),i++}}return i}function xn(t){return 3===t||4===t||6===t}function kn(t){return 64===t.charCodeAt(0)}function An(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||On(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function On(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const n=t[s++];if("number"==typeof n){if(n===e){o=-1;break}if(n>e){o=s-1;break}}}for(;s<t.length;){const e=t[s];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}function Nn(t){return-1!==t}function Dn(t){return 32767&t}function Pn(t){return t>>16}function Rn(t,e){let n=Pn(t),r=e;for(;n>0;)r=r[15],n--;return r}function Ln(t){return"string"==typeof t?t:null==t?"":""+t}function Fn(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Ln(t)}const Mn=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(At))();function jn(t){return t instanceof Function?t():t}let zn=!0;function Un(t){const e=zn;return zn=t,e}let Vn=0;function qn(t,e){const n=Hn(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,Bn(r.data,t),Bn(e,null),Bn(r.blueprint,null));const i=$n(t,e),s=t.injectorIndex;if(Nn(i)){const t=Dn(i),n=Rn(i,e),r=n[1].data;for(let i=0;i<8;i++)e[s+i]=n[t+i]|r[t+i]}return e[s+8]=i,s}function Bn(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Hn(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null==e[t.injectorIndex+8]?-1:t.injectorIndex}function $n(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=e[6],r=1;for(;n&&-1===n.injectorIndex;)n=(e=e[15])?e[6]:null,r++;return n?n.injectorIndex|r<<16:-1}function Gn(t,e,n){!function(t,e,n){let r="string"!=typeof n?n[Ft]:n.charCodeAt(0)||0;null==r&&(r=n[Ft]=Vn++);const i=255&r,s=1<<i,o=64&i,a=32&i,u=e.data;128&i?o?a?u[t+7]|=s:u[t+6]|=s:a?u[t+5]|=s:u[t+4]|=s:o?a?u[t+3]|=s:u[t+2]|=s:a?u[t+1]|=s:u[t]|=s}(t,e,n)}function Kn(t,e,n,r=at.Default,i){if(null!==t){const i=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t[Ft];return"number"==typeof e&&e>0?255&e:e}(n);if("function"==typeof i){un(e,t);try{const t=i();if(null!=t||r&at.Optional)return t;throw new Error(`No provider for ${Fn(n)}!`)}finally{dn()}}else if("number"==typeof i){if(-1===i)return new tr(t,e);let s=null,o=Hn(t,e),a=-1,u=r&at.Host?e[16][6]:null;for((-1===o||r&at.SkipSelf)&&(a=-1===o?$n(t,e):e[o+8],Zn(r,!1)?(s=e[1],o=Dn(a),e=Rn(a,e)):o=-1);-1!==o;){a=e[o+8];const t=e[1];if(Jn(i,o,t.data)){const t=Wn(o,e,n,s,r,u);if(t!==Qn)return t}Zn(r,e[1].data[o+8]===u)&&Jn(i,o,e)?(s=t,o=Dn(a),e=Rn(a,e)):o=-1}}}if(r&at.Optional&&void 0===i&&(i=null),0==(r&(at.Self|at.Host))){const t=e[9],s=$t(void 0);try{return t?t.get(n,i,r&at.Optional):Qt(n,i,r&at.Optional)}finally{$t(s)}}if(r&at.Optional)return i;throw new Error(`NodeInjector: NOT_FOUND [${Fn(n)}]`)}const Qn={};function Wn(t,e,n,r,i,s){const o=e[1],a=o.data[t+8],u=Yn(a,o,n,null==r?Te(a)&&zn:r!=o&&3===a.type,i&at.Host&&s===a);return null!==u?Xn(e,o,u,a):Qn}function Yn(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=65535&s,u=t.directiveStart,c=s>>16,l=i?a+c:t.directiveEnd;for(let h=r?a:a+c;h<l;h++){const t=o[h];if(h<u&&n===t||h>=u&&t.type===n)return h}if(i){const t=o[u];if(t&&Ie(t)&&t.type===n)return u}return null}function Xn(t,e,n,r){let i=t[n];const s=e.data;if(i instanceof Cn){const o=i;if(o.resolving)throw new Error("Circular dep for "+Fn(s[n]));const a=Un(o.canSeeViewProviders);let u;o.resolving=!0,o.injectImpl&&(u=$t(o.injectImpl)),un(t,r);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{onChanges:r,onInit:i,doCheck:s}=e;r&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)),i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(-t,i),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s))}(n,s[n],e)}finally{o.injectImpl&&$t(u),Un(a),o.resolving=!1,dn()}}return i}function Jn(t,e,n){const r=64&t,i=32&t;let s;return s=128&t?r?i?n[e+7]:n[e+6]:i?n[e+5]:n[e+4]:r?i?n[e+3]:n[e+2]:i?n[e+1]:n[e],!!(s&1<<t)}function Zn(t,e){return!(t&at.Self||t&at.Host&&e)}class tr{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return Kn(this._tNode,this._lView,t,void 0,e)}}function er(t){return t.ngDebugContext}function nr(t){return t.ngOriginalError}function rr(t,...e){t.error(...e)}class ir{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||rr}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?er(t)?er(t):this._findContext(nr(t)):null}_findOriginalError(t){let e=nr(t);for(;e&&nr(e);)e=nr(e);return e}}class sr{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"}}class or extends sr{getTypeName(){return"HTML"}}class ar extends sr{getTypeName(){return"Style"}}class ur extends sr{getTypeName(){return"Script"}}class cr extends sr{getTypeName(){return"URL"}}class lr extends sr{getTypeName(){return"ResourceURL"}}function hr(t){return t instanceof sr?t.changingThisBreaksApplicationSecurity:t}function fr(t,e){const n=dr(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see http://g.co/ng/security#xss)`)}return n===e}function dr(t){return t instanceof sr&&t.getTypeName()||null}let pr=!0,gr=!1;function mr(){return gr=!0,pr}class yr{constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert");let e=this.inertDocument.body;if(null==e){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t),e=this.inertDocument.createElement("body"),t.appendChild(e)}e.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',!e.querySelector||e.querySelector("svg")?(e.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',this.getInertBodyElement=e.querySelector&&e.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(t){return!1}}()?this.getInertBodyElement_DOMParser:this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}getInertBodyElement_XHR(t){t="<body><remove></remove>"+t+"</body>";try{t=encodeURI(t)}catch(r){return null}const e=new XMLHttpRequest;e.responseType="document",e.open("GET","data:text/html;charset=utf-8,"+t,!1),e.send(void 0);const n=e.response.body;return n.removeChild(n.firstChild),n}getInertBodyElement_DOMParser(t){t="<body><remove></remove>"+t+"</body>";try{const e=(new window.DOMParser).parseFromString(t,"text/html").body;return e.removeChild(e.firstChild),e}catch(e){return null}}getInertBodyElement_InertDocument(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=t,e;const n=this.inertDocument.createElement("body");return n.innerHTML=t,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const vr=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,br=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function wr(t){return(t=String(t)).match(vr)||t.match(br)?t:(mr()&&console.warn(`WARNING: sanitizing unsafe URL value ${t} (see http://g.co/ng/security#xss)`),"unsafe:"+t)}function _r(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function Sr(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const Er=_r("area,br,col,hr,img,wbr"),Tr=_r("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Cr=_r("rp,rt"),Ir=Sr(Cr,Tr),xr=Sr(Er,Sr(Tr,_r("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Sr(Cr,_r("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ir),kr=_r("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Ar=_r("srcset"),Or=Sr(kr,Ar,_r("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),_r("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Nr=_r("script,style,template");class Dr{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!xr.hasOwnProperty(e))return this.sanitizedSomething=!0,!Nr.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let i=0;i<n.length;i++){const t=n.item(i),e=t.name,s=e.toLowerCase();if(!Or.hasOwnProperty(s)){this.sanitizedSomething=!0;continue}let o=t.value;kr[s]&&(o=wr(o)),Ar[s]&&(r=o,o=(r=String(r)).split(",").map(t=>wr(t.trim())).join(", ")),this.buf.push(" ",e,'="',Lr(o),'"')}var r;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();xr.hasOwnProperty(e)&&!Er.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(Lr(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+t.outerHTML);return e}}const Pr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Rr=/([^\#-~ |!])/g;function Lr(t){return t.replace(/&/g,"&amp;").replace(Pr,(function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"})).replace(Rr,(function(t){return"&#"+t.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Fr;function Mr(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}const jr=function(){var t={NONE:0,HTML:1,STYLE:2,SCRIPT:3,URL:4,RESOURCE_URL:5};return t[t.NONE]="NONE",t[t.HTML]="HTML",t[t.STYLE]="STYLE",t[t.SCRIPT]="SCRIPT",t[t.URL]="URL",t[t.RESOURCE_URL]="RESOURCE_URL",t}(),zr=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|Z|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:attr|calc|var))\\([-0-9.%, #a-zA-Z]+\\))$","g"),Ur=/^url\(([^)]+)\)$/;function Vr(t){if(!(t=String(t).trim()))return"";const e=t.match(Ur);return e&&wr(e[1])===e[1]||t.match(zr)&&function(t){let e=!0,n=!0;for(let r=0;r<t.length;r++){const i=t.charAt(r);"'"===i&&n?e=!e:'"'===i&&e&&(n=!n)}return e&&n}(t)?t:(mr()&&console.warn(`WARNING: sanitizing unsafe style value ${t} (see http://g.co/ng/security#xss).`),"unsafe")}function qr(t){const e=$r();return e?e.sanitize(jr.STYLE,t)||"":fr(t,"Style")?hr(t):Vr(Ln(t))}function Br(t){const e=$r();return e?e.sanitize(jr.URL,t)||"":fr(t,"URL")?hr(t):wr(Ln(t))}const Hr=function(t,e,n){if(void 0===e&&void 0===n)return qr(t);let r=!0;return 1&(n=n||3)&&(r=function(t){return"background-image"===t||"backgroundImage"===t||"background"===t||"border-image"===t||"borderImage"===t||"border-image-source"===t||"borderImageSource"===t||"filter"===t||"list-style"===t||"listStyle"===t||"list-style-image"===t||"listStyleImage"===t||"clip-path"===t||"clipPath"===t}(t)),2&n?r?qr(e):hr(e):r};function $r(){const t=$e();return t&&t[12]}function Gr(t,e){t.__ngContext__=e}function Kr(t){throw new Error("Multiple components match node with tagname "+t.tagName)}function Qr(){throw new Error("Cannot mix multi providers and regular providers")}function Wr(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}function Yr(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==Wr(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function Xr(t){return 0===t.type&&"ng-template"!==t.tagName}function Jr(t,e,n){return e===(0!==t.type||n?t.tagName:"ng-template")}function Zr(t,e,n){let r=4;const i=t.attrs||[],s=function(t){for(let e=0;e<t.length;e++)if(xn(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!Jr(t,u,n)||""===u&&1===e.length){if(ti(r))return!1;o=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!Yr(t.attrs,c,n)){if(ti(r))return!1;o=!0}continue}const l=ei(8&r?"class":u,i,Xr(t),n);if(-1===l){if(ti(r))return!1;o=!0;continue}if(""!==c){let t;t=l>s?"":i[l+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==Wr(e,c,0)||2&r&&c!==t){if(ti(r))return!1;o=!0}}}}else{if(!o&&!ti(r)&&!ti(u))return!1;if(o&&ti(u))continue;o=!1,r=u|1&r}}return ti(r)||o}function ti(t){return 0==(1&t)}function ei(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function ni(t,e,n=!1){for(let r=0;r<e.length;r++)if(Zr(t,e[r],n))return!0;return!1}function ri(t,e){t:for(let n=0;n<e.length;n++){const r=e[n];if(t.length===r.length){for(let e=0;e<t.length;e++)if(t[e]!==r[e])continue t;return!0}}return!1}function ii(t,e){return t?":not("+e.trim()+")":e}function si(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const e=t[++n];i+="["+o+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""===i||ti(o)||(e+=ii(s,i),i=""),r=o,s=s||!ti(r);n++}return""!==i&&(e+=ii(s,i)),e}const oi={};function ai(t){const e=t[3];return Se(e)?e[3]:e}function ui(t){return li(t[13])}function ci(t){return li(t[4])}function li(t){for(;null!==t&&!Se(t);)t=t[4];return t}function hi(t){fi(Ge(),$e(),gn()+t,Xe())}function fi(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&wn(e,r,n)}else{const r=t.preOrderHooks;null!==r&&_n(e,r,0,n)}mn(n)}function di(t,e){return t<<17|e<<2}function pi(t){return t>>17&32767}function gi(t){return 2|t}function mi(t){return(131068&t)>>2}function yi(t,e){return-131069&t|e<<2}function vi(t){return 1|t}function bi(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],s=n[r+1];if(-1!==s){const n=t.data[s];an(i),n.contentQueries(2,e[s],s)}}}function wi(t,e,n){return Ae(e)?e.createElement(t,n):null===n?e.createElement(t):e.createElementNS(n,t)}function _i(t,e,n,r,i,s,o,a,u,c){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,Ve(l),l[3]=l[15]=t,l[8]=n,l[10]=o||t&&t[10],l[11]=a||t&&t[11],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=s,l[16]=2==e.type?t[16]:l,l}function Si(t,e,n,r,i,s){const o=n+20,a=t.data[o]||function(t,e,n,r,i,s){const o=Ke(),a=We(),u=a?o:o&&o.parent,c=t.data[n]=Di(0,u&&u!==e?u:null,r,n,i,s);return null===t.firstChild&&(t.firstChild=c),o&&(!a||null!=o.child||null===c.parent&&2!==o.type?a||(o.next=c):o.child=c),c}(t,e,o,r,i,s);return Qe(a,!0),a}function Ei(t,e,n){cn(e,e[6]);try{const r=t.viewQuery;null!==r&&ts(1,r,n);const i=t.template;null!==i&&Ii(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&bi(t,e),t.staticViewQueries&&ts(2,t.viewQuery,n);const s=t.components;null!==s&&function(t,e){for(let n=0;n<e.length;n++)Wi(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),r}finally{e[2]&=-5,pn()}}function Ti(t,e,n,r){const i=e[2];if(256==(256&i))return;cn(e,e[6]);const s=Xe();try{Ve(e),Be.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&Ii(t,e,n,2,r);const o=3==(3&i);if(!s)if(o){const n=t.preOrderCheckHooks;null!==n&&wn(e,n,null)}else{const n=t.preOrderHooks;null!==n&&_n(e,n,0,null),Sn(e,0)}if(function(t){for(let e=ui(t);null!==e;e=ci(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&qe(r,1),n[2]|=1024}}}(e),function(t){for(let e=ui(t);null!==e;e=ci(e))for(let t=10;t<e.length;t++){const n=e[t],r=n[1];ze(n)&&Ti(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&bi(t,e),!s)if(o){const n=t.contentCheckHooks;null!==n&&wn(e,n)}else{const n=t.contentHooks;null!==n&&_n(e,n,1),Sn(e,1)}!function(t,e){try{const n=t.expandoInstructions;if(null!==n){let r=t.expandoStartIndex,i=-1,s=-1;for(let t=0;t<n.length;t++){const o=n[t];"number"==typeof o?o<=0?(s=0-o,mn(s),r+=9+n[++t],i=r):r+=o:(null!==o&&(rn(r,i),o(2,e[i])),i++)}}}finally{mn(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)Qi(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&ts(2,u,r),!s)if(o){const n=t.viewCheckHooks;null!==n&&wn(e,n)}else{const n=t.viewHooks;null!==n&&_n(e,n,2),Sn(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),s||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,qe(e[3],-1))}finally{pn()}}function Ci(t,e,n,r){const i=e[10],s=!Xe(),o=je(e);try{s&&!o&&i.begin&&i.begin(),o&&Ei(t,e,r),Ti(t,e,n,r)}finally{s&&!o&&i.end&&i.end()}}function Ii(t,e,n,r,i){const s=gn();try{mn(-1),2&r&&e.length>20&&fi(t,e,0,Xe()),n(r,i)}finally{mn(s)}}function xi(t,e,n){if(Ee(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}function ki(t,e,n){He()&&(function(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;t.firstCreatePass||qn(n,e),Gr(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const r=t.data[a],s=Ie(r);s&&Hi(e,n,r);const u=Xn(e,t,a,n);Gr(u,e),null!==o&&$i(0,a-i,u,r,0,o),s&&(Fe(n.index,e)[8]=u)}}(t,e,n,Pe(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=t.expandoInstructions,o=t.firstCreatePass,a=n.index-20,u=Be.lFrame.currentDirectiveIndex;try{mn(a);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];sn(n),null!==r.hostBindings||0!==r.hostVars||null!==r.hostAttrs?ji(r,i):o&&s.push(null)}}finally{mn(-1),sn(u)}}(t,e,n))}function Ai(t,e,n=Pe){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function Oi(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Ni(1,-1,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Ni(t,e,n,r,i,s,o,a,u,c){const l=20+r,h=l+i,f=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:oi);return n}(l,h);return f[1]={type:t,id:e,blueprint:f,template:n,queries:null,viewQuery:a,node:null,data:f.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,expandoInstructions:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:c,incompleteFirstPass:!1}}function Di(t,e,n,r,i,s){return{type:n,index:r,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,tagName:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Pi(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function Ri(t,e,n,r,i,s,o,a){const u=Pe(e,n);let c,l=e.inputs;!a&&null!=l&&(c=l[r])?(ss(t,n,c,r,i),Te(e)&&function(t,e){const n=Fe(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3===e.type&&(r=function(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=o?o(i,e.tagName||"",r):i,Ae(s)?s.setProperty(u,r,i):kn(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}function Li(t,e,n,r){let i=!1;if(He()){const s=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];ni(n,o.selectors,!1)&&(i||(i=[]),Gn(qn(n,e),t,o.type),Ie(o)?(2&n.flags&&Kr(n),Ui(t,n),i.unshift(o)):i.push(o))}return i}(t,e,n),o=null===r?null:{"":-1};if(null!==s){let r=0;i=!0,qi(n,t.data.length,s.length);for(let t=0;t<s.length;t++){const e=s[t];e.providersResolver&&e.providersResolver(e)}zi(t,n,s.length);let a=!1,u=!1;for(let i=0;i<s.length;i++){const c=s[i];n.mergedAttrs=An(n.mergedAttrs,c.hostAttrs),Bi(t,e,c),Vi(t.data.length-1,c,o),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128),!a&&(c.onChanges||c.onInit||c.doCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index-20),a=!0),u||!c.onChanges&&!c.doCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index-20),u=!0),Fi(t,c),r+=c.hostVars}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,s=[];let o=null,a=null;for(let u=e.directiveStart;u<n;u++){const t=r[u],n=t.inputs,c=null===i||Xr(e)?null:Gi(n,i);s.push(c),o=Pi(n,u,o),a=Pi(t.outputs,u,a)}null!==o&&(o.hasOwnProperty("class")&&(e.flags|=16),o.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=s,e.inputs=o,e.outputs=a}(t,n),Mi(t,e,r)}o&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new Error(`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,o)}return n.mergedAttrs=An(n.mergedAttrs,n.attrs),i}function Fi(t,e){const n=t.expandoInstructions;n.push(e.hostBindings),0!==e.hostVars&&n.push(e.hostVars)}function Mi(t,e,n){for(let r=0;r<n;r++)e.push(oi),t.blueprint.push(oi),t.data.push(null)}function ji(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function zi(t,e,n){const r=20-e.index,i=t.data.length-(65535&e.providerIndexes);(t.expandoInstructions||(t.expandoInstructions=[])).push(r,i,n)}function Ui(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function Vi(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Ie(e)&&(n[""]=t)}}function qi(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Bi(t,e,n){t.data.push(n);const r=n.factory||(n.factory=be(n.type)),i=new Cn(r,Ie(n),null);t.blueprint.push(i),e.push(i)}function Hi(t,e,n){const r=Pe(e,t),i=Oi(n),s=t[10],o=Yi(t,_i(t,i,null,n.onPush?64:16,r,e,s,s.createRenderer(r,n)));t[e.index]=o}function $i(t,e,n,r,i,s){const o=s[e];if(null!==o){const t=r.setInput;for(let e=0;e<o.length;){const i=o[e++],s=o[e++],a=o[e++];null!==t?r.setInput(n,a,i,s):n[s]=a}}}function Gi(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function Ki(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function Qi(t,e){const n=Fe(e,t);if(ze(n)){const t=n[1];80&n[2]?Ti(t,n,t.template,n[8]):n[5]>0&&function t(e){for(let r=ui(e);null!==r;r=ci(r))for(let e=10;e<r.length;e++){const n=r[e];if(1024&n[2]){const t=n[1];Ti(t,n,t.template,n[8])}else n[5]>0&&t(n)}const n=e[1].components;if(null!==n)for(let r=0;r<n.length;r++){const i=Fe(n[r],e);ze(i)&&i[5]>0&&t(i)}}(n)}}function Wi(t,e){const n=Fe(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),Ei(r,n,n[8])}function Yi(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function Xi(t){for(;t;){t[2]|=64;const e=ai(t);if(xe(t)&&!e)return t;t=e}return null}function Ji(t,e,n){const r=e[10];r.begin&&r.begin();try{Ti(t,e,t.template,n)}catch(i){throw is(e,i),i}finally{r.end&&r.end()}}function Zi(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=Me(n),i=r[1];Ci(i,r,i.template,n)}}(t[8])}function ts(t,e,n){an(0),e(t,n)}const es=(()=>Promise.resolve(null))();function ns(t){return t[7]||(t[7]=[])}function rs(t){return t.cleanup||(t.cleanup=[])}function is(t,e){const n=t[9],r=n?n.get(ir,null):null;r&&r.handleError(e)}function ss(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],u=e[o],c=t.data[o];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function os(t,e,n){const r=De(e,t),i=t[11];Ae(i)?i.setValue(r,n):r.textContent=n}function as(t,e){const n=e[3];return-1===t.index?Se(n)?n:null:n}function us(t,e){const n=as(t,e);return n?ws(e[11],n[7]):null}function cs(t,e,n,r,i){if(null!=r){let s,o=!1;Se(r)?s=r:_e(r)&&(o=!0,r=r[0]);const a=Ne(r);0===t&&null!==n?null==i?vs(e,n,a):ys(e,n,a,i||null):1===t&&null!==n?ys(e,n,a,i||null):2===t?function(t,e,n){const r=ws(t,e);r&&function(t,e,n,r){Ae(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function(t,e,n,r,i){const s=n[7];s!==Ne(n)&&cs(e,t,r,s,i);for(let o=10;o<n.length;o++){const i=n[o];Cs(i[1],i,t,e,r,s)}}(e,t,s,n,i)}}function ls(t,e,n,r){const i=us(t.node,e);i&&Cs(t,e,e[11],n?1:2,i,r)}function hs(t,e){const n=t[9],r=n.indexOf(e);1024&e[2]&&qe(e[3],-1),n.splice(r,1)}function fs(t,e){if(t.length<=10)return;const n=10+e,r=t[n];if(r){const i=r[17];null!==i&&i!==t&&hs(i,r),e>0&&(t[n-1][4]=r[4]);const s=ee(t,10+e);ls(r[1],r,!1,null);const o=s[19];null!==o&&o.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function ds(t,e){if(!(256&e[2])){const n=e[11];Ae(n)&&n.destroyNode&&Cs(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return gs(t[1],t);for(;e;){let n=null;if(_e(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)_e(e)&&gs(e[1],e),e=ps(e,t);null===e&&(e=t),_e(e)&&gs(e[1],e),n=e&&e[4]}e=n}}(e)}}function ps(t,e){let n;return _e(t)&&(n=t[6])&&2===n.type?as(n,t):t[3]===e?null:t[3]}function gs(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof Cn)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2)e[n+1].call(t[e[n]]);else e.call(t)}}}(t,e),function(t,e){const n=t.cleanup;if(null!==n){const t=e[7];for(let r=0;r<n.length-1;r+=2)if("string"==typeof n[r]){const i=n[r+1],s="function"==typeof i?i(e):Ne(e[i]),o=t[n[r+2]],a=n[r+3];"boolean"==typeof a?s.removeEventListener(n[r],o,a):a>=0?t[a]():t[-a].unsubscribe(),r+=2}else n[r].call(t[n[r+1]]);e[7]=null}}(t,e);const n=e[6];n&&3===n.type&&Ae(e[11])&&e[11].destroy();const r=e[17];if(null!==r&&Se(e[3])){r!==e[3]&&hs(r,e);const n=e[19];null!==n&&n.detachView(t)}}}function ms(t,e,n){let r=e.parent;for(;null!=r&&(4===r.type||5===r.type);)r=(e=r).parent;if(null==r){const t=n[6];return 2===t.type?us(t,n):n[0]}if(e&&5===e.type&&4&e.flags)return Pe(e,n).parentNode;if(2&r.flags){const e=t.data,n=e[e[r.index].directiveStart].encapsulation;if(n!==ae.ShadowDom&&n!==ae.Native)return null}return Pe(r,n)}function ys(t,e,n,r){Ae(t)?t.insertBefore(e,n,r):e.insertBefore(n,r,!0)}function vs(t,e,n){Ae(t)?t.appendChild(e,n):e.appendChild(n)}function bs(t,e,n,r){null!==r?ys(t,e,n,r):vs(t,e,n)}function ws(t,e){return Ae(t)?t.parentNode(e):e.parentNode}function _s(t,e){if(2===t.type){const n=as(t,e);return null===n?null:Es(n.indexOf(e,10)-10,n)}return 4===t.type||5===t.type?Pe(t,e):null}function Ss(t,e,n,r){const i=ms(t,r,e);if(null!=i){const t=e[11],s=_s(r.parent||e[6],e);if(Array.isArray(n))for(let e=0;e<n.length;e++)bs(t,i,n[e],s);else bs(t,i,n,s)}}function Es(t,e){const n=10+t+1;if(n<e.length){const t=e[n],r=t[1].firstChild;if(null!==r)return function t(e,n){if(null!==n){const r=n.type;if(3===r)return Pe(n,e);if(0===r)return Es(-1,e[n.index]);if(4===r||5===r){const r=n.child;if(null!==r)return t(e,r);{const t=e[n.index];return Se(t)?Es(-1,t):Ne(t)}}{const r=e[16],i=r[6],s=ai(r),o=i.projection[n.projection];return null!=o?t(s,o):t(e,n.next)}}return null}(t,r)}return e[7]}function Ts(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],u=n.type;o&&0===e&&(a&&Gr(Ne(a),r),n.flags|=4),64!=(64&n.flags)&&(4===u||5===u?(Ts(t,e,n.child,r,i,s,!1),cs(e,t,i,a,s)):1===u?Is(t,e,r,n,i,s):cs(e,t,i,a,s)),n=o?n.projectionNext:n.next}}function Cs(t,e,n,r,i,s){Ts(n,r,t.node.child,e,i,s,!1)}function Is(t,e,n,r,i,s){const o=n[16],a=o[6].projection[r.projection];if(Array.isArray(a))for(let u=0;u<a.length;u++)cs(e,t,i,a[u],s);else Ts(t,e,a,o[3],i,s,!0)}function xs(t,e,n){Ae(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function ks(t,e,n){Ae(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}class As{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._viewContainerRef=null}get rootNodes(){const t=this._lView;return null==t[0]?function t(e,n,r,i,s=!1){for(;null!==r;){const o=n[r.index];if(null!==o&&i.push(Ne(o)),Se(o))for(let e=10;e<o.length;e++){const n=o[e],r=n[1].firstChild;null!==r&&t(n[1],n,r,i)}const a=r.type;if(4===a||5===a)t(e,n,r.child,i);else if(1===a){const e=n[16],s=e[6].projection[r.projection];if(Array.isArray(s))i.push(...s);else{const n=ai(e);t(n[1],n,s,i,!0)}}r=s?r.projectionNext:r.next}return i}(t[1],t,t[6].child,[]):[]}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){const t=this._viewContainerRef.indexOf(this);t>-1&&this._viewContainerRef.detach(t),this._viewContainerRef=null}ds(this._lView[1],this._lView)}onDestroy(t){var e,n,r;e=this._lView[1],r=t,ns(n=this._lView).push(r),e.firstCreatePass&&rs(e).push(n[7].length-1,null)}markForCheck(){Xi(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Ji(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){Je(!0);try{Ji(t,e,n)}finally{Je(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t}detachFromAppRef(){var t;this._appRef=null,Cs(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class Os extends As{constructor(t){super(t),this._view=t}detectChanges(){Zi(this._view)}checkNoChanges(){!function(t){Je(!0);try{Zi(t)}finally{Je(!1)}}(this._view)}get context(){return null}}let Ns,Ds,Ps;function Rs(t,e,n){return Ns||(Ns=class extends t{}),new Ns(Pe(e,n))}function Ls(t,e,n,r){return Ds||(Ds=class extends t{constructor(t,e,n){super(),this._declarationView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=_i(this._declarationView,e,t,16,null,e.node);n[17]=this._declarationView[this._declarationTContainer.index];const r=this._declarationView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),Ei(e,n,t),new As(n)}}),0===n.type?new Ds(r,n,Rs(e,n,r)):null}function Fs(t,e,n,r){let i;Ps||(Ps=class extends t{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostView=n}get element(){return Rs(e,this._hostTNode,this._hostView)}get injector(){return new tr(this._hostTNode,this._hostView)}get parentInjector(){const t=$n(this._hostTNode,this._hostView),e=Rn(t,this._hostView),n=function(t,e,n){if(n.parent&&-1!==n.parent.injectorIndex){const t=n.parent.injectorIndex;let e=n.parent;for(;null!=e.parent&&t==e.parent.injectorIndex;)e=e.parent;return e}let r=Pn(t),i=e,s=e[6];for(;r>1;)i=i[15],s=i[6],r--;return s}(t,this._hostView,this._hostTNode);return Nn(t)&&null!=n?new tr(n,e):new tr(null,this._hostView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){return null!==this._lContainer[8]&&this._lContainer[8][t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const s=n||this.parentInjector;if(!i&&null==t.ngModule&&s){const t=s.get(Xt,null);t&&(i=t)}const o=t.create(s,r,void 0,i);return this.insert(o.hostView,e),o}insert(t,e){const n=t._lView,r=n[1];if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");if(this.allocateContainerIfNeeded(),Se(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new Ps(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e);return function(t,e,n,r){const i=10+r,s=n.length;r>0&&(n[i-1][4]=e),r<s-10?(e[4]=n[i],te(n,10+r,e)):(n.push(e),e[4]=null),e[3]=n;const o=e[17];null!==o&&n!==o&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(r,n,this._lContainer,i),ls(r,n,!0,Es(i,this._lContainer)),t.attachToViewContainerRef(this),te(this._lContainer[8],i,t),t}move(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");return this.insert(t,e)}indexOf(t){const e=this._lContainer[8];return null!==e?e.indexOf(t):-1}remove(t){this.allocateContainerIfNeeded();const e=this._adjustIndex(t,-1);!function(t,e){const n=fs(t,e);n&&ds(n[1],n)}(this._lContainer,e),ee(this._lContainer[8],e)}detach(t){this.allocateContainerIfNeeded();const e=this._adjustIndex(t,-1),n=fs(this._lContainer,e);return n&&null!=ee(this._lContainer[8],e)?new As(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}allocateContainerIfNeeded(){null===this._lContainer[8]&&(this._lContainer[8]=[])}});const s=r[n.index];if(Se(s))i=s;else{let t;if(4===n.type)t=Ne(s);else if(t=r[11].createComment(""),xe(r)){const e=r[11],i=Pe(n,r);ys(e,ws(e,i),t,function(t,e){return Ae(t)?t.nextSibling(e):e.nextSibling}(e,i))}else Ss(r[1],r,t,n);r[n.index]=i=Ki(s,r,t,n),Yi(r,i)}return new Ps(i,n,r)}let Ms=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>js(),t})();const js=function(t=!1){return function(t,e,n){if(!n&&Te(t)){const n=Fe(t.index,e);return new As(n,n)}return 3===t.type||0===t.type||4===t.type||5===t.type?new As(e[16],e):null}(Ke(),$e(),t)},zs=new Mt("Set Injector scope."),Us={},Vs={},qs=[];let Bs=void 0;function Hs(){return void 0===Bs&&(Bs=new Yt),Bs}function $s(t,e=null,n=null,r){return new Gs(t,n,e||Hs(),r)}class Gs{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&Zt(e,n=>this.processProvider(n,t,e)),Zt([t],t=>this.processInjectorType(t,[],i)),this.records.set(jt,Qs(void 0,this));const s=this.records.get(zs);this.scope=null!=s?s.value:null,this.source=r||("object"==typeof t?null:wt(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=zt,n=at.Default){this.assertNotDestroyed();const r=Ht(this);try{if(!(n&at.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof Mt)&&ft(t);e=n&&this.injectableDefInScope(n)?Qs(Ks(t),Us):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&at.Self?Hs():this.parent).get(t,e=n&at.Optional&&e===zt?null:e)}catch(s){if("NullInjectorError"===s.name){if((s.ngTempTokenPath=s.ngTempTokenPath||[]).unshift(wt(t)),r)throw s;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e.__source&&i.unshift(e.__source),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=wt(e);if(Array.isArray(e))i=e.map(wt).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):wt(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(Ut,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(s,t,"R3InjectorError",this.source)}throw s}finally{Ht(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(wt(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=Tt(t)))return!1;let r=pt(t);const i=null==r&&t.ngModule||void 0,s=void 0===i?t:i,o=-1!==n.indexOf(s);if(void 0!==i&&(r=pt(i)),null==r)return!1;if(null!=r.imports&&!o){let t;n.push(s);try{Zt(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];Zt(r,t=>this.processProvider(t,n,r||qs))}}this.injectorDefTypes.add(s),this.records.set(s,Qs(r.factory,Us));const a=r.providers;if(null!=a&&!o){const e=t;Zt(a,t=>this.processProvider(t,e,a))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=Ys(t=Tt(t))?t:Tt(t&&t.provide);const i=function(t,e,n){return Ws(t)?Qs(void 0,t.useValue):Qs(function(t,e,n){let r=void 0;if(Ys(t)){const e=Tt(t);return be(e)||Ks(e)}if(Ws(t))r=()=>Tt(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(...Wt(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>Kt(Tt(t.useExisting));else{const i=Tt(t&&(t.useClass||t.provide));if(i||function(t,e,n){let r="";throw t&&e&&(r=` - only instances of Provider and Type are allowed, got: [${e.map(t=>t==n?"?"+n+"?":"...").join(", ")}]`),new Error(`Invalid provider for the NgModule '${wt(t)}'`+r)}(e,n,t),!function(t){return!!t.deps}(t))return be(i)||Ks(i);r=()=>new i(...Wt(t.deps))}var i;return r}(t,e,n),Us)}(t,e,n);if(Ys(t)||!0!==t.multi){const t=this.records.get(r);t&&void 0!==t.multi&&Qr()}else{let e=this.records.get(r);e?void 0===e.multi&&Qr():(e=Qs(void 0,Us,!0),e.factory=()=>Wt(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===Vs?function(t){throw new Error("Cannot instantiate cyclic dependency! "+t)}(wt(t)):e.value===Us&&(e.value=Vs,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function Ks(t){const e=ft(t),n=null!==e?e.factory:be(t);if(null!==n)return n;const r=pt(t);if(null!==r)return r.factory;if(t instanceof Mt)throw new Error(`Token ${wt(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=ne(e,"?");throw new Error(`Can't resolve all parameters for ${wt(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[gt]||t[vt]||t[yt]&&t[yt]());if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in v10. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function Qs(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Ws(t){return null!==t&&"object"==typeof t&&Vt in t}function Ys(t){return"function"==typeof t}const Xs=function(t,e,n){return function(t,e=null,n=null,r){const i=$s(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let Js=(()=>{class t{static create(t,e){return Array.isArray(t)?Xs(t,e,""):Xs(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=zt,t.NULL=new Yt,t.\u0275prov=lt({token:t,providedIn:"any",factory:()=>Kt(jt)}),t.__NG_ELEMENT_ID__=-1,t})();const Zs=new Mt("AnalyzeForEntryComponents");let to=new Map;const eo=new Set;function no(t){return"string"==typeof t?t:t.text()}function ro(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const t=e[o];"number"==typeof t?s=t:1==s?i=_t(i,t):2==s&&(r=_t(r,t+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}let io=null;function so(){if(!io){const t=At.Symbol;if(t&&t.iterator)io=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(io=n)}}}return io}function oo(t,e){return t===e||"number"==typeof t&&"number"==typeof e&&isNaN(t)&&isNaN(e)}class ao{constructor(t){this.wrapped=t}static wrap(t){return new ao(t)}static unwrap(t){return ao.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof ao}}function uo(t){return!!co(t)&&(Array.isArray(t)||!(t instanceof Map)&&so()in t)}function co(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function lo(t,e,n){return t[e]=n}function ho(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function fo(t,e,n,r){const i=ho(t,e,n);return ho(t,e+1,r)||i}function po(t,e,n,r){const i=$e();return ho(i,en(),e)&&(Ge(),function(t,e,n,r,i,s){const o=Pe(t,e),a=e[11];if(null==r)Ae(a)?a.removeAttribute(o,n,s):o.removeAttribute(n);else{const e=null==i?Ln(r):i(r,t.tagName||"",n);Ae(a)?a.setAttribute(o,n,e,s):s?o.setAttributeNS(s,n,e):o.setAttribute(n,e)}}(yn(),i,t,e,n,r)),po}function go(t,e,n,r){return ho(t,en(),n)?e+Ln(n)+r:oi}function mo(t,e,n,r,i,s){const o=fo(t,tn(),n,i);return nn(2),o?e+Ln(n)+r+Ln(i)+s:oi}function yo(t,e,n,r,i,s,o,a){const u=$e(),c=Ge(),l=t+20,h=c.firstCreatePass?function(t,e,n,r,i,s,o,a,u){const c=e.consts,l=Si(e,n[6],t,0,o||null,Ue(c,a));Li(e,n,l,Ue(c,u)),bn(e,l);const h=l.tViews=Ni(2,-1,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c),f=Di(0,null,2,-1,null,null);return f.injectorIndex=l.injectorIndex,h.node=f,null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(t,c,u,e,n,r,i,s,o):c.data[l];Qe(h,!1);const f=u[11].createComment("");Ss(c,u,f,h),Gr(f,u),Yi(u,u[l]=Ki(f,u,f,h)),Ce(h)&&ki(c,u,h),null!=o&&Ai(u,h,a)}function vo(t){return Le(Be.lFrame.contextLView,t)}function bo(t,e=at.Default){const n=$e();return null==n?Kt(t,e):Kn(Ke(),n,Tt(t),e)}function wo(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(xn(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}(Ke(),t)}function _o(){throw new Error("invalid")}function So(t,e,n){const r=$e();return ho(r,en(),e)&&Ri(Ge(),yn(),r,t,e,r[11],n,!1),So}function Eo(t,e,n,r,i){const s=i?"class":"style";ss(t,n,e.inputs[s],s,r)}function To(t,e,n,r){const i=$e(),s=Ge(),o=20+t,a=i[11],u=i[o]=wi(e,a,Be.lFrame.currentNamespace),c=s.firstCreatePass?function(t,e,n,r,i,s,o){const a=e.consts,u=Ue(a,s),c=Si(e,n[6],t,3,i,u);return Li(e,n,c,Ue(a,o)),null!==c.attrs&&ro(c,c.attrs,!1),null!==c.mergedAttrs&&ro(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(t,s,i,0,e,n,r):s.data[o];Qe(c,!0);const l=c.mergedAttrs;null!==l&&In(a,u,l);const h=c.classes;null!==h&&ks(a,u,h);const f=c.styles;null!==f&&xs(a,u,f),Ss(s,i,u,c),0===Be.lFrame.elementDepthCount&&Gr(u,i),Be.lFrame.elementDepthCount++,Ce(c)&&(ki(s,i,c),xi(s,c,i)),null!==r&&Ai(i,c)}function Co(){let t=Ke();We()?Ye():(t=t.parent,Qe(t,!1));const e=t;Be.lFrame.elementDepthCount--;const n=Ge();n.firstCreatePass&&(bn(n,t),Ee(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&Eo(n,e,$e(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&Eo(n,e,$e(),e.stylesWithoutHost,!1)}function Io(t,e,n,r){To(t,e,n,r),Co()}function xo(t,e,n){const r=$e(),i=Ge(),s=t+20,o=i.firstCreatePass?function(t,e,n,r,i){const s=e.consts,o=Ue(s,r),a=Si(e,n[6],t,4,"ng-container",o);return null!==o&&ro(a,o,!0),Li(e,n,a,Ue(s,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(t,i,r,e,n):i.data[s];Qe(o,!0);const a=r[s]=r[11].createComment("");Ss(i,r,a,o),Gr(a,r),Ce(o)&&(ki(i,r,o),xi(i,o,r)),null!=n&&Ai(r,o)}function ko(){let t=Ke();const e=Ge();We()?Ye():(t=t.parent,Qe(t,!1)),e.firstCreatePass&&(bn(e,t),Ee(t)&&e.queries.elementEnd(t))}function Ao(t){return!!t&&"function"==typeof t.then}function Oo(t,e,n=!1,r){const i=$e(),s=Ge(),o=Ke();return function(t,e,n,r,i,s,o=!1,a){const u=Ce(r),c=t.firstCreatePass&&(t.cleanup||(t.cleanup=[])),l=ns(e);let h=!0;if(3===r.type){const f=Pe(r,e),d=a?a(f):ue,p=d.target||f,g=l.length,m=a?t=>a(Ne(t[r.index])).target:r.index;if(Ae(n)){let o=null;if(!a&&u&&(o=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const t=i[s];if(t===n&&i[s+1]===r){const t=e[7],n=i[s+2];return t.length>n?t[n]:null}"string"==typeof t&&(s+=2)}return null}(t,e,i,r.index)),null!==o)(o.__ngLastListenerFn__||o).__ngNextListenerFn__=s,o.__ngLastListenerFn__=s,h=!1;else{s=Do(r,e,s,!1);const t=n.listen(d.name||p,i,s);l.push(s,t),c&&c.push(i,m,g,g+1)}}else s=Do(r,e,s,!0),p.addEventListener(i,s,o),l.push(s),c&&c.push(i,m,g,o)}const f=r.outputs;let d;if(h&&null!==f&&(d=f[i])){const t=d.length;if(t)for(let n=0;n<t;n+=2){const t=e[d[n]][d[n+1]].subscribe(s),o=l.length;l.push(s,t),c&&c.push(i,r.index,o,-(o+1))}}}(s,i,i[11],o,t,e,n,r),Oo}function No(t,e,n){try{return!1!==e(n)}catch(r){return is(t,r),!1}}function Do(t,e,n,r){return function i(s){if(s===Function)return n;const o=2&t.flags?Fe(t.index,e):e;0==(32&e[2])&&Xi(o);let a=No(e,n,s),u=i.__ngNextListenerFn__;for(;u;)a=No(e,u,s)&&a,u=u.__ngNextListenerFn__;return r&&!1===a&&(s.preventDefault(),s.returnValue=!1),a}}function Po(t=1){return function(t){return(Be.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,Be.lFrame.contextLView))[8]}(t)}function Ro(t,e){let n=null;const r=function(t){const e=t.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(t);for(let i=0;i<e.length;i++){const s=e[i];if("*"!==s){if(null===r?ni(t,s,!0):ri(r,s))return i}else n=i}return n}function Lo(t){const e=$e()[16][6];if(!e.projection){const n=e.projection=ne(t?t.length:1,null),r=n.slice();let i=e.child;for(;null!==i;){const e=t?Ro(i,t):0;null!==e&&(r[e]?r[e].projectionNext=i:n[e]=i,r[e]=i),i=i.next}}}function Fo(t,e=0,n){const r=$e(),i=Ge(),s=Si(i,r[6],t,1,null,n||null);null===s.projection&&(s.projection=e),Ye(),function(t,e,n){Is(e[11],0,e,n,ms(t,n,e),_s(n.parent||e[6],e))}(i,r,s)}function Mo(t,e,n){return jo(t,"",e,"",n),Mo}function jo(t,e,n,r,i){const s=$e(),o=go(s,e,n,r);return o!==oi&&Ri(Ge(),yn(),s,t,o,s[11],i,!1),jo}function zo(t,e,n,r,i,s,o){const a=$e(),u=mo(a,e,n,r,i,s);return u!==oi&&Ri(Ge(),yn(),a,t,u,a[11],o,!1),zo}const Uo=[];function Vo(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?pi(s):mi(s),u=!1;for(;0!==a&&(!1===u||o);){const n=t[a+1];qo(t[a],e)&&(u=!0,t[a+1]=r?vi(n):gi(n)),a=r?pi(n):mi(n)}u&&(t[n+1]=r?gi(s):vi(s))}function qo(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&se(t,e)>=0}const Bo={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Ho(t){return t.substring(Bo.key,Bo.keyEnd)}function $o(t,e){const n=Bo.textEnd;return n===e?-1:(e=Bo.keyEnd=function(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,Bo.key=e,n),Go(t,e,n))}function Go(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function Ko(t,e,n){return Yo(t,e,n,!1),Ko}function Qo(t,e){return Yo(t,e,null,!0),Qo}function Wo(t,e){for(let n=function(t){return function(t){Bo.key=0,Bo.keyEnd=0,Bo.value=0,Bo.valueEnd=0,Bo.textEnd=t.length}(t),$o(t,Go(t,0,Bo.textEnd))}(e);n>=0;n=$o(e,n))re(t,Ho(e),!0)}function Yo(t,e,n,r){const i=$e(),s=Ge(),o=nn(2);if(s.firstUpdatePass&&Zo(s,t,o,r),e!==oi&&ho(i,o,e)){let a;null==n&&(a=function(){const t=Be.lFrame;return null===t?null:t.currentSanitizer}())&&(n=a),na(s,s.data[gn()+20],i,i[11],t,i[o+1]=function(t,e){return null==t||("function"==typeof e?t=e(t):"string"==typeof e?t+=e:"object"==typeof t&&(t=wt(hr(t)))),t}(e,n),r,o)}}function Xo(t,e,n,r){const i=Ge(),s=nn(2);i.firstUpdatePass&&Zo(i,null,s,r);const o=$e();if(n!==oi&&ho(o,s,n)){const a=i.data[gn()+20];if(sa(a,r)&&!Jo(i,s)){let t=r?a.classesWithoutHost:a.stylesWithoutHost;null!==t&&(n=_t(t,n||"")),Eo(i,a,o,n,r)}else!function(t,e,n,r,i,s,o,a){i===oi&&(i=Uo);let u=0,c=0,l=0<i.length?i[0]:null,h=0<s.length?s[0]:null;for(;null!==l||null!==h;){const f=u<i.length?i[u+1]:void 0,d=c<s.length?s[c+1]:void 0;let p=null,g=void 0;l===h?(u+=2,c+=2,f!==d&&(p=h,g=d)):null===h||null!==l&&l<h?(u+=2,p=l):(c+=2,p=h,g=d),null!==p&&na(t,e,n,r,p,g,o,a),l=u<i.length?i[u]:null,h=c<s.length?s[c]:null}}(i,a,o,o[11],o[s+1],o[s+1]=function(t,e,n){if(null==n||""===n)return Uo;const r=[],i=hr(n);if(Array.isArray(i))for(let s=0;s<i.length;s++)t(r,i[s],!0);else if("object"==typeof i)for(const s in i)i.hasOwnProperty(s)&&t(r,s,i[s]);else"string"==typeof i&&e(r,i);return r}(t,e,n),r,s)}}function Jo(t,e){return e>=t.expandoStartIndex}function Zo(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[gn()+20],o=Jo(t,n);sa(s,r)&&null===e&&!o&&(e=!1),e=function(t,e,n,r){const i=function(t){const e=Be.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=ea(n=ta(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=ta(i,t,e,n,r),null===s){let n=function(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==mi(r))return t[pi(r)]}(t,e,r);void 0!==n&&Array.isArray(n)&&(n=ta(null,t,e,n[1],r),n=ea(n,e.attrs,r),function(t,e,n,r){t[pi(n?e.classBindings:e.styleBindings)]=r}(t,e,r,n))}else s=function(t,e,n){let r=void 0;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=ea(r,t[s].hostAttrs,n);return ea(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=pi(o),u=mi(o);t[r]=n;let c,l=!1;if(Array.isArray(n)){const t=n;c=t[1],(null===c||se(t,c)>0)&&(l=!0)}else c=n;if(i)if(0!==u){const e=pi(t[a+1]);t[r+1]=di(e,a),0!==e&&(t[e+1]=yi(t[e+1],r)),t[a+1]=131071&t[a+1]|r<<17}else t[r+1]=di(a,0),0!==a&&(t[a+1]=yi(t[a+1],r)),a=r;else t[r+1]=di(u,0),0===a?a=r:t[u+1]=yi(t[u+1],r),u=r;l&&(t[r+1]=gi(t[r+1])),Vo(t,c,r,!0),Vo(t,c,r,!1),function(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&se(s,e)>=0&&(n[r+1]=vi(n[r+1]))}(e,c,t,r,s),o=di(a,u),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}function ta(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=ea(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function ea(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),re(t,o,!!n||e[++s]))}return void 0===t?null:t}function na(t,e,n,r,i,s,o,a){if(3!==e.type)return;const u=t.data,c=u[a+1];ia(1==(1&c)?ra(u,e,n,i,mi(c),o):void 0)||(ia(s)||function(t){return 2==(2&t)}(c)&&(s=ra(u,null,n,i,a,o)),function(t,e,n,r,i){const s=Ae(t);if(e)i?s?t.addClass(n,r):n.classList.add(r):s?t.removeClass(n,r):n.classList.remove(r);else{const e=-1==r.indexOf("-")?void 0:2;null==i?s?t.removeStyle(n,r,e):n.style.removeProperty(r):s?t.setStyle(n,r,i,e):n.style.setProperty(r,i)}}(r,o,De(gn(),n),i,s))}function ra(t,e,n,r,i,s){const o=null===e;let a=void 0;for(;i>0;){const e=t[i],s=Array.isArray(e),u=s?e[1]:e,c=null===u;let l=n[i+1];l===oi&&(l=c?Uo:void 0);let h=c?ie(l,r):u===r?l:void 0;if(s&&!ia(h)&&(h=ie(e,r)),ia(h)&&(a=h,o))return a;const f=t[i+1];i=o?pi(f):mi(f)}if(null!==e){let t=s?e.residualClasses:e.residualStyles;null!=t&&(a=ie(t,r))}return a}function ia(t){return void 0!==t}function sa(t,e){return 0!=(t.flags&(e?16:32))}function oa(t,e=""){const n=$e(),r=Ge(),i=t+20,s=r.firstCreatePass?Si(r,n[6],t,3,null,null):r.data[i],o=n[i]=function(t,e){return Ae(e)?e.createText(t):e.createTextNode(t)}(e,n[11]);Ss(r,n,o,s),Qe(s,!1)}function aa(t){return ua("",t,""),aa}function ua(t,e,n){const r=$e(),i=go(r,t,e,n);return i!==oi&&os(r,gn(),i),ua}function ca(t,e,n,r,i){const s=$e(),o=mo(s,t,e,n,r,i);return o!==oi&&os(s,gn(),o),ca}function la(t,e,n){Xo(re,Wo,go($e(),t,e,n),!0)}function ha(t,e,n){const r=$e();return ho(r,en(),e)&&Ri(Ge(),yn(),r,t,e,r[11],n,!0),ha}function fa(t,e){const n=Me(t)[1],r=n.data.length-1;bn(n,{directiveStart:r,directiveEnd:r+1})}function da(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const r=[t];for(;e;){let i=void 0;if(Ie(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const e=t;e.inputs=pa(t.inputs),e.declaredInputs=pa(t.declaredInputs),e.outputs=pa(t.outputs);const n=i.hostBindings;n&&ya(t,n);const s=i.viewQuery,o=i.contentQueries;if(s&&ga(t,s),o&&ma(t,o),ct(t.inputs,i.inputs),ct(t.declaredInputs,i.declaredInputs),ct(t.outputs,i.outputs),Ie(i)&&i.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(i.data.animation)}e.afterContentChecked=e.afterContentChecked||i.afterContentChecked,e.afterContentInit=t.afterContentInit||i.afterContentInit,e.afterViewChecked=t.afterViewChecked||i.afterViewChecked,e.afterViewInit=t.afterViewInit||i.afterViewInit,e.doCheck=t.doCheck||i.doCheck,e.onDestroy=t.onDestroy||i.onDestroy,e.onInit=t.onInit||i.onInit}const e=i.features;if(e)for(let r=0;r<e.length;r++){const i=e[r];i&&i.ngInherit&&i(t),i===da&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=An(i.hostAttrs,n=An(n,i.hostAttrs))}}(r)}function pa(t){return t===ue?{}:t===ce?[]:t}function ga(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function ma(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,i)=>{e(t,r,i),n(t,r,i)}:e}function ya(t,e){const n=t.hostBindings;t.hostBindings=n?(t,r)=>{e(t,r),n(t,r)}:e}class va{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function ba(t){t.type.prototype.ngOnChanges&&(t.setInput=wa,t.onChanges=function(){const t=_a(this),e=t&&t.current;if(e){const n=t.previous;if(n===ue)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}})}function wa(t,e,n,r){const i=_a(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:ue,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[n],u=o[a];s[a]=new va(u&&u.currentValue,e,o===ue),t[r]=e}function _a(t){return t.__ngSimpleChanges__||null}ba.ngInherit=!0;class Sa{}class Ea{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${wt(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let Ta=(()=>{class t{}return t.NULL=new Ea,t})(),Ca=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=()=>Ia(t),t})();const Ia=function(t){return Rs(t,Ke(),$e())};class xa{}const ka=function(){var t={Important:1,DashCase:2};return t[t.Important]="Important",t[t.DashCase]="DashCase",t}();let Aa=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Oa(),t})();const Oa=function(){const t=$e(),e=Fe(Ke().index,t);return function(t){const e=t[11];if(Ae(e))return e;throw new Error("Cannot inject Renderer2 when the application uses Renderer3!")}(_e(e)?e:t)};let Na=(()=>{class t{}return t.\u0275prov=lt({token:t,providedIn:"root",factory:()=>null}),t})();class Da{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const Pa=new Da("9.1.13");class Ra{constructor(){}supports(t){return uo(t)}create(t){return new Fa(t)}}const La=(t,e)=>e;class Fa{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||La}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const s=!n||e&&e.currentIndex<Ua(n,r,i)?e:n,o=Ua(s,r,i),a=s.currentIndex;if(s===n)r--,n=n._nextRemoved;else if(e=e._next,null==s.previousIndex)r++;else{i||(i=[]);const t=o-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,s=r+n;e<=s&&s<t&&(i[n]=r+1)}i[s.previousIndex]=e-t}}o!==a&&t(s,o,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!uo(t))throw new Error(`Error trying to diff '${wt(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,s=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&oo(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,n,r,e)),oo(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),s=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[so()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&oo(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,t,r,e)),oo(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),s=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t,e;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=e)t.previousIndex=t.currentIndex,e=t._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(oo(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(oo(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new Ma(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new za),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new za),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Ma{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class ja{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&oo(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class za{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new ja,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Ua(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class Va{constructor(){}supports(t){return t instanceof Map||co(t)}create(){return new qa}}class qa{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||co(t)))throw new Error(`Error trying to diff '${wt(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new Ba(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){oo(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class Ba{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let Ha=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new ot,new it]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=lt({token:t,providedIn:"root",factory:()=>new t([new Ra])}),t})(),$a=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new ot,new it]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=lt({token:t,providedIn:"root",factory:()=>new t([new Va])}),t})();const Ga=[new Va],Ka=new Ha([new Ra]),Qa=new $a(Ga);let Wa=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Ya(t,Ca),t})();const Ya=function(t,e){return Ls(t,e,Ke(),$e())};let Xa=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Ja(t,Ca),t})();const Ja=function(t,e){return Fs(t,e,Ke(),$e())},Za={};class tu extends Ta{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=ve(t);return new ru(e,this.ngModule)}}function eu(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const nu=new Mt("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Mn});class ru extends Sa{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(si).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return eu(this.componentDef.inputs)}get outputs(){return eu(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const s=t.get(n,Za,i);return s!==Za||r===Za?s:e.get(n,r,i)}}}(t,r.injector):t,s=i.get(xa,Oe),o=i.get(Na,null),a=s.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",c=n?function(t,e,n){if(Ae(t))return t.selectRootElement(e,n===ae.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(a,n,this.componentDef.encapsulation):wi(u,s.createRenderer(null,this.componentDef),function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(u)),l=this.componentDef.onPush?576:528,h="string"==typeof n&&/^#root-ng-internal-isolated-\d+/.test(n),f={components:[],scheduler:Mn,clean:es,playerHandler:null,flags:0},d=Ni(0,-1,null,1,0,null,null,null,null,null),p=_i(null,d,f,l,null,null,s,a,o,i);let g,m;cn(p,null);try{const t=function(t,e,n,r,i,s){const o=n[1];n[20]=t;const a=Si(o,null,0,3,null,null),u=a.mergedAttrs=e.hostAttrs;null!==u&&(ro(a,u,!0),null!==t&&(In(i,t,u),null!==a.classes&&ks(i,t,a.classes),null!==a.styles&&xs(i,t,a.styles)));const c=r.createRenderer(t,e),l=_i(n,Oi(e),null,e.onPush?64:16,n[20],a,r,c,void 0);return o.firstCreatePass&&(Gn(qn(a,n),o,e.type),Ui(o,a),qi(a,n.length,1)),Yi(n,l),n[20]=l}(c,this.componentDef,p,s,a);if(c)if(n)In(a,c,["ng-version",Pa.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!ti(i))break;i=s}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&In(a,c,t),e&&e.length>0&&ks(a,c,e.join(" "))}if(m=Re(d,0),void 0!==e){const t=m.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}g=function(t,e,n,r,i){const s=n[1],o=function(t,e,n){const r=Ke();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),zi(t,r,1),Bi(t,e,n));const i=Xn(e,t,e.length-1,r);Gr(i,e);const s=Pe(r,e);return s&&Gr(s,e),i}(s,n,e);r.components.push(o),t[8]=o,i&&i.forEach(t=>t(o,e)),e.contentQueries&&e.contentQueries(1,o,n.length-1);const a=Ke();if(s.firstCreatePass&&(null!==e.hostBindings||null!==e.hostAttrs)){mn(a.index-20);const t=n[1];Fi(t,e),Mi(t,n,e.hostVars),ji(e,o)}return o}(t,this.componentDef,p,f,[fa]),Ei(d,p,null)}finally{pn()}const y=new iu(this.componentType,g,Rs(Ca,m,p),p,m);return n&&!h||(d.node.child=m),y}}class iu extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.destroyCbs=[],this.instance=e,this.hostView=this.changeDetectorRef=new Os(r),function(t,e,n,r){let i=t.node;null==i&&(t.node=i=Di(0,null,2,-1,null,null)),r[6]=i}(r[1],0,0,r),this.componentType=t}get injector(){return new tr(this._tNode,this._rootLView)}destroy(){this.destroyCbs&&(this.destroyCbs.forEach(t=>t()),this.destroyCbs=null,!this.hostView.destroyed&&this.hostView.destroy())}onDestroy(t){this.destroyCbs&&this.destroyCbs.push(t)}}const su=void 0;var ou=["en",[["a","p"],["AM","PM"],su],[["AM","PM"],su,su],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],su,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],su,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",su,"{1} 'at' {0}",su],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let au={};function uu(t){return t in au||(au[t]=At.ng&&At.ng.common&&At.ng.common.locales&&At.ng.common.locales[t]),au[t]}const cu=function(){var t={LocaleId:0,DayPeriodsFormat:1,DayPeriodsStandalone:2,DaysFormat:3,DaysStandalone:4,MonthsFormat:5,MonthsStandalone:6,Eras:7,FirstDayOfWeek:8,WeekendRange:9,DateFormat:10,TimeFormat:11,DateTimeFormat:12,NumberSymbols:13,NumberFormats:14,CurrencyCode:15,CurrencySymbol:16,CurrencyName:17,Currencies:18,Directionality:19,PluralCase:20,ExtraData:21};return t[t.LocaleId]="LocaleId",t[t.DayPeriodsFormat]="DayPeriodsFormat",t[t.DayPeriodsStandalone]="DayPeriodsStandalone",t[t.DaysFormat]="DaysFormat",t[t.DaysStandalone]="DaysStandalone",t[t.MonthsFormat]="MonthsFormat",t[t.MonthsStandalone]="MonthsStandalone",t[t.Eras]="Eras",t[t.FirstDayOfWeek]="FirstDayOfWeek",t[t.WeekendRange]="WeekendRange",t[t.DateFormat]="DateFormat",t[t.TimeFormat]="TimeFormat",t[t.DateTimeFormat]="DateTimeFormat",t[t.NumberSymbols]="NumberSymbols",t[t.NumberFormats]="NumberFormats",t[t.CurrencyCode]="CurrencyCode",t[t.CurrencySymbol]="CurrencySymbol",t[t.CurrencyName]="CurrencyName",t[t.Currencies]="Currencies",t[t.Directionality]="Directionality",t[t.PluralCase]="PluralCase",t[t.ExtraData]="ExtraData",t}();let lu="en-US";function hu(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,r){throw new Error("ASSERTION ERROR: "+t+` [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(lu=t.toLowerCase().replace(/_/g,"-"))}const fu=new Map;class du extends Xt{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new tu(this);const n=we(t),r=t[Rt]||null;r&&hu(r),this._bootstrapComponents=jn(n.bootstrap),this._r3Injector=$s(t,e,[{provide:Xt,useValue:this},{provide:Ta,useValue:this.componentFactoryResolver}],wt(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=Js.THROW_IF_NOT_FOUND,n=at.Default){return t===Js||t===Xt||t===jt?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class pu extends Jt{constructor(t){super(),this.moduleType=t,null!==we(t)&&function t(e){if(null!==e.\u0275mod.id){const t=e.\u0275mod.id;(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${wt(e)} vs ${wt(e.name)}`)})(t,fu.get(t),e),fu.set(t,e)}let n=e.\u0275mod.imports;n instanceof Function&&(n=n()),n&&n.forEach(e=>t(e))}(t)}create(t){return new du(this.moduleType,t)}}function gu(t,e){const n=t[e];return n===oi?void 0:n}function mu(t,e){const n=Ge();let r;const i=t+20;n.firstCreatePass?(r=function(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}throw new Error(`The pipe '${t}' could not be found!`)}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(i,r.onDestroy)):r=n.data[i];const s=r.factory||(r.factory=be(r.type)),o=$t(bo),a=Un(!1),u=s();return Un(a),$t(o),function(t,e,n,r){const i=n+20;i>=t.data.length&&(t.data[i]=null,t.blueprint[i]=null),e[i]=r}(n,$e(),t,u),u}function yu(t,e,n,r){const i=$e(),s=Le(i,t);return function(t,e){return ao.isWrapped(e)&&(e=ao.unwrap(e),t[tn()]=oi),e}(i,function(t,e){return t[1].data[e+20].pure}(i,t)?function(t,e,n,r,i,s,o){const a=e+n;return fo(t,a,i,s)?lo(t,a+2,o?r.call(o,i,s):r(i,s)):gu(t,a+2)}(i,Ze(),e,s.transform,n,r,s):s.transform(n,r))}class vu extends C{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let r,i=t=>null,s=()=>null;t&&"object"==typeof t?(r=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(i=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(s=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(r=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(i=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(s=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const o=super.subscribe(r,i,s);return t instanceof h&&t.add(o),o}}function bu(){return this._results[so()]()}class wu{constructor(){this.dirty=!0,this._results=[],this.changes=new vu,this.length=0;const t=so(),e=wu.prototype;e[t]||(e[t]=bu)}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t){this._results=function t(e,n){void 0===n&&(n=e);for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?(n===e&&(n=e.slice(0,r)),t(i,n)):n!==e&&n.push(i)}return n}(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class _u{constructor(t){this.queryList=t,this.matches=null}clone(){return new _u(this.queryList)}setDirty(){this.queryList.setDirty()}}class Su{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new Su(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==Du(t,e).matches&&this.queries[e].setDirty()}}class Eu{constructor(t,e,n,r=null){this.predicate=t,this.descendants=e,this.isStatic=n,this.read=r}}class Tu{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,i=this.getByIndex(n).embeddedTView(t,r);i&&(i.indexInDeclarationView=n,null!==e?e.push(i):e=[i])}return null!==e?new Tu(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Cu{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new Cu(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&!1===this.metadata.descendants){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&4===n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){if(Array.isArray(this.metadata.predicate)){const n=this.metadata.predicate;for(let r=0;r<n.length;r++)this.matchTNodeWithReadOption(t,e,Iu(e,n[r]))}else{const n=this.metadata.predicate;n===Wa?0===e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,Yn(e,t,n,!1,!1))}}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===Ca||r===Xa||r===Wa&&0===e.type)this.addMatch(e.index,-2);else{const n=Yn(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function Iu(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function xu(t,e,n,r){return-1===n?function(t,e){return 3===t.type||4===t.type?Rs(Ca,t,e):0===t.type?Ls(Wa,Ca,t,e):null}(e,t):-2===n?function(t,e,n){return n===Ca?Rs(Ca,e,t):n===Wa?Ls(Wa,Ca,e,t):n===Xa?Fs(Xa,Ca,e,t):void 0}(t,e,r):Xn(t,t[1],n,e)}function ku(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const r=t.data,s=n.matches,o=[];for(let t=0;t<s.length;t+=2){const i=s[t];o.push(i<0?null:xu(e,r[i],s[t+1],n.metadata.read))}i.matches=o}return i.matches}function Au(t){const e=$e(),n=Ge(),r=on();an(r+1);const i=Du(n,r);if(t.dirty&&je(e)===i.metadata.isStatic){if(null===i.matches)t.reset([]);else{const s=i.crossesNgTemplate?function t(e,n,r,i){const s=e.queries.getByIndex(r),o=s.matches;if(null!==o){const a=ku(e,n,s,r);for(let e=0;e<o.length;e+=2){const r=o[e];if(r>0)i.push(a[e/2]);else{const s=o[e+1],a=n[-r];for(let e=10;e<a.length;e++){const n=a[e];n[17]===n[3]&&t(n[1],n,s,i)}if(null!==a[9]){const e=a[9];for(let n=0;n<e.length;n++){const r=e[n];t(r[1],r,s,i)}}}}}return i}(n,e,r,[]):ku(n,e,i,r);t.reset(s),t.notifyOnChanges()}return!0}return!1}function Ou(t,e,n,r){!function(t,e,n,r,i,s,o,a){t.firstCreatePass&&(function(t,e,n){null===t.queries&&(t.queries=new Tu),t.queries.track(new Cu(e,n))}(t,new Eu(n,r,!1,i),o.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(t.contentQueries.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(t,a)),function(t,e){const n=new wu;!function(t,e,n,r){const i=ns(e);i.push(n),t.firstCreatePass&&rs(t).push(r,i.length-1)}(t,e,n,n.destroy),null===e[19]&&(e[19]=new Su),e[19].queries.push(new _u(n))}(t,e)}(Ge(),$e(),e,n,r,0,Ke(),t)}function Nu(){return t=$e(),e=on(),t[19].queries[e].queryList;var t,e}function Du(t,e){return t.queries.getByIndex(e)}function Pu(t,e){return Ls(Wa,Ca,t,e)}const Ru=new Mt("Application Initializer");let Lu=(()=>{class t{constructor(t){this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();Ao(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(Kt(Ru,8))},t.\u0275prov=lt({token:t,factory:t.\u0275fac}),t})();const Fu=new Mt("AppId"),Mu={provide:Fu,useFactory:function(){return`${ju()}${ju()}${ju()}`},deps:[]};function ju(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const zu=new Mt("Platform Initializer"),Uu=new Mt("Platform ID"),Vu=new Mt("appBootstrapListener");let qu=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=lt({token:t,factory:t.\u0275fac}),t})();const Bu=new Mt("LocaleId"),Hu=new Mt("DefaultCurrencyCode");class $u{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const Gu=function(t){return new pu(t)},Ku=Gu,Qu=function(t){return Promise.resolve(Gu(t))},Wu=function(t){const e=Gu(t),n=jn(we(t).declarations).reduce((t,e)=>{const n=ve(e);return n&&t.push(new ru(n)),t},[]);return new $u(e,n)},Yu=Wu,Xu=function(t){return Promise.resolve(Wu(t))};let Ju=(()=>{class t{constructor(){this.compileModuleSync=Ku,this.compileModuleAsync=Qu,this.compileModuleAndAllComponentsSync=Yu,this.compileModuleAndAllComponentsAsync=Xu}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=lt({token:t,factory:t.\u0275fac}),t})();const Zu=new Mt("compilerOptions"),tc=(()=>Promise.resolve(0))();function ec(t){"undefined"==typeof Zone?tc.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class nc{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new vu(!1),this.onMicrotaskEmpty=new vu(!1),this.onStable=new vu(!1),this.onError=new vu(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),this.shouldCoalesceEventChangeDetection=e,this.lastRequestAnimationFrameId=-1,this.nativeRequestAnimationFrame=function(){let t=At.requestAnimationFrame,e=At.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=!!t.shouldCoalesceEventChangeDetection&&t.nativeRequestAnimationFrame&&(()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(At,()=>{t.lastRequestAnimationFrameId=-1,oc(t),sc(t)}),oc(t))}(t)});t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:e},onInvokeTask:(n,r,i,s,o,a)=>{try{return ac(t),n.invokeTask(i,s,o,a)}finally{e&&"eventTask"===s.type&&e(),uc(t)}},onInvoke:(e,n,r,i,s,o,a)=>{try{return ac(t),e.invoke(r,i,s,o,a)}finally{uc(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,oc(t),sc(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(this)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!nc.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(nc.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+r,t,ic,rc,rc);try{return i.runTask(s,e,n)}finally{i.cancelTask(s)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}function rc(){}const ic={};function sc(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function oc(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||t.shouldCoalesceEventChangeDetection&&-1!==t.lastRequestAnimationFrameId)}function ac(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function uc(t){t._nesting--,sc(t)}class cc{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new vu,this.onMicrotaskEmpty=new vu,this.onStable=new vu,this.onError=new vu}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let lc=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{nc.assertNotInAngularZone(),ec(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())ec(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(Kt(nc))},t.\u0275prov=lt({token:t,factory:t.\u0275fac}),t})(),hc=(()=>{class t{constructor(){this._applications=new Map,pc.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return pc.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=lt({token:t,factory:t.\u0275fac}),t})();class fc{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}let dc,pc=new fc,gc=function(t,e,n){const r=t.get(Zu,[]).concat(e),i=new pu(n);if(0===to.size)return Promise.resolve(i);const s=function(t){const e=[];return t.forEach(t=>t&&e.push(...t)),e}(r.map(t=>t.providers));if(0===s.length)return Promise.resolve(i);const o=function(){const t=At.ng;if(!t||!t.\u0275compilerFacade)throw new Error("Angular JIT compilation failed: '@angular/compiler' not loaded!\n  - JIT compilation is discouraged for production use-cases! Consider AOT mode instead.\n  - Did you bootstrap using '@angular/platform-browser-dynamic' or '@angular/platform-server'?\n  - Alternatively provide the compiler with 'import \"@angular/compiler\";' before bootstrapping.");return t.\u0275compilerFacade}(),a=Js.create({providers:s}).get(o.ResourceLoader);return function(t){const e=[],n=new Map;function r(t){let e=n.get(t);if(!e){const r=(t=>Promise.resolve(a.get(t)))(t);n.set(t,e=r.then(no))}return e}return to.forEach((t,n)=>{const i=[];t.templateUrl&&i.push(r(t.templateUrl).then(e=>{t.template=e}));const s=t.styleUrls,o=t.styles||(t.styles=[]),a=t.styles.length;s&&s.forEach((e,n)=>{o.push(""),i.push(r(e).then(r=>{o[a+n]=r,s.splice(s.indexOf(e),1),0==s.length&&(t.styleUrls=void 0)}))});const u=Promise.all(i).then(()=>function(t){eo.delete(t)}(n));e.push(u)}),to=new Map,Promise.all(e).then(()=>{})}().then(()=>i)};const mc=new Mt("AllowMultipleToken");class yc{constructor(t,e){this.name=t,this.token=e}}function vc(t,e,n=[]){const r="Platform: "+e,i=new Mt(r);return(e=[])=>{let s=bc();if(!s||s.injector.get(mc,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:zs,useValue:"platform"});!function(t){if(dc&&!dc.destroyed&&!dc.injector.get(mc,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");dc=t.get(wc);const e=t.get(zu,null);e&&e.forEach(t=>t())}(Js.create({providers:t,name:r}))}return function(t){const e=bc();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function bc(){return dc&&!dc.destroyed?dc:null}let wc=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new cc:("zone.js"===t?void 0:t)||new nc({enableLongStackTrace:mr(),shouldCoalesceEventChangeDetection:e}),n}(e?e.ngZone:void 0,e&&e.ngZoneEventCoalescing||!1),r=[{provide:nc,useValue:n}];return n.run(()=>{const e=Js.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),s=i.injector.get(ir,null);if(!s)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return i.onDestroy(()=>Ec(this._modules,i)),n.runOutsideAngular(()=>n.onError.subscribe({next:t=>{s.handleError(t)}})),function(t,e,n){try{const r=n();return Ao(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(s,n,()=>{const t=i.injector.get(Lu);return t.runInitializers(),t.donePromise.then(()=>(hu(i.injector.get(Bu,"en-US")||"en-US"),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=_c({},e);return gc(this.injector,n,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(Sc);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${wt(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(Kt(Js))},t.\u0275prov=lt({token:t,factory:t.\u0275fac}),t})();function _c(t,e){return Array.isArray(e)?e.reduce(_c,t):Object.assign(Object.assign({},t),e)}let Sc=(()=>{class t{constructor(t,e,n,r,i,s){this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=s,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=mr(),this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const o=new w(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),a=new w(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{nc.assertNotInAngularZone(),ec(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{nc.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=function(...t){let e=Number.POSITIVE_INFINITY,n=null,r=t[t.length-1];return x(r)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof r&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof w?t[0]:$(e)(G(t,n))}(o,a.pipe(tt()))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof Sa?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(Xt),i=n.create(Js.NULL,[],e||n.selector,r);i.onDestroy(()=>{this._unloadComponent(i)});const s=i.injector.get(lc,null);return s&&i.injector.get(hc).registerApplication(i.location.nativeElement,s),this._loadComponent(i),mr()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges();if(this._enforceNoNewChanges)for(let t of this._views)t.checkNoChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;Ec(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Vu,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}_unloadComponent(t){this.detachView(t.hostView),Ec(this.components,t)}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy())}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(Kt(nc),Kt(qu),Kt(Js),Kt(ir),Kt(Ta),Kt(Lu))},t.\u0275prov=lt({token:t,factory:t.\u0275fac}),t})();function Ec(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Tc{}class Cc{}const Ic={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let xc=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||Ic}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n("zn8P")(e).then(t=>t[r]).then(t=>kc(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>kc(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(Kt(Ju),Kt(Cc,8))},t.\u0275prov=lt({token:t,factory:t.\u0275fac}),t})();function kc(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const Ac=vc(null,"core",[{provide:Uu,useValue:"unknown"},{provide:wc,deps:[Js]},{provide:hc,deps:[]},{provide:qu,deps:[]}]),Oc=[{provide:Sc,useClass:Sc,deps:[nc,qu,Js,ir,Ta,Lu]},{provide:nu,deps:[nc],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:Lu,useClass:Lu,deps:[[new it,Ru]]},{provide:Ju,useClass:Ju,deps:[]},Mu,{provide:Ha,useFactory:function(){return Ka},deps:[]},{provide:$a,useFactory:function(){return Qa},deps:[]},{provide:Bu,useFactory:function(t){return hu(t=t||"undefined"!=typeof $localize&&$localize.locale||"en-US"),t},deps:[[new rt(Bu),new it,new ot]]},{provide:Hu,useValue:"USD"}];let Nc=(()=>{class t{constructor(t){}}return t.\u0275mod=ge({type:t}),t.\u0275inj=ht({factory:function(e){return new(e||t)(Kt(Sc))},providers:Oc}),t})();const Dc={apiKey:"AIzaSyD8gJjQ-J84Q3An5lh_yBFrCaiXW9-ru7U",authDomain:"personal-resume-36dbe.firebaseapp.com",projectId:"personal-resume-36dbe",storageBucket:"personal-resume-36dbe.appspot.com",messagingSenderId:"179325379274",appId:"1:179325379274:web:3b587e29bbfee5c150ca33"};let Pc=null;function Rc(){return Pc}const Lc=new Mt("DocumentToken");let Fc=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=lt({factory:Mc,token:t,providedIn:"platform"}),t})();function Mc(){return Kt(zc)}const jc=new Mt("Location Initialized");let zc=(()=>{class t extends Fc{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=Rc().getLocation(),this._history=Rc().getHistory()}getBaseHrefFromDOM(){return Rc().getBaseHref(this._doc)}onPopState(t){Rc().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){Rc().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){Uc()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){Uc()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(Kt(Lc))},t.\u0275prov=lt({factory:Vc,token:t,providedIn:"platform"}),t})();function Uc(){return!!window.history.pushState}function Vc(){return new zc(Kt(Lc))}function qc(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function Bc(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function Hc(t){return t&&"?"!==t[0]?"?"+t:t}let $c=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=lt({factory:Gc,token:t,providedIn:"root"}),t})();function Gc(t){const e=Kt(Lc).location;return new Qc(Kt(Fc),e&&e.origin||"")}const Kc=new Mt("appBaseHref");let Qc=(()=>{class t extends $c{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return qc(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+Hc(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+Hc(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+Hc(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(Kt(Fc),Kt(Kc,8))},t.\u0275prov=lt({token:t,factory:t.\u0275fac}),t})(),Wc=(()=>{class t extends $c{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=qc(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+Hc(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+Hc(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(Kt(Fc),Kt(Kc,8))},t.\u0275prov=lt({token:t,factory:t.\u0275fac}),t})(),Yc=(()=>{class t{constructor(t,e){this._subject=new vu,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=Bc(Jc(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+Hc(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,Jc(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Hc(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Hc(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)})}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(Kt($c),Kt(Fc))},t.normalizeQueryParams=Hc,t.joinWithSlash=qc,t.stripTrailingSlash=Bc,t.\u0275prov=lt({factory:Xc,token:t,providedIn:"root"}),t})();function Xc(){return new Yc(Kt($c),Kt(Fc))}function Jc(t){return t.replace(/\/index.html$/,"")}const Zc=function(){var t={Zero:0,One:1,Two:2,Few:3,Many:4,Other:5};return t[t.Zero]="Zero",t[t.One]="One",t[t.Two]="Two",t[t.Few]="Few",t[t.Many]="Many",t[t.Other]="Other",t}();class tl{}let el=(()=>{class t extends tl{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(function(t){return function(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=uu(e);if(n)return n;const r=e.split("-")[0];if(n=uu(r),n)return n;if("en"===r)return ou;throw new Error(`Missing locale data for the locale "${t}".`)}(t)[cu.PluralCase]}(e||this.locale)(t)){case Zc.Zero:return"zero";case Zc.One:return"one";case Zc.Two:return"two";case Zc.Few:return"few";case Zc.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(Kt(Bu))},t.\u0275prov=lt({token:t,factory:t.\u0275fac}),t})();function nl(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}let rl=(()=>{class t{constructor(t,e,n,r){this._iterableDiffers=t,this._keyValueDiffers=e,this._ngEl=n,this._renderer=r,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(uo(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachChangedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachRemovedItem(t=>{t.previousValue&&this._toggleClass(t.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(t=>{if("string"!=typeof t.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got "+wt(t.item));this._toggleClass(t.item,!0)}),t.forEachRemovedItem(t=>this._toggleClass(t.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!0)):Object.keys(t).forEach(e=>this._toggleClass(e,!!t[e])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!1)):Object.keys(t).forEach(t=>this._toggleClass(t,!1)))}_toggleClass(t,e){(t=t.trim())&&t.split(/\s+/g).forEach(t=>{e?this._renderer.addClass(this._ngEl.nativeElement,t):this._renderer.removeClass(this._ngEl.nativeElement,t)})}}return t.\u0275fac=function(e){return new(e||t)(bo(Ha),bo($a),bo(Ca),bo(Aa))},t.\u0275dir=ye({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),t})();class il{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let sl=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){mr()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn(`trackBy must be a function, but received ${JSON.stringify(t)}. See https://angular.io/api/common/NgForOf#change-propagation for more information.`),this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new il(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new ol(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const s=new ol(t,i);e.push(s)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(bo(Xa),bo(Wa),bo(Ha))},t.\u0275dir=ye({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class ol{constructor(t,e){this.record=t,this.view=e}}let al=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new ul,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){cl("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){cl("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(bo(Xa),bo(Wa))},t.\u0275dir=ye({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class ul{constructor(){this.$implicit=null,this.ngIf=null}}function cl(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${wt(e)}'.`)}let ll=(()=>{class t{constructor(t,e,n){this._ngEl=t,this._differs=e,this._renderer=n,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,e){const[n,r]=t.split(".");null!=(e=null!=e&&r?`${e}${r}`:e)?this._renderer.setStyle(this._ngEl.nativeElement,n,e):this._renderer.removeStyle(this._ngEl.nativeElement,n)}_applyChanges(t){t.forEachRemovedItem(t=>this._setStyle(t.key,null)),t.forEachAddedItem(t=>this._setStyle(t.key,t.currentValue)),t.forEachChangedItem(t=>this._setStyle(t.key,t.currentValue))}}return t.\u0275fac=function(e){return new(e||t)(bo(Ca),bo($a),bo(Aa))},t.\u0275dir=ye({type:t,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),t})(),hl=(()=>{class t{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(t){if(this._shouldRecreateView(t)){const t=this._viewContainerRef;this._viewRef&&t.remove(t.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?t.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&this.ngTemplateOutletContext&&this._updateExistingContext(this.ngTemplateOutletContext)}_shouldRecreateView(t){const e=t.ngTemplateOutletContext;return!!t.ngTemplateOutlet||e&&this._hasContextShapeChanged(e)}_hasContextShapeChanged(t){const e=Object.keys(t.previousValue||{}),n=Object.keys(t.currentValue||{});if(e.length===n.length){for(let t of n)if(-1===e.indexOf(t))return!0;return!1}return!0}_updateExistingContext(t){for(let e of Object.keys(t))this._viewRef.context[e]=this.ngTemplateOutletContext[e]}}return t.\u0275fac=function(e){return new(e||t)(bo(Xa))},t.\u0275dir=ye({type:t,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[ba]}),t})(),fl=(()=>{class t{}return t.\u0275mod=ge({type:t}),t.\u0275inj=ht({factory:function(e){return new(e||t)},providers:[{provide:tl,useClass:el}]}),t})();function dl(t){return"browser"===t}function pl(t){return"server"===t}let gl=(()=>{class t{}return t.\u0275prov=lt({token:t,providedIn:"root",factory:()=>new ml(Kt(Lc),window,Kt(ir))}),t})();class ml{constructor(t,e,n){this.document=t,this.window=e,this.errorHandler=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportScrollRestoration()?[this.window.scrollX,this.window.scrollY]:[0,0]}scrollToPosition(t){this.supportScrollRestoration()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(this.supportScrollRestoration()){t=this.window.CSS&&this.window.CSS.escape?this.window.CSS.escape(t):t.replace(/(\"|\'\ |:|\.|\[|\]|,|=)/g,"\\$1");try{const e=this.document.querySelector("#"+t);if(e)return void this.scrollToElement(e);const n=this.document.querySelector(`[name='${t}']`);if(n)return void this.scrollToElement(n)}catch(e){this.errorHandler.handleError(e)}}}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}supportScrollRestoration(){try{return!!this.window&&!!this.window.scrollTo}catch(t){return!1}}}class yl extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var t;t=new yl,Pc||(Pc=t)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=bl||(bl=document.querySelector("base"),bl)?bl.getAttribute("href"):null;return null==e?null:(n=e,vl||(vl=document.createElement("a")),vl.setAttribute("href",n),"/"===vl.pathname.charAt(0)?vl.pathname:"/"+vl.pathname);var n}resetBaseElement(){bl=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return nl(document.cookie,t)}}let vl,bl=null;const wl=new Mt("TRANSITION_ID"),_l=[{provide:Ru,useFactory:function(t,e,n){return()=>{n.get(Lu).donePromise.then(()=>{const n=Rc();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[wl,Lc,Js],multi:!0}];class Sl{static init(){var t;t=new Sl,pc=t}addToWindow(t){At.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},At.getAllAngularTestabilities=()=>t.getAllTestabilities(),At.getAllAngularRootElements=()=>t.getAllRootElements(),At.frameworkStabilizers||(At.frameworkStabilizers=[]),At.frameworkStabilizers.push(t=>{const e=At.getAllAngularTestabilities();let n=e.length,r=!1;const i=function(e){r=r||e,n--,0==n&&t(r)};e.forEach((function(t){t.whenStable(i)}))})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?Rc().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const El=new Mt("EventManagerPlugins");let Tl=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error("No event manager plugin found for event "+t)}}return t.\u0275fac=function(e){return new(e||t)(Kt(El),Kt(nc))},t.\u0275prov=lt({token:t,factory:t.\u0275fac}),t})();class Cl{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=Rc().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let Il=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=lt({token:t,factory:t.\u0275fac}),t})(),xl=(()=>{class t extends Il{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>Rc().remove(t))}}return t.\u0275fac=function(e){return new(e||t)(Kt(Lc))},t.\u0275prov=lt({token:t,factory:t.\u0275fac}),t})();const kl={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Al=/%COMP%/g;function Ol(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?Ol(t,i,n):(i=i.replace(Al,t),n.push(i))}return n}function Nl(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let Dl=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new Pl(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case ae.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new Rl(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case ae.Native:case ae.ShadowDom:return new Ll(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=Ol(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(Kt(Tl),Kt(xl),Kt(Fu))},t.\u0275prov=lt({token:t,factory:t.\u0275fac}),t})();class Pl{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(kl[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=kl[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=kl[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,r){r&ka.DashCase?t.style.setProperty(e,n,r&ka.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&ka.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Nl(n)):this.eventManager.addEventListener(t,e,Nl(n))}}class Rl extends Pl{constructor(t,e,n,r){super(t),this.component=n;const i=Ol(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(Al,r+"-"+n.id),this.hostAttr=function(t){return"_nghost-%COMP%".replace(Al,t)}(r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class Ll extends Pl{constructor(t,e,n,r){super(t),this.sharedStylesHost=e,this.hostEl=n,this.component=r,this.shadowRoot=r.encapsulation===ae.ShadowDom?n.attachShadow({mode:"open"}):n.createShadowRoot(),this.sharedStylesHost.addHost(this.shadowRoot);const i=Ol(r.id,r.styles,[]);for(let s=0;s<i.length;s++){const t=document.createElement("style");t.textContent=i[s],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let Fl=(()=>{class t extends Cl{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(Kt(Lc))},t.\u0275prov=lt({token:t,factory:t.\u0275fac}),t})();const Ml=["alt","control","meta","shift"],jl={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},zl={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Ul={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let Vl=(()=>{class t extends Cl{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const i=t.parseEventName(n),s=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Rc().onAndCancel(e,i.domEventName,s))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let s="";if(Ml.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),s+=t+".")}),s+=i,0!=n.length||0===i.length)return null;const o={};return o.domEventName=r,o.fullKey=s,o}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&zl.hasOwnProperty(e)&&(e=zl[e]))}return jl[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),Ml.forEach(r=>{r!=n&&(0,Ul[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(Kt(Lc))},t.\u0275prov=lt({token:t,factory:t.\u0275fac}),t})(),ql=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=lt({factory:function(){return Kt(Bl)},token:t,providedIn:"root"}),t})(),Bl=(()=>{class t extends ql{constructor(t){super(),this._doc=t}sanitize(t,e){if(null==e)return null;switch(t){case jr.NONE:return e;case jr.HTML:return fr(e,"HTML")?hr(e):function(t,e){let n=null;try{Fr=Fr||new yr(t);let r=e?String(e):"";n=Fr.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=Fr.getInertBodyElement(r)}while(r!==s);const o=new Dr,a=o.sanitizeChildren(Mr(n)||n);return mr()&&o.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),a}finally{if(n){const t=Mr(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}(this._doc,String(e));case jr.STYLE:return fr(e,"Style")?hr(e):Vr(e);case jr.SCRIPT:if(fr(e,"Script"))return hr(e);throw new Error("unsafe value used in a script context");case jr.URL:return dr(e),fr(e,"URL")?hr(e):wr(String(e));case jr.RESOURCE_URL:if(fr(e,"ResourceURL"))return hr(e);throw new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see http://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return new or(t)}bypassSecurityTrustStyle(t){return new ar(t)}bypassSecurityTrustScript(t){return new ur(t)}bypassSecurityTrustUrl(t){return new cr(t)}bypassSecurityTrustResourceUrl(t){return new lr(t)}}return t.\u0275fac=function(e){return new(e||t)(Kt(Lc))},t.\u0275prov=lt({factory:function(){return t=Kt(jt),new Bl(t.get(Lc));var t},token:t,providedIn:"root"}),t})();const Hl=vc(Ac,"browser",[{provide:Uu,useValue:"browser"},{provide:zu,useValue:function(){yl.makeCurrent(),Sl.init()},multi:!0},{provide:Lc,useFactory:function(){return function(t){ke=t}(document),document},deps:[]}]),$l=[[],{provide:zs,useValue:"root"},{provide:ir,useFactory:function(){return new ir},deps:[]},{provide:El,useClass:Fl,multi:!0,deps:[Lc,nc,Uu]},{provide:El,useClass:Vl,multi:!0,deps:[Lc]},[],{provide:Dl,useClass:Dl,deps:[Tl,xl,Fu]},{provide:xa,useExisting:Dl},{provide:Il,useExisting:xl},{provide:xl,useClass:xl,deps:[Lc]},{provide:lc,useClass:lc,deps:[nc]},{provide:Tl,useClass:Tl,deps:[El,nc]},[]];let Gl=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:Fu,useValue:e.appId},{provide:wl,useExisting:Fu},_l]}}}return t.\u0275mod=ge({type:t}),t.\u0275inj=ht({factory:function(e){return new(e||t)(Kt(t,12))},providers:$l,imports:[fl,Nc]}),t})();"undefined"!=typeof window&&window;class Kl extends h{constructor(t,e){super()}schedule(t,e=0){return this}}class Ql extends Kl{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n=!1,r=void 0;try{this.work(t)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}class Wl extends Ql{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}let Yl=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class Xl extends Yl{constructor(t,e=Yl.now){super(t,()=>Xl.delegate&&Xl.delegate!==this?Xl.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return Xl.delegate&&Xl.delegate!==this?Xl.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}class Jl extends Xl{}const Zl=new Jl(Wl),th=new w(t=>t.complete());function eh(t){return t?function(t){return new w(e=>t.schedule(()=>e.complete()))}(t):th}function nh(...t){let e=t[t.length-1];return x(e)?(t.pop(),U(t,e)):G(t)}function rh(t,e){return new w(e?n=>e.schedule(ih,0,{error:t,subscriber:n}):e=>e.error(t))}function ih({error:t,subscriber:e}){e.error(t)}let sh=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return nh(this.value);case"E":return rh(this.error);case"C":return eh()}throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})();function oh(t,e=0){return function(n){return n.lift(new ah(t,e))}}class ah{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new uh(t,this.scheduler,this.delay))}}class uh extends p{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(uh.dispatch,this.delay,new ch(t,this.destination)))}_next(t){this.scheduleMessage(sh.createNext(t))}_error(t){this.scheduleMessage(sh.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(sh.createComplete()),this.unsubscribe()}}class ch{constructor(t,e){this.notification=t,this.destination=e}}class lh extends C{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift(),super.next(t)}nextTimeWindow(t){this._events.push(new hh(this._getNow(),t)),this._trimBufferThenGetEvents(),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;let s;if(this.closed)throw new S;if(this.isStopped||this.hasError?s=h.EMPTY:(this.observers.push(t),s=new E(this,t)),r&&t.add(t=new uh(t,r)),e)for(let o=0;o<i&&!t.closed;o++)t.next(n[o]);else for(let o=0;o<i&&!t.closed;o++)t.next(n[o].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),s}_getNow(){return(this.scheduler||Zl).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length;let s=0;for(;s<i&&!(t-r[s].time<n);)s++;return i>e&&(s=Math.max(s,i-e)),s>0&&r.splice(0,s),r}}class hh{constructor(t,e){this.time=t,this.value=e}}const fh={target:null,action:"click",duration:650,easing:"easeInOutQuad",offset:0,offsetMap:new Map},dh={easeInQuad:t=>t*t,easeOutQuad:t=>t*(2-t),easeInOutQuad:t=>t<.5?2*t*t:(4-2*t)*t-1,easeInCubic:t=>t*t*t,easeOutCubic:t=>--t*t*t+1,easeInOutCubic:t=>t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1,easeInQuart:t=>t*t*t*t,easeOutQuart:t=>1- --t*t*t*t,easeInOutQuart:t=>t<.5?8*t*t*t*t:1-8*--t*t*t*t,easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>1+--t*t*t*t*t,easeInOutQuint:t=>t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t,easeOutElastic:t=>Math.pow(2,-10*t)*Math.sin((t-1/4)*(2*Math.PI)/1)+1},ph=["click","mouseenter","mouseover","mousedown","mouseup","dblclick","contextmenu","wheel","mouseleave","mouseout"];function gh(t){return t===window}class mh{constructor(t,e,n,r,i,s){this.container=t,this.listenerTarget=e,this.isWindow=n,this.to=r,this.options=i,this.isBrowser=s,this.loop=()=>{this.timeLapsed+=this.tick,this.percentage=this.timeLapsed/this.options.duration,this.percentage=this.percentage>1?1:this.percentage,this.position=this.startPosition+(this.startPosition-this.to<=0?1:-1)*this.distance*dh[this.options.easing](this.percentage),null!==this.lastPosition&&this.position===this.lastPosition?this.stop():(this.source$.next(this.position),this.isWindow?this.listenerTarget.scrollTo(0,Math.floor(this.position)):this.container.scrollTop=Math.floor(this.position),this.lastPosition=this.position)},this.tick=16,this.interval=null,this.lastPosition=null,this.timeLapsed=0,this.windowScrollTop=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,this.startPosition=this.container?this.isWindow?this.windowScrollTop:this.container.scrollTop:this.windowScrollTop,this.container&&!this.isWindow&&(this.to=this.to-this.container.getBoundingClientRect().top+this.startPosition);const o=this.startPosition-this.to;this.distance=this.container?Math.abs(this.startPosition-this.to):this.to,this.mappedOffset=this.options.offset,this.isBrowser&&this.options.offsetMap.forEach((t,e)=>this.mappedOffset=window.innerWidth>e?t:this.mappedOffset),this.distance+=this.mappedOffset*(o<=0?1:-1),this.source$=new lh}start(){return clearInterval(this.interval),this.interval=setInterval(this.loop,this.tick),this.source$.asObservable()}stop(){clearInterval(this.interval),this.interval=null,this.source$.complete()}}let yh=(()=>{let t=class{constructor(t,e){this.document=t,this.platformId=e,this.interruptiveEvents=["mousewheel","DOMMouseScroll","touchstart"]}scrollTo(t){return dl(this.platformId)?this.start(t):(new lh).asObservable()}start(t){const e=Object.assign(Object.assign({},fh),t);this.animation&&this.animation.stop();const n=this.getNode(e.target);if(e.target&&!n)return rh("Unable to find Target Element");const r=this.getContainer(e,n);if(e.container&&!r)return rh("Unable to find Container Element");const i=this.getListenerTarget(r)||window;let s=r?r.getBoundingClientRect().top:0;n&&(s=gh(i)?window.scrollY+n.getBoundingClientRect().top:n.getBoundingClientRect().top),this.animation=new mh(r,i,gh(i),s,e,dl(this.platformId));const o=()=>this.animation.stop();this.addInterruptiveEventListeners(i,o);const a=this.animation.start();return this.subscribeToAnimation(a,i,o),a}subscribeToAnimation(t,e,n){const r=t.subscribe(()=>{},()=>{},()=>{this.removeInterruptiveEventListeners(this.interruptiveEvents,e,n),r.unsubscribe()})}getContainer(t,e){let n=null;return t.container?n=this.getNode(t.container,!0):e&&(n=this.getFirstScrollableParent(e)),n}addInterruptiveEventListeners(t,e){t||(t=window),this.interruptiveEvents.forEach(n=>t.addEventListener(n,e,!!this.supportPassive()&&{passive:!0}))}supportPassive(){let t=!1;try{const e=Object.defineProperty({},"passive",{get:()=>{t=!0}});window.addEventListener("testPassive",null,e),window.removeEventListener("testPassive",null,e)}catch(e){}return t}removeInterruptiveEventListeners(t,e,n){e||(e=window),t.forEach(t=>e.removeEventListener(t,n))}getFirstScrollableParent(t){let e=window.getComputedStyle(t);const n=/(auto|scroll|overlay)/;if("fixed"===e.position)return null;let r=t;for(;r.parentElement;)if(r=r.parentElement,e=window.getComputedStyle(r),"absolute"!==e.position&&"hidden"!==e.overflow&&"hidden"!==e.overflowY&&(n.test(e.overflow+e.overflowY)||"BODY"===r.tagName))return r;return null}getNode(t,e=!1){let n;var r;return"string"==typeof(r=t)||r instanceof String?n=!e||"body"!==t&&"BODY"!==t?this.document.getElementById(function(t){return"#"===t.substring(0,1)?t.substring(1):t}(t)):this.document.body:function(t){return!isNaN(parseFloat(t))&&isFinite(t)}(t)?n=this.document.getElementById(String(t)):function(t){return t instanceof Ca}(t)?n=t.nativeElement:function(t){return t instanceof HTMLElement}(t)&&(n=t),n}getListenerTarget(t){return t?this.isDocumentBody(t)?window:t:null}isDocumentBody(t){return"BODY"===t.tagName.toUpperCase()}};return t.\u0275fac=function(e){return new(e||t)(Kt(Lc),Kt(Uu))},t.\u0275prov=lt({token:t,factory:t.\u0275fac}),t})(),vh=(()=>{let t=class{constructor(t,e,n){this.elementRef=t,this.scrollToService=e,this.renderer2=n,this.ngxScrollTo=fh.target,this.ngxScrollToEvent=fh.action,this.ngxScrollToDuration=fh.duration,this.ngxScrollToEasing=fh.easing,this.ngxScrollToOffset=fh.offset,this.ngxScrollToOffsetMap=fh.offsetMap}ngAfterViewInit(){if(-1===ph.indexOf(this.ngxScrollToEvent))throw new Error(`Unsupported Event '${this.ngxScrollToEvent}'`);this.renderer2.listen(this.elementRef.nativeElement,this.ngxScrollToEvent,t=>{this.options={target:this.ngxScrollTo,duration:this.ngxScrollToDuration,easing:this.ngxScrollToEasing,offset:this.ngxScrollToOffset,offsetMap:this.ngxScrollToOffsetMap},this.scrollToService.scrollTo(this.options)})}};return t.\u0275fac=function(e){return new(e||t)(bo(Ca),bo(yh),bo(Aa))},t.\u0275dir=ye({type:t,selectors:[["","ngxScrollTo",""]],inputs:{ngxScrollTo:"ngxScrollTo",ngxScrollToEvent:"ngxScrollToEvent",ngxScrollToDuration:"ngxScrollToDuration",ngxScrollToEasing:"ngxScrollToEasing",ngxScrollToOffset:"ngxScrollToOffset",ngxScrollToOffsetMap:"ngxScrollToOffsetMap"}}),t})();var bh;let wh=(()=>{let t=bh=class{static forRoot(){return{ngModule:bh,providers:[yh]}}};return t.\u0275mod=ge({type:t}),t.\u0275inj=ht({factory:function(e){return new(e||t)}}),t})();class _h extends C{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new S;return this._value}next(t){super.next(this._value=t)}}const Sh=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})(),Eh={};class Th{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new Ch(t,this.resultSelector))}}class Ch extends F{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(Eh),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++){const e=t[n];this.add(L(this,e,e,n))}}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n,r,i){const s=this.values,o=this.toRespond?s[n]===Eh?--this.toRespond:this.toRespond:0;s[n]=e,0===o&&(this.resultSelector?this._tryResultSelector(s):this.destination.next(s.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}function Ih(t){return new w(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?V(n):eh()).subscribe(e)})}function xh(){return $(1)}function kh(t,e){return function(n){return n.lift(new Ah(t,e))}}class Ah{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new Oh(t,this.predicate,this.thisArg))}}class Oh extends p{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}const Nh=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();function Dh(t){return function(e){return 0===t?eh():e.lift(new Ph(t))}}class Ph{constructor(t){if(this.total=t,this.total<0)throw new Nh}call(t,e){return e.subscribe(new Rh(t,this.total))}}class Rh extends p{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}function Lh(t=jh){return e=>e.lift(new Fh(t))}class Fh{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new Mh(t,this.errorFactory))}}class Mh extends p{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}}function jh(){return new Sh}function zh(t=null){return e=>e.lift(new Uh(t))}class Uh{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new Vh(t,this.defaultValue))}}class Vh extends p{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function qh(t,e){const n=arguments.length>=2;return r=>r.pipe(t?kh((e,n)=>t(e,n,r)):y,Dh(1),n?zh(e):Lh(()=>new Sh))}function Bh(t){return function(e){const n=new Hh(t),r=e.lift(n);return n.caught=r}}class Hh{constructor(t){this.selector=t}call(t,e){return e.subscribe(new $h(t,this.selector,this.caught))}}class $h extends F{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new k(this,void 0,void 0);this.add(r);const i=L(this,n,void 0,void 0,r);i!==r&&this.add(i)}}}function Gh(t){return e=>0===t?eh():e.lift(new Kh(t))}class Kh{constructor(t){if(this.total=t,this.total<0)throw new Nh}call(t,e){return e.subscribe(new Qh(t,this.total))}}class Qh extends p{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function Wh(t,e){const n=arguments.length>=2;return r=>r.pipe(t?kh((e,n)=>t(e,n,r)):y,Gh(1),n?zh(e):Lh(()=>new Sh))}class Yh{constructor(t,e,n){this.predicate=t,this.thisArg=e,this.source=n}call(t,e){return e.subscribe(new Xh(t,this.predicate,this.thisArg,this.source))}}class Xh extends p{constructor(t,e,n,r){super(t),this.predicate=e,this.thisArg=n,this.source=r,this.index=0,this.thisArg=n||this}notifyComplete(t){this.destination.next(t),this.destination.complete()}_next(t){let e=!1;try{e=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(n){return void this.destination.error(n)}e||this.notifyComplete(!1)}_complete(){this.notifyComplete(!0)}}function Jh(t,e){return"function"==typeof e?n=>n.pipe(Jh((n,r)=>V(t(n,r)).pipe(M((t,i)=>e(n,t,r,i))))):e=>e.lift(new Zh(t))}class Zh{constructor(t){this.project=t}call(t,e){return e.subscribe(new tf(t,this.project))}}class tf extends F{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e,t,n)}_innerSub(t,e,n){const r=this.innerSubscription;r&&r.unsubscribe();const i=new k(this,e,n),s=this.destination;s.add(i),this.innerSubscription=L(this,t,void 0,void 0,i),this.innerSubscription!==i&&s.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=null}notifyComplete(t){this.destination.remove(t),this.innerSubscription=null,this.isStopped&&super._complete()}notifyNext(t,e,n,r,i){this.destination.next(e)}}function ef(...t){return xh()(nh(...t))}function nf(...t){const e=t[t.length-1];return x(e)?(t.pop(),n=>ef(t,n,e)):e=>ef(t,e)}function rf(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new sf(t,e,n))}}class sf{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new of(t,this.accumulator,this.seed,this.hasSeed))}}class of extends p{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function af(t,e){return q(t,e,1)}function uf(){}function cf(t,e,n){return function(r){return r.lift(new lf(t,e,n))}}class lf{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new hf(t,this.nextOrObserver,this.error,this.complete))}}class hf extends p{constructor(t,e,n,i){super(t),this._tapNext=uf,this._tapError=uf,this._tapComplete=uf,this._tapError=n||uf,this._tapComplete=i||uf,r(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||uf,this._tapError=e.error||uf,this._tapComplete=e.complete||uf)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}function ff(t){return e=>e.lift(new df(t))}class df{constructor(t){this.callback=t}call(t,e){return e.subscribe(new pf(t,this.callback))}}class pf extends p{constructor(t,e){super(t),this.add(new h(e))}}class gf{constructor(t,e){this.id=t,this.url=e}}class mf extends gf{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class yf extends gf{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class vf extends gf{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class bf extends gf{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class wf extends gf{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class _f extends gf{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Sf extends gf{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Ef extends gf{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Tf extends gf{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Cf{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class If{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class xf{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class kf{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Af{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Of{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Nf{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let Df=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=he({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&Io(0,"router-outlet")},directives:function(){return[Mp]},encapsulation:2}),t})();class Pf{constructor(t){this.params=t||{}}has(t){return this.params.hasOwnProperty(t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Rf(t){return new Pf(t)}function Lf(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function Ff(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const e=r[s],n=t[s];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}class Mf{constructor(t,e){this.routes=t,this.module=e}}function jf(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];zf(r,Uf(e,r))}}function zf(t,e){if(!t)throw new Error(`\n      Invalid configuration of route '${e}': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    `);if(Array.isArray(t))throw new Error(`Invalid configuration of route '${e}': Array cannot be specified`);if(!t.component&&!t.children&&!t.loadChildren&&t.outlet&&"primary"!==t.outlet)throw new Error(`Invalid configuration of route '${e}': a componentless route without children or loadChildren cannot have a named outlet set`);if(t.redirectTo&&t.children)throw new Error(`Invalid configuration of route '${e}': redirectTo and children cannot be used together`);if(t.redirectTo&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': redirectTo and loadChildren cannot be used together`);if(t.children&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': children and loadChildren cannot be used together`);if(t.redirectTo&&t.component)throw new Error(`Invalid configuration of route '${e}': redirectTo and component cannot be used together`);if(t.path&&t.matcher)throw new Error(`Invalid configuration of route '${e}': path and matcher cannot be used together`);if(void 0===t.redirectTo&&!t.component&&!t.children&&!t.loadChildren)throw new Error(`Invalid configuration of route '${e}'. One of the following must be provided: component, redirectTo, children or loadChildren`);if(void 0===t.path&&void 0===t.matcher)throw new Error(`Invalid configuration of route '${e}': routes must have either a path or a matcher specified`);if("string"==typeof t.path&&"/"===t.path.charAt(0))throw new Error(`Invalid configuration of route '${e}': path cannot start with a slash`);if(""===t.path&&void 0!==t.redirectTo&&void 0===t.pathMatch)throw new Error(`Invalid configuration of route '{path: "${e}", redirectTo: "${t.redirectTo}"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.`);if(void 0!==t.pathMatch&&"full"!==t.pathMatch&&"prefix"!==t.pathMatch)throw new Error(`Invalid configuration of route '${e}': pathMatch can only be set to 'prefix' or 'full'`);t.children&&jf(t.children,e)}function Uf(t,e){return e?t||e.path?t&&!e.path?t+"/":!t&&e.path?e.path:`${t}/${e.path}`:"":t}function Vf(t){const e=t.children&&t.children.map(Vf),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&"primary"!==n.outlet&&(n.component=Df),n}function qf(t,e){const n=Object.keys(t),r=Object.keys(e);if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!Bf(t[i],e[i]))return!1;return!0}function Bf(t,e){return Array.isArray(t)&&Array.isArray(e)?t.length==e.length&&t.every(t=>e.indexOf(t)>-1):t===e}function Hf(t){return Array.prototype.concat.apply([],t)}function $f(t){return t.length>0?t[t.length-1]:null}function Gf(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function Kf(t){return(e=t)&&"function"==typeof e.subscribe?t:Ao(t)?V(Promise.resolve(t)):nh(t);var e}function Qf(t,e,n){return n?function(t,e){return qf(t,e)}(t.queryParams,e.queryParams)&&function t(e,n){if(!Jf(e.segments,n.segments))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(const r in n.children){if(!e.children[r])return!1;if(!t(e.children[r],n.children[r]))return!1}return!0}(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>Bf(t[n],e[n]))}(t.queryParams,e.queryParams)&&function t(e,n){return function e(n,r,i){if(n.segments.length>i.length)return!!Jf(n.segments.slice(0,i.length),i)&&!r.hasChildren();if(n.segments.length===i.length){if(!Jf(n.segments,i))return!1;for(const e in r.children){if(!n.children[e])return!1;if(!t(n.children[e],r.children[e]))return!1}return!0}{const t=i.slice(0,n.segments.length),s=i.slice(n.segments.length);return!!Jf(n.segments,t)&&!!n.children.primary&&e(n.children.primary,r,s)}}(e,n,n.segments)}(t.root,e.root)}class Wf{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Rf(this.queryParams)),this._queryParamMap}toString(){return nd.serialize(this)}}class Yf{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Gf(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return rd(this)}}class Xf{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Rf(this.parameters)),this._parameterMap}toString(){return cd(this)}}function Jf(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}function Zf(t,e){let n=[];return Gf(t.children,(t,r)=>{"primary"===r&&(n=n.concat(e(t,r)))}),Gf(t.children,(t,r)=>{"primary"!==r&&(n=n.concat(e(t,r)))}),n}class td{}class ed{parse(t){const e=new pd(t);return new Wf(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){return`${"/"+function t(e,n){if(!e.hasChildren())return rd(e);if(n){const n=e.children.primary?t(e.children.primary,!1):"",r=[];return Gf(e.children,(e,n)=>{"primary"!==n&&r.push(`${n}:${t(e,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=Zf(e,(n,r)=>"primary"===r?[t(e.children.primary,!1)]:[`${r}:${t(n,!1)}`]);return`${rd(e)}/(${n.join("//")})`}}(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${sd(e)}=${sd(t)}`).join("&"):`${sd(e)}=${sd(n)}`});return e.length?"?"+e.join("&"):""}(t.queryParams)}${"string"==typeof t.fragment?"#"+encodeURI(t.fragment):""}`}}const nd=new ed;function rd(t){return t.segments.map(t=>cd(t)).join("/")}function id(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function sd(t){return id(t).replace(/%3B/gi,";")}function od(t){return id(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ad(t){return decodeURIComponent(t)}function ud(t){return ad(t.replace(/\+/g,"%20"))}function cd(t){return`${od(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${od(t)}=${od(e[t])}`).join("")}`;var e}const ld=/^[^\/()?;=#]+/;function hd(t){const e=t.match(ld);return e?e[0]:""}const fd=/^[^=?&#]+/,dd=/^[^?&#]+/;class pd{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Yf([],{}):new Yf([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new Yf(t,e)),n}parseSegment(){const t=hd(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new Xf(ad(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=hd(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=hd(this.remaining);t&&(n=t,this.capture(n))}t[ad(e)]=ad(n)}parseQueryParam(t){const e=function(t){const e=t.match(fd);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(dd);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=ud(e),i=ud(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=hd(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i="primary");const s=this.parseChildren();e[i]=1===Object.keys(s).length?s.primary:new Yf([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class gd{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=md(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=md(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=yd(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return yd(t,this._root).map(t=>t.value)}}function md(t,e){if(t===e.value)return e;for(const n of e.children){const e=md(t,n);if(e)return e}return null}function yd(t,e){if(t===e.value)return[e];for(const n of e.children){const r=yd(t,n);if(r.length)return r.unshift(e),r}return[]}class vd{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function bd(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class wd extends gd{constructor(t,e){super(t),this.snapshot=e,Id(this,t)}toString(){return this.snapshot.toString()}}function _d(t,e){const n=function(t,e){const n=new Td([],{},{},"",{},"primary",e,null,t.root,-1,{});return new Cd("",new vd(n,[]))}(t,e),r=new _h([new Xf("",{})]),i=new _h({}),s=new _h({}),o=new _h({}),a=new _h(""),u=new Sd(r,i,o,a,s,"primary",e,n.root);return u.snapshot=n.root,new wd(new vd(u,[]),n)}class Sd{constructor(t,e,n,r,i,s,o,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(M(t=>Rf(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(M(t=>Rf(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Ed(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Td{constructor(t,e,n,r,i,s,o,a,u,c,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this.routeConfig=a,this._urlSegment=u,this._lastPathIndex=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Rf(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Rf(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Cd extends gd{constructor(t,e){super(e),this.url=t,Id(this,e)}toString(){return xd(this._root)}}function Id(t,e){e.value._routerState=t,e.children.forEach(e=>Id(t,e))}function xd(t){const e=t.children.length>0?` { ${t.children.map(xd).join(", ")} } `:"";return`${t.value}${e}`}function kd(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,qf(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),qf(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!qf(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),qf(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Ad(t,e){var n,r;return qf(t.params,e.params)&&Jf(n=t.url,r=e.url)&&n.every((t,e)=>qf(t.parameters,r[e].parameters))&&!(!t.parent!=!e.parent)&&(!t.parent||Ad(t.parent,e.parent))}function Od(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Nd(t,e,n,r,i){let s={};return r&&Gf(r,(t,e)=>{s[e]=Array.isArray(t)?t.map(t=>""+t):""+t}),new Wf(n.root===t?e:function t(e,n,r){const i={};return Gf(e.children,(e,s)=>{i[s]=e===n?r:t(e,n,r)}),new Yf(e.segments,i)}(n.root,t,e),s,i)}class Dd{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&Od(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(t=>"object"==typeof t&&null!=t&&t.outlets);if(r&&r!==$f(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Pd{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function Rd(t){return"object"==typeof t&&null!=t&&t.outlets?t.outlets.primary:""+t}function Ld(t,e,n){if(t||(t=new Yf([],{})),0===t.segments.length&&t.hasChildren())return Fd(t,e,n);const r=function(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const e=t.segments[i],o=Rd(n[r]),a=r<n.length-1?n[r+1]:null;if(i>0&&void 0===o)break;if(o&&a&&"object"==typeof a&&void 0===a.outlets){if(!Ud(o,a,e))return s;r+=2}else{if(!Ud(o,{},e))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new Yf(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new Yf(t.segments.slice(r.pathIndex),t.children),Fd(e,0,i)}return r.match&&0===i.length?new Yf(t.segments,{}):r.match&&!t.hasChildren()?Md(t,e,n):r.match?Fd(t,0,i):Md(t,e,n)}function Fd(t,e,n){if(0===n.length)return new Yf(t.segments,{});{const r=function(t){return"object"!=typeof t[0]||void 0===t[0].outlets?{primary:t}:t[0].outlets}(n),i={};return Gf(r,(n,r)=>{null!==n&&(i[r]=Ld(t.children[r],e,n))}),Gf(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new Yf(t.segments,i)}}function Md(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){if("object"==typeof n[i]&&void 0!==n[i].outlets){const t=jd(n[i].outlets);return new Yf(r,t)}if(0===i&&Od(n[0])){r.push(new Xf(t.segments[e].path,n[0])),i++;continue}const s=Rd(n[i]),o=i<n.length-1?n[i+1]:null;s&&o&&Od(o)?(r.push(new Xf(s,zd(o))),i+=2):(r.push(new Xf(s,{})),i++)}return new Yf(r,{})}function jd(t){const e={};return Gf(t,(t,n)=>{null!==t&&(e[n]=Md(new Yf([],{}),0,t))}),e}function zd(t){const e={};return Gf(t,(t,n)=>e[n]=""+t),e}function Ud(t,e,n){return t==n.path&&qf(e,n.parameters)}class Vd{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),kd(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=bd(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),Gf(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet);if(n){const r=bd(t),i=t.value.component?n.children:e;Gf(r,(t,e)=>this.deactivateRouteAndItsChildren(t,i)),n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}}activateChildRoutes(t,e,n){const r=bd(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new Of(t.value.snapshot))}),t.children.length&&this.forwardEvent(new kf(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(kd(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),qd(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function qd(t){kd(t.value),t.children.forEach(qd)}function Bd(t){return"function"==typeof t}function Hd(t){return t instanceof Wf}class $d{constructor(t){this.segmentGroup=t||null}}class Gd{constructor(t){this.urlTree=t}}function Kd(t){return new w(e=>e.error(new $d(t)))}function Qd(t){return new w(e=>e.error(new Gd(t)))}function Wd(t){return new w(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class Yd{constructor(t,e,n,r,i){this.configLoader=e,this.urlSerializer=n,this.urlTree=r,this.config=i,this.allowRedirects=!0,this.ngModule=t.get(Xt)}apply(){return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,"primary").pipe(M(t=>this.createUrlTree(t,this.urlTree.queryParams,this.urlTree.fragment))).pipe(Bh(t=>{if(t instanceof Gd)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof $d)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,"primary").pipe(M(e=>this.createUrlTree(e,t.queryParams,t.fragment))).pipe(Bh(t=>{if(t instanceof $d)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new Yf([],{primary:t}):t;return new Wf(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(M(t=>new Yf([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){return function(t,e){if(0===Object.keys(t).length)return nh({});const n=[],r=[],i={};return Gf(t,(t,s)=>{const o=e(s,t).pipe(M(t=>i[s]=t));"primary"===s?n.push(o):r.push(o)}),nh.apply(null,n.concat(r)).pipe(xh(),qh(),M(()=>i))}(n.children,(n,r)=>this.expandSegmentGroup(t,e,r,n))}expandSegment(t,e,n,r,i,s){return nh(...n).pipe(M(o=>this.expandSegmentAgainstRoute(t,e,n,o,r,i,s).pipe(Bh(t=>{if(t instanceof $d)return nh(null);throw t}))),xh(),Wh(t=>!!t),Bh((t,n)=>{if(t instanceof Sh||"EmptyError"===t.name){if(this.noLeftoversInUrl(e,r,i))return nh(new Yf([],{}));throw new $d(e)}throw t}))}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}expandSegmentAgainstRoute(t,e,n,r,i,s,o){return tp(r)!==s?Kd(e):void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i):o&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s):Kd(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,s):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Qd(i):this.lineralizeSegments(n,i).pipe(q(n=>{const i=new Yf(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s){const{matched:o,consumedSegments:a,lastChild:u,positionalParamSegments:c}=Xd(e,r,i);if(!o)return Kd(e);const l=this.applyRedirectCommands(a,r.redirectTo,c);return r.redirectTo.startsWith("/")?Qd(l):this.lineralizeSegments(r,l).pipe(q(r=>this.expandSegment(t,e,n,r.concat(i.slice(u)),s,!1)))}matchSegmentAgainstRoute(t,e,n,r){if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(M(t=>(n._loadedConfig=t,new Yf(r,{})))):nh(new Yf(r,{}));const{matched:i,consumedSegments:s,lastChild:o}=Xd(e,n,r);if(!i)return Kd(e);const a=r.slice(o);return this.getChildConfig(t,n,r).pipe(q(t=>{const n=t.module,r=t.routes,{segmentGroup:i,slicedSegments:o}=function(t,e,n,r){return n.length>0&&function(t,e,n){return n.some(n=>Zd(t,e,n)&&"primary"!==tp(n))}(t,n,r)?{segmentGroup:Jd(new Yf(e,function(t,e){const n={};n.primary=e;for(const r of t)""===r.path&&"primary"!==tp(r)&&(n[tp(r)]=new Yf([],{}));return n}(r,new Yf(n,t.children)))),slicedSegments:[]}:0===n.length&&function(t,e,n){return n.some(n=>Zd(t,e,n))}(t,n,r)?{segmentGroup:Jd(new Yf(t.segments,function(t,e,n,r){const i={};for(const s of n)Zd(t,e,s)&&!r[tp(s)]&&(i[tp(s)]=new Yf([],{}));return Object.assign(Object.assign({},r),i)}(t,n,r,t.children))),slicedSegments:n}:{segmentGroup:t,slicedSegments:n}}(e,s,a,r);return 0===o.length&&i.hasChildren()?this.expandChildren(n,r,i).pipe(M(t=>new Yf(s,t))):0===r.length&&0===o.length?nh(new Yf(s,{})):this.expandSegment(n,i,r,o,"primary",!0).pipe(M(t=>new Yf(s.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?nh(new Mf(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?nh(e._loadedConfig):function(t,e,n){const r=e.canLoad;return r&&0!==r.length?V(r).pipe(M(r=>{const i=t.get(r);let s;if(function(t){return t&&Bd(t.canLoad)}(i))s=i.canLoad(e,n);else{if(!Bd(i))throw new Error("Invalid CanLoad guard");s=i(e,n)}return Kf(s)})).pipe(xh(),(i=t=>!0===t,t=>t.lift(new Yh(i,void 0,t)))):nh(!0);var i}(t.injector,e,n).pipe(q(n=>n?this.configLoader.load(t.injector,e).pipe(M(t=>(e._loadedConfig=t,t))):function(t){return new w(e=>e.error(Lf(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):nh(new Mf([],t))}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return nh(n);if(r.numberOfChildren>1||!r.children.primary)return Wd(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new Wf(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return Gf(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let s={};return Gf(e.children,(e,i)=>{s[i]=this.createSegmentGroup(t,e,n,r)}),new Yf(i,s)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function Xd(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};const r=(e.matcher||Ff)(n,t,e);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function Jd(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new Yf(t.segments.concat(e.segments),e.children)}return t}function Zd(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function tp(t){return t.outlet||"primary"}class ep{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class np{constructor(t,e){this.component=t,this.route=e}}function rp(t,e,n){const r=t._root;return function t(e,n,r,i,s={canDeactivateChecks:[],canActivateChecks:[]}){const o=bd(n);return e.children.forEach(e=>{!function(e,n,r,i,s={canDeactivateChecks:[],canActivateChecks:[]}){const o=e.value,a=n?n.value:null,u=r?r.getContext(e.value.outlet):null;if(a&&o.routeConfig===a.routeConfig){const c=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Jf(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Jf(t.url,e.url)||!qf(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ad(t,e)||!qf(t.queryParams,e.queryParams);case"paramsChange":default:return!Ad(t,e)}}(a,o,o.routeConfig.runGuardsAndResolvers);c?s.canActivateChecks.push(new ep(i)):(o.data=a.data,o._resolvedData=a._resolvedData),t(e,n,o.component?u?u.children:null:r,i,s),c&&s.canDeactivateChecks.push(new np(u&&u.outlet&&u.outlet.component||null,a))}else a&&sp(n,u,s),s.canActivateChecks.push(new ep(i)),t(e,null,o.component?u?u.children:null:r,i,s)}(e,o[e.value.outlet],r,i.concat([e.value]),s),delete o[e.value.outlet]}),Gf(o,(t,e)=>sp(t,r.getContext(e),s)),s}(r,e?e._root:null,n,[r.value])}function ip(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function sp(t,e,n){const r=bd(t),i=t.value;Gf(r,(t,r)=>{sp(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new np(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}const op=Symbol("INITIAL_VALUE");function ap(){return Jh(t=>function(...t){let e=null,n=null;return x(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&u(t[0])&&(t=t[0]),G(t,n).lift(new Th(e))}(...t.map(t=>t.pipe(Gh(1),nf(op)))).pipe(rf((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==op)return t;if(r===op&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||Hd(r))return r}return t},t)},op),kh(t=>t!==op),M(t=>Hd(t)?t:!0===t),Gh(1)))}function up(t,e){return null!==t&&e&&e(new Af(t)),nh(!0)}function cp(t,e){return null!==t&&e&&e(new xf(t)),nh(!0)}function lp(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;return r&&0!==r.length?nh(r.map(r=>Ih(()=>{const i=ip(r,e,n);let s;if(function(t){return t&&Bd(t.canActivate)}(i))s=Kf(i.canActivate(e,t));else{if(!Bd(i))throw new Error("Invalid CanActivate guard");s=Kf(i(e,t))}return s.pipe(Wh())}))).pipe(ap()):nh(!0)}function hp(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>Ih(()=>nh(e.guards.map(i=>{const s=ip(i,e.node,n);let o;if(function(t){return t&&Bd(t.canActivateChild)}(s))o=Kf(s.canActivateChild(r,t));else{if(!Bd(s))throw new Error("Invalid CanActivateChild guard");o=Kf(s(r,t))}return o.pipe(Wh())})).pipe(ap())));return nh(i).pipe(ap())}class fp{}class dp{constructor(t,e,n,r,i,s){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=s}recognize(){try{const t=mp(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,"primary"),n=new Td([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},"primary",this.rootComponentType,null,this.urlTree.root,-1,{}),r=new vd(n,e),i=new Cd(this.url,r);return this.inheritParamsAndData(i._root),nh(i)}catch(t){return new w(e=>e.error(t))}}inheritParamsAndData(t){const e=t.value,n=Ed(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=Zf(e,(e,n)=>this.processSegmentGroup(t,e,n));return function(t){const e={};t.forEach(t=>{const n=e[t.value.outlet];if(n){const e=n.url.map(t=>t.toString()).join("/"),r=t.value.url.map(t=>t.toString()).join("/");throw new Error(`Two segments cannot have the same outlet name: '${e}' and '${r}'.`)}e[t.value.outlet]=t.value})}(n),n.sort((t,e)=>"primary"===t.value.outlet?-1:"primary"===e.value.outlet?1:t.value.outlet.localeCompare(e.value.outlet)),n}processSegment(t,e,n,r){for(const s of t)try{return this.processSegmentAgainstRoute(s,e,n,r)}catch(i){if(!(i instanceof fp))throw i}if(this.noLeftoversInUrl(e,n,r))return[];throw new fp}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo)throw new fp;if((t.outlet||"primary")!==r)throw new fp;let i,s=[],o=[];if("**"===t.path){const s=n.length>0?$f(n).parameters:{};i=new Td(n,s,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,bp(t),r,t.component,t,pp(e),gp(e)+n.length,wp(t))}else{const a=function(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new fp;return{consumedSegments:[],lastChild:0,parameters:{}}}const r=(e.matcher||Ff)(n,t,e);if(!r)throw new fp;const i={};Gf(r.posParams,(t,e)=>{i[e]=t.path});const s=r.consumed.length>0?Object.assign(Object.assign({},i),r.consumed[r.consumed.length-1].parameters):i;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:s}}(e,t,n);s=a.consumedSegments,o=n.slice(a.lastChild),i=new Td(s,a.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,bp(t),r,t.component,t,pp(e),gp(e)+s.length,wp(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:u,slicedSegments:c}=mp(e,s,o,a,this.relativeLinkResolution);if(0===c.length&&u.hasChildren()){const t=this.processChildren(a,u);return[new vd(i,t)]}if(0===a.length&&0===c.length)return[new vd(i,[])];const l=this.processSegment(a,u,c,"primary");return[new vd(i,l)]}}function pp(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function gp(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function mp(t,e,n,r,i){if(n.length>0&&function(t,e,n){return n.some(n=>yp(t,e,n)&&"primary"!==vp(n))}(t,n,r)){const i=new Yf(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const s of n)if(""===s.path&&"primary"!==vp(s)){const n=new Yf([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[vp(s)]=n}return i}(t,e,r,new Yf(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>yp(t,e,n))}(t,n,r)){const s=new Yf(t.segments,function(t,e,n,r,i,s){const o={};for(const a of r)if(yp(t,n,a)&&!i[vp(a)]){const n=new Yf([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===s?t.segments.length:e.length,o[vp(a)]=n}return Object.assign(Object.assign({},i),o)}(t,e,n,r,t.children,i));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}const s=new Yf(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}function yp(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function vp(t){return t.outlet||"primary"}function bp(t){return t.data||{}}function wp(t){return t.resolve||{}}function _p(t,e,n,r){const i=ip(t,e,r);return Kf(i.resolve?i.resolve(e,n):i(e,n))}function Sp(t){return function(e){return e.pipe(Jh(e=>{const n=t(e);return n?V(n).pipe(M(()=>e)):V([e])}))}}class Ep{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}const Tp=new Mt("ROUTES");class Cp{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(M(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const r=n.create(t);return new Mf(Hf(r.injector.get(Tp)).map(Vf),r)}))}loadModuleFactory(t){return"string"==typeof t?V(this.loader.load(t)):Kf(t()).pipe(q(t=>t instanceof Jt?nh(t):V(this.compiler.compileModuleAsync(t))))}}class Ip{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function xp(t){throw t}function kp(t,e,n){return e.parse("/")}function Ap(t,e){return nh(null)}let Op=(()=>{class t{constructor(t,e,n,r,i,s,o,a){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=r,this.config=a,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new C,this.errorHandler=xp,this.malformedUriErrorHandler=kp,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Ap,afterPreactivation:Ap},this.urlHandlingStrategy=new Ip,this.routeReuseStrategy=new Ep,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=i.get(Xt),this.console=i.get(qu);const u=i.get(nc);this.isNgZoneEnabled=u instanceof nc,this.resetConfig(a),this.currentUrlTree=new Wf(new Yf([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Cp(s,o,t=>this.triggerEvent(new Cf(t)),t=>this.triggerEvent(new If(t))),this.routerState=_d(this.currentUrlTree,this.rootComponentType),this.transitions=new _h({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(kh(t=>0!==t.id),M(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),Jh(t=>{let n=!1,r=!1;return nh(t).pipe(cf(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Jh(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return nh(t).pipe(Jh(t=>{const n=this.transitions.getValue();return e.next(new mf(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?th:[t]}),Jh(t=>Promise.resolve(t)),(r=this.ngModule.injector,i=this.configLoader,s=this.urlSerializer,o=this.config,function(t){return t.pipe(Jh(t=>function(t,e,n,r,i){return new Yd(t,e,n,r,i).apply()}(r,i,s,t.extractedUrl,o).pipe(M(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e})))))}),cf(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return function(s){return s.pipe(q(s=>function(t,e,n,r,i="emptyOnly",s="legacy"){return new dp(t,e,n,r,i,s).recognize()}(t,e,s.urlAfterRedirects,n(s.urlAfterRedirects),r,i).pipe(M(t=>Object.assign(Object.assign({},s),{targetSnapshot:t})))))}}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),cf(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),cf(t=>{const n=new wf(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var r,i,s,o;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:s,extras:o}=t,a=new mf(n,this.serializeUrl(r),i,s);e.next(a);const u=_d(r,this.rootComponentType).snapshot;return nh(Object.assign(Object.assign({},t),{targetSnapshot:u,urlAfterRedirects:r,extras:Object.assign(Object.assign({},o),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),th}),Sp(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),cf(t=>{const e=new _f(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),M(t=>Object.assign(Object.assign({},t),{guards:rp(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return function(n){return n.pipe(q(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?nh(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return V(t).pipe(q(t=>function(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?nh(s.map(s=>{const o=ip(s,e,i);let a;if(function(t){return t&&Bd(t.canDeactivate)}(o))a=Kf(o.canDeactivate(t,e,n,r));else{if(!Bd(o))throw new Error("Invalid CanDeactivate guard");a=Kf(o(t,e,n,r))}return a.pipe(Wh())})).pipe(ap()):nh(!0)}(t.component,t.route,n,e,r)),Wh(t=>!0!==t,!0))}(o,r,i,t).pipe(q(n=>n&&"boolean"==typeof n?function(t,e,n,r){return V(e).pipe(af(e=>V([cp(e.route.parent,r),up(e.route,r),hp(t,e.path,n),lp(t,e.route,n)]).pipe(xh(),Wh(t=>!0!==t,!0))),Wh(t=>!0!==t,!0))}(r,s,t,e):nh(n)),M(t=>Object.assign(Object.assign({},n),{guardsResult:t})))}))}}(this.ngModule.injector,t=>this.triggerEvent(t)),cf(t=>{if(Hd(t.guardsResult)){const e=Lf(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}}),cf(t=>{const e=new Sf(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),kh(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new vf(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),Sp(t=>{if(t.guards.canActivateChecks.length)return nh(t).pipe(cf(t=>{const e=new Ef(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),(e=this.paramsInheritanceStrategy,n=this.ngModule.injector,function(t){return t.pipe(q(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;return i.length?V(i).pipe(af(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return nh({});if(1===i.length){const s=i[0];return _p(t[s],e,n,r).pipe(M(t=>({[s]:t})))}const s={};return V(i).pipe(q(i=>_p(t[i],e,n,r).pipe(M(t=>(s[i]=t,t))))).pipe(qh(),M(()=>s))}(t._resolve,t,e,r).pipe(M(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),Ed(t,n).resolve),null)))}(t.route,r,e,n)),function(t,e){return arguments.length>=2?function(n){return v(rf(t,e),Dh(1),zh(e))(n)}:function(e){return v(rf((e,n,r)=>t(e,n,r+1)),Dh(1))(e)}}((t,e)=>t),M(e=>t)):nh(t)}))}),cf(t=>{const e=new Tf(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}));var e,n}),Sp(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),M(t=>{const e=function(t,e,n){const r=function t(e,n,r){if(r&&e.shouldReuseRoute(n.value,r.value.snapshot)){const i=r.value;i._futureSnapshot=n.value;const s=function(e,n,r){return n.children.map(n=>{for(const i of r.children)if(e.shouldReuseRoute(i.value.snapshot,n.value))return t(e,n,i);return t(e,n)})}(e,n,r);return new vd(i,s)}{const r=e.retrieve(n.value);if(r){const t=r.route;return function t(e,n){if(e.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=e.value;for(let r=0;r<e.children.length;++r)t(e.children[r],n.children[r])}(n,t),t}{const r=new Sd(new _h((i=n.value).url),new _h(i.params),new _h(i.queryParams),new _h(i.fragment),new _h(i.data),i.outlet,i.component,i),s=n.children.map(n=>t(e,n));return new vd(r,s)}}var i}(t,e._root,n?n._root:void 0);return new wd(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),cf(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(i=this.rootContexts,s=this.routeReuseStrategy,o=t=>this.triggerEvent(t),M(t=>(new Vd(s,t.targetRouterState,t.currentRouterState,o).activate(i),t))),cf({next(){n=!0},complete(){n=!0}}),ff(()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new vf(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null}),Bh(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=Hd(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new vf(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);return this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new bf(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(s){t.reject(s)}}var i;return th}));var i,s,o}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{let e=this.parseUrl(t.url);const n="popstate"===t.type?"popstate":"hashchange",r=t.state&&t.state.navigationId?t.state:null;setTimeout(()=>{this.scheduleNavigation(e,n,r,{replaceUrl:!0})},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){jf(t),this.config=t.map(Vf),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)}createUrlTree(t,e={}){const{relativeTo:n,queryParams:r,fragment:i,preserveQueryParams:s,queryParamsHandling:o,preserveFragment:a}=e;mr()&&s&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");const u=n||this.routerState.root,c=a?this.currentUrlTree.fragment:i;let l=null;if(o)switch(o){case"merge":l=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=r||null}else l=s?this.currentUrlTree.queryParams:r||null;return null!==l&&(l=this.removeEmptyProps(l)),function(t,e,n,r,i){if(0===n.length)return Nd(e.root,e.root,e,r,i);const s=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new Dd(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return Gf(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new Dd(n,e,r)}(n);if(s.toRoot())return Nd(e.root,new Yf([],{}),e,r,i);const o=function(t,e,n){if(t.isAbsolute)return new Pd(e.root,!0,0);if(-1===n.snapshot._lastPathIndex)return new Pd(n.snapshot._urlSegment,!0,0);const r=Od(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new Pd(r,!1,i-s)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(s,e,t),a=o.processChildren?Fd(o.segmentGroup,o.index,s.commands):Ld(o.segmentGroup,o.index,s.commands);return Nd(o.segmentGroup,a,e,r,i)}(u,this.currentUrlTree,t,l,c)}navigateByUrl(t,e={skipLocationChange:!1}){mr()&&this.isNgZoneEnabled&&!nc.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");const n=Hd(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(n){e=this.malformedUriErrorHandler(n,this.urlSerializer,t)}return e}isActive(t,e){if(Hd(t))return Qf(this.currentUrlTree,t,e);const n=this.parseUrl(t);return Qf(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new yf(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){const s=this.getTransition();if(s&&"imperative"!==e&&"imperative"===s.source&&s.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(s&&"hashchange"==e&&"popstate"===s.source&&s.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(s&&"popstate"==e&&"hashchange"===s.source&&s.rawUrl.toString()===t.toString())return Promise.resolve(!0);let o,a,u;i?(o=i.resolve,a=i.reject,u=i.promise):u=new Promise((t,e)=>{o=t,a=e});const c=++this.navigationId;return this.setTransition({id:c,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:o,reject:a,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(t){_o()},t.\u0275dir=ye({type:t}),t})(),Np=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.route=e,this.commands=[],null==n&&r.setAttribute(i.nativeElement,"tabindex","0")}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}set preserveQueryParams(t){mr()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated!, use queryParamsHandling instead."),this.preserve=t}onClick(){const t={skipLocationChange:Pp(this.skipLocationChange),replaceUrl:Pp(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:Pp(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:Pp(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(bo(Op),bo(Sd),wo("tabindex"),bo(Aa),bo(Ca))},t.\u0275dir=ye({type:t,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,e){1&t&&Oo("click",(function(){return e.onClick()}))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"}}),t})(),Dp=(()=>{class t{constructor(t,e,n){this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.subscription=t.events.subscribe(t=>{t instanceof yf&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}set preserveQueryParams(t){mr()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=t}ngOnChanges(t){this.updateTargetUrlAndHref()}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,e,n,r){if(0!==t||e||n||r)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const i={skipLocationChange:Pp(this.skipLocationChange),replaceUrl:Pp(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,i),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:Pp(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:Pp(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(bo(Op),bo(Sd),bo($c))},t.\u0275dir=ye({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,e){1&t&&Oo("click",(function(t){return e.onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)})),2&t&&(ha("href",e.href,Br),po("target",e.target))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[ba]}),t})();function Pp(t){return""===t||!!t}let Rp=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.element=e,this.renderer=n,this.link=r,this.linkWithHref=i,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.subscription=t.events.subscribe(t=>{t instanceof yf&&this.update()})}ngAfterContentInit(){this.links.changes.subscribe(t=>this.update()),this.linksWithHrefs.changes.subscribe(t=>this.update()),this.update()}set routerLinkActive(t){const e=Array.isArray(t)?t:t.split(" ");this.classes=e.filter(t=>!!t)}ngOnChanges(t){this.update()}ngOnDestroy(){this.subscription.unsubscribe()}update(){this.links&&this.linksWithHrefs&&this.router.navigated&&Promise.resolve().then(()=>{const t=this.hasActiveLinks();this.isActive!==t&&(this.isActive=t,this.classes.forEach(e=>{t?this.renderer.addClass(this.element.nativeElement,e):this.renderer.removeClass(this.element.nativeElement,e)}))})}isLinkActive(t){return e=>t.isActive(e.urlTree,this.routerLinkActiveOptions.exact)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.linkWithHref&&t(this.linkWithHref)||this.links.some(t)||this.linksWithHrefs.some(t)}}return t.\u0275fac=function(e){return new(e||t)(bo(Op),bo(Ca),bo(Aa),bo(Np,8),bo(Dp,8))},t.\u0275dir=ye({type:t,selectors:[["","routerLinkActive",""]],contentQueries:function(t,e,n){var r;1&t&&(Ou(n,Np,!0),Ou(n,Dp,!0)),2&t&&(Au(r=Nu())&&(e.links=r),Au(r=Nu())&&(e.linksWithHrefs=r))},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},exportAs:["routerLinkActive"],features:[ba]}),t})();class Lp{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Fp,this.attachRef=null}}class Fp{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new Lp,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}let Mp=(()=>{class t{constructor(t,e,n,r,i){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=i,this.activated=null,this._activatedRoute=null,this.activateEvents=new vu,this.deactivateEvents=new vu,this.name=r||"primary",t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new jp(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(bo(Fp),bo(Xa),bo(Ta),wo("name"),bo(Ms))},t.\u0275dir=ye({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class jp{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===Sd?this.route:t===Fp?this.childContexts:this.parent.get(t,e)}}class zp{}class Up{preload(t,e){return nh(null)}}let Vp=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new Cp(e,n,e=>t.triggerEvent(new Cf(e)),e=>t.triggerEvent(new If(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(kh(t=>t instanceof yf),af(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(Xt);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return V(n).pipe($(),M(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>this.loader.load(t.injector,e).pipe(q(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(Kt(Op),Kt(Tc),Kt(Ju),Kt(Js),Kt(zp))},t.\u0275prov=lt({token:t,factory:t.\u0275fac}),t})(),qp=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof mf?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof yf&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Nf&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new Nf(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(t){_o()},t.\u0275dir=ye({type:t}),t})();const Bp=new Mt("ROUTER_CONFIGURATION"),Hp=new Mt("ROUTER_FORROOT_GUARD"),$p=[Yc,{provide:td,useClass:ed},{provide:Op,useFactory:function(t,e,n,r,i,s,o,a={},u,c){const l=new Op(null,t,e,n,r,i,s,Hf(o));if(u&&(l.urlHandlingStrategy=u),c&&(l.routeReuseStrategy=c),a.errorHandler&&(l.errorHandler=a.errorHandler),a.malformedUriErrorHandler&&(l.malformedUriErrorHandler=a.malformedUriErrorHandler),a.enableTracing){const t=Rc();l.events.subscribe(e=>{t.logGroup("Router Event: "+e.constructor.name),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return a.onSameUrlNavigation&&(l.onSameUrlNavigation=a.onSameUrlNavigation),a.paramsInheritanceStrategy&&(l.paramsInheritanceStrategy=a.paramsInheritanceStrategy),a.urlUpdateStrategy&&(l.urlUpdateStrategy=a.urlUpdateStrategy),a.relativeLinkResolution&&(l.relativeLinkResolution=a.relativeLinkResolution),l},deps:[td,Fp,Yc,Js,Tc,Ju,Tp,Bp,[class{},new it],[class{},new it]]},Fp,{provide:Sd,useFactory:function(t){return t.routerState.root},deps:[Op]},{provide:Tc,useClass:xc},Vp,Up,class{preload(t,e){return e().pipe(Bh(()=>nh(null)))}},{provide:Bp,useValue:{enableTracing:!1}}];function Gp(){return new yc("Router",Op)}let Kp=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[$p,Xp(e),{provide:Hp,useFactory:Yp,deps:[[Op,new it,new ot]]},{provide:Bp,useValue:n||{}},{provide:$c,useFactory:Wp,deps:[Fc,[new rt(Kc),new it],Bp]},{provide:qp,useFactory:Qp,deps:[Op,gl,Bp]},{provide:zp,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:Up},{provide:yc,multi:!0,useFactory:Gp},[Jp,{provide:Ru,multi:!0,useFactory:Zp,deps:[Jp]},{provide:eg,useFactory:tg,deps:[Jp]},{provide:Vu,multi:!0,useExisting:eg}]]}}static forChild(e){return{ngModule:t,providers:[Xp(e)]}}}return t.\u0275mod=ge({type:t}),t.\u0275inj=ht({factory:function(e){return new(e||t)(Kt(Hp,8),Kt(Op,8))}}),t})();function Qp(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new qp(t,e,n)}function Wp(t,e,n={}){return n.useHash?new Wc(t,e):new Qc(t,e)}function Yp(t){if(t)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function Xp(t){return[{provide:Zs,multi:!0,useValue:t},{provide:Tp,multi:!0,useValue:t}]}let Jp=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new C}appInitializer(){return this.injector.get(jc,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(Op),r=this.injector.get(Bp);if(this.isLegacyDisabled(r)||this.isLegacyEnabled(r))t(!0);else if("disabled"===r.initialNavigation)n.setUpLocationChangeListener(),t(!0);else{if("enabled"!==r.initialNavigation)throw new Error(`Invalid initialNavigation options: '${r.initialNavigation}'`);n.hooks.afterPreactivation=()=>this.initNavigation?nh(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()}return e})}bootstrapListener(t){const e=this.injector.get(Bp),n=this.injector.get(Vp),r=this.injector.get(qp),i=this.injector.get(Op),s=this.injector.get(Sc);t===s.components[0]&&(this.isLegacyEnabled(e)?i.initialNavigation():this.isLegacyDisabled(e)&&i.setUpLocationChangeListener(),n.setUpPreloading(),r.init(),i.resetRootComponentType(s.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}isLegacyEnabled(t){return"legacy_enabled"===t.initialNavigation||!0===t.initialNavigation||void 0===t.initialNavigation}isLegacyDisabled(t){return"legacy_disabled"===t.initialNavigation||!1===t.initialNavigation}}return t.\u0275fac=function(e){return new(e||t)(Kt(Js))},t.\u0275prov=lt({token:t,factory:t.\u0275fac}),t})();function Zp(t){return t.appInitializer.bind(t)}function tg(t){return t.bootstrapListener.bind(t)}const eg=new Mt("Router Initializer"),ng=new Xl(Ql);let rg=1;const ig=(()=>Promise.resolve())(),sg={};function og(t){return t in sg&&(delete sg[t],!0)}const ag={setImmediate(t){const e=rg++;return sg[e]=!0,ig.then(()=>og(e)&&t()),e},clearImmediate(t){og(t)}};class ug extends Ql{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=ag.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(ag.clearImmediate(e),t.scheduled=void 0)}}class cg extends Xl{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const lg=new cg(ug);function hg(t){return!u(t)&&t-parseFloat(t)+1>=0}class fg extends w{constructor(t,e=0,n=lg){super(),this.source=t,this.delayTime=e,this.scheduler=n,(!hg(e)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=lg)}static create(t,e=0,n=lg){return new fg(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(fg.dispatch,this.delayTime,{source:this.source,subscriber:t})}}class dg{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new fg(e,this.delay,this.scheduler).subscribe(t)}}var pg=n("zIRd");function gg(){}pg.a.registerVersion("firebase","8.10.1","app"),pg.a.SDK_VERSION="8.10.1";class mg{constructor(t,e=Zl){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule((function(e){r.runGuarded(()=>{t.apply(this,[e])})}),e,n)}}class yg{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",gg,{},gg,gg)),e.pipe(cf({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class vg{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new mg(Zone.current)),this.insideAngular=t.run(()=>new mg(Zone.current,ng))}}function bg(t){return function(e){return(e=e.lift(new yg(t.ngZone))).pipe(function(t,e=0){return function(n){return n.lift(new dg(t,e))}}(t.outsideAngular),oh(t.insideAngular))}}const wg=["ngOnDestroy"],_g=new Mt("angularfire2.app.options"),Sg=new Mt("angularfire2.app.nameOrConfig"),Eg=new Da("6.0.4");function Tg(t,e,n){const r="object"==typeof n&&n||{};return r.name=r.name||"string"==typeof n&&n||"[DEFAULT]",pg.a.apps.filter(t=>t&&t.name===r.name)[0]||e.runOutsideAngular(()=>pg.a.initializeApp(t,r))}const Cg={provide:class{},useFactory:Tg,deps:[_g,nc,[new it,Sg]]};let Ig=(()=>{class t{constructor(t){pg.a.registerVersion("angularfire",Eg.full,t.toString()),pg.a.registerVersion("angular",Pa.full)}static initializeApp(e,n){return{ngModule:t,providers:[{provide:_g,useValue:e},{provide:Sg,useValue:n}]}}}return t.\u0275mod=ge({type:t}),t.\u0275inj=ht({factory:function(e){return new(e||t)(Kt(Uu))},providers:[Cg]}),t})();function xg(t,e){return function(t,e=ng){return new w(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot(n)}):r=t.onSnapshot(n),()=>{null!=r&&r()}})}(t,e)}function kg(t,e){return xg(t,e).pipe(M(t=>({payload:t,type:"query"})))}function Ag(t,e){return kg(t,e).pipe(M(t=>t.payload.docChanges().map(t=>({type:t.type,payload:t}))))}function Og(t,e,n){return kg(t,n).pipe(M(t=>t.payload.docChanges()),rf((t,n)=>function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":t[e.newIndex]&&t[e.newIndex].doc.ref.isEqual(e.doc.ref)||t.splice(e.newIndex,0,e);break;case"modified":(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref))&&(e.oldIndex!==e.newIndex?(t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e)):t.splice(e.newIndex,1,e));break;case"removed":t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref)&&t.splice(e.oldIndex,1)}return t}(t,e))}),t}(t,n,e),[]),M(t=>t.map(t=>({type:t.type,payload:t}))))}function Ng(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}n("xo5E");class Dg{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){return t&&0!==t.length?Ag(this.query,this.afs.schedulers.outsideAngular).pipe(M(e=>e.filter(e=>t.indexOf(e.type)>-1)),kh(t=>t.length>0),this.afs.keepUnstableUntilFirst):Ag(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(rf((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=Ng(t);return Og(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return kg(this.query,this.afs.schedulers.outsideAngular).pipe(M(e=>e.payload.docs.map(e=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return V(this.query.get(t)).pipe(oh(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new Pg(this.ref.doc(t),this.afs)}}class Pg{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:i}=zg(n,e);return new Dg(r,i,this.afs)}snapshotChanges(){return xg(this.ref,this.afs.schedulers.outsideAngular).pipe(M(t=>({payload:t,type:"value"}))).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(){return this.snapshotChanges().pipe(M(t=>t.payload.data()))}get(t){return V(this.ref.get(t)).pipe(oh(this.afs.schedulers.insideAngular))}}class Rg{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?Ag(this.query,this.afs.schedulers.outsideAngular).pipe(M(e=>e.filter(e=>t.indexOf(e.type)>-1)),kh(t=>t.length>0),this.afs.keepUnstableUntilFirst):Ag(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(rf((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=Ng(t);return Og(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(){return kg(this.query,this.afs.schedulers.outsideAngular).pipe(M(t=>t.payload.docs.map(t=>t.data())),this.afs.keepUnstableUntilFirst)}get(t){return V(this.query.get(t)).pipe(oh(this.afs.schedulers.insideAngular))}}const Lg=n("xo5E"),Fg=new Mt("angularfire2.enableFirestorePersistence"),Mg=new Mt("angularfire2.firestore.persistenceSettings"),jg=new Mt("angularfire2.firestore.settings");function zg(t,e=(t=>t)){return{query:e(t),ref:t}}let Ug=(()=>{class t{constructor(t,e,n,r,i,s,o){this.schedulers=new vg(s),this.keepUnstableUntilFirst=bg(this.schedulers),this.firestore=s.runOutsideAngular(()=>{const n=Tg(t,s,e);"registerFirestore"in Lg&&Lg.registerFirestore(pg.a);const i=n.firestore();return r&&i.settings(r),i}),this.persistenceEnabled$=n&&!pl(i)?s.runOutsideAngular(()=>{try{return V(this.firestore.enablePersistence(o||void 0).then(()=>!0,()=>!1))}catch(t){return nh(!1)}}):nh(!1)}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:r,query:i}=zg(n,e),s=this.schedulers.ngZone.run(()=>r);return new Dg(s,i,this)}collectionGroup(t,e){const n=e||(t=>t),r=this.firestore.collectionGroup(t);return new Rg(n(r),this)}doc(t){let e;e="string"==typeof t?this.firestore.doc(t):t;const n=this.schedulers.ngZone.run(()=>e);return new Pg(n,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(e){return new(e||t)(Kt(_g),Kt(Sg,8),Kt(Fg,8),Kt(jg,8),Kt(Uu),Kt(nc),Kt(Mg,8))},t.\u0275prov=lt({factory:function(){return new t(Kt(_g),Kt(Sg,8),Kt(Fg,8),Kt(jg,8),Kt(Uu),Kt(nc),Kt(Mg,8))},token:t,providedIn:"any"}),t})(),Vg=(()=>{class t{static enablePersistence(e){return{ngModule:t,providers:[{provide:Fg,useValue:!0},{provide:Mg,useValue:e}]}}}return t.\u0275mod=ge({type:t}),t.\u0275inj=ht({factory:function(e){return new(e||t)},providers:[Ug]}),t})(),qg=(()=>{class t{constructor(t){this.firestore=t,this.collectionName="about",this.documentName="FCtA7KtvfPGsihOPOuJa"}getAboutList(){return this.firestore.collection(this.collectionName).doc(this.documentName).valueChanges()}}return t.\u0275fac=function(e){return new(e||t)(Kt(Ug))},t.\u0275prov=lt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Bg(t,e){if(1&t&&(To(0,"li",9),To(1,"a",10),To(2,"span",11),Io(3,"i",12),Io(4,"i"),Co(),Co(),Co()),2&t){const t=e.$implicit;hi(1),Mo("href",t.url,Br),hi(3),Xo(re,Wo,t.iconClassInfo,!0)}}let Hg=(()=>{class t{constructor(t){this.aboutService=t,this.personalInfo={firstName:"Franacisco Briones",lastName:"Briones Lavados",address:{city:"Santo Domingo",state:"V Region"},email:"franciscobrioneslavados@gmail.com",description:"Ingeniero en Inform\xe1tica con amplia experiencia en desarrollo de software, en donde los \xfaltimos a\xf1os me he especializado en desarrollo web con lenguajes de programaci\xf3n en JavaScript y Python, construyendo API REST, aplicaciones m\xf3viles y aplicaciones web con diferentes frameworks, Poseo Alta tolerancia al trabajo bajo presi\xf3n y pro-activo y responsable.",quote:"Never stop learning; for when we stop learning, we stop growing."},this.socialData=[{iconClassInfo:"fa fa-twitter fa-stack-1x fa-inverse",url:"https://twitter.com/GubsBenejam"},{iconClassInfo:"fa fa-linkedin fa-stack-1x fa-inverse",url:"https://www.linkedin.com/in/gabriela-benejam/"},{iconClassInfo:"fa fa-github fa-stack-1x fa-inverse",url:"https://github.com/gbenejam"},{iconClassInfo:"fa fa-medium fa-stack-1x fa-inverse",url:"https://medium.com/@gbenejamborras"}]}ngOnInit(){this.aboutService.getAboutList().subscribe(t=>{console.log(t)})}}return t.\u0275fac=function(e){return new(e||t)(bo(qg))},t.\u0275cmp=he({type:t,selectors:[["app-about"]],decls:14,vars:9,consts:[["id","about",1,"resume-section","p-3","p-lg-5","d-flex","d-columnb"],[1,"my-auto"],[1,"mb-0","primary-text"],[1,"subheading","mb-5","text-muted"],[1,"text-muted",3,"href"],[1,"mb-5"],[1,"text-muted","font-italic","mb-5"],[1,"list-inline","list-social-icons","mb-0","mt-5"],["class","list-inline-item",4,"ngFor","ngForOf"],[1,"list-inline-item"],["target","_blank",3,"href"],[1,"fa-stack","fa-lg"],[1,"fa","fa-circle","fa-stack-2x"]],template:function(t,e){1&t&&(To(0,"section",0),To(1,"div",1),To(2,"h1",2),oa(3),Co(),To(4,"div",3),oa(5),To(6,"a",4),oa(7),Co(),Co(),To(8,"p",5),oa(9),Co(),To(10,"p",6),oa(11),Co(),To(12,"ul",7),yo(13,Bg,5,4,"li",8),Co(),Co(),Co()),2&t&&(hi(3),ca(" < ",e.personalInfo.firstName," ",e.personalInfo.lastName," /> "),hi(2),ca(" ",e.personalInfo.address.city,", ",e.personalInfo.address.state," \xb7 "),hi(1),jo("href","mailto:",e.personalInfo.email,"",Br),hi(1),aa(e.personalInfo.email),hi(2),aa(e.personalInfo.description),hi(2),ua('"',e.personalInfo.quote,'"'),hi(2),So("ngForOf",e.socialData))},directives:[sl],styles:[".list-social-icons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#495057}.list-social-icons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#bd5d38}.list-social-icons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .fa-lg[_ngcontent-%COMP%]{font-size:1.75rem}.list-icons[_ngcontent-%COMP%]{font-size:3rem}@media (min-width:992px){.list-social-icons[_ngcontent-%COMP%]{display:none}}"]}),t})();function $g(t,e){if(1&t&&(To(0,"div",4),To(1,"div",5),To(2,"span",6),Io(3,"i",7),Io(4,"i"),Co(),Co(),To(5,"div",8),To(6,"h3",9),To(7,"a",10),oa(8),Co(),Co(),To(9,"div",11),oa(10),Co(),To(11,"div"),oa(12),Co(),Co(),To(13,"div",12),To(14,"span",13),oa(15),Co(),To(16,"div",11),oa(17),Co(),Co(),Co()),2&t){const t=e.$implicit;hi(4),la("education-icon fa ",t.icon," fa-stack-1x "),hi(3),Mo("href",t.url,Br),hi(1),aa(t.school),hi(2),aa(t.degree),hi(2),aa(t.department),hi(3),ca("",t.startDate," - ",t.endDate,""),hi(2),aa(t.status)}}let Gg=(()=>{class t{constructor(){this.educationArr=[{school:"Instituto Profesional CIISA",url:"https://ciisa.cl/",degree:"Ingeneria en Informatica",department:"Ingenier\xeda en Inform\xe1tica",startDate:"Marzo 2016",endDate:"Septiembre 2021",icon:"fa-code",status:"Finish"},{school:"Universitat de Barcelona",url:"https://www.ub.edu/web/portal/en/",degree:"Bachelor of Science",department:"Physics",startDate:"September 2012",endDate:"June 2015",icon:"fa-atom",status:"Unfinished"}]}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=he({type:t,selectors:[["app-education"]],decls:5,vars:1,consts:[["id","education",1,"resume-section","p-3","p-lg-5","d-flex","flex-column"],[1,"my-auto"],[1,"primary-text","mb-5"],["class","resume-item d-flex flex-column flex-md-row mb-5",4,"ngFor","ngForOf"],[1,"resume-item","d-flex","flex-column","flex-md-row","mb-5"],[1,"mr-4","mb-3"],[1,"fa-stack","fa-lg"],[1,"fa","fa-circle","fa-stack-2x"],[1,"resume-content","mr-auto"],[1,"mb-0"],["target","_blank",3,"href"],[1,"subheading","mb-3"],[1,"resume-date","text-md-right"],[1,"secondary-text"]],template:function(t,e){1&t&&(To(0,"section",0),To(1,"div",1),To(2,"h2",2),oa(3,"Education"),Co(),yo(4,$g,18,10,"div",3),Co(),Co()),2&t&&(hi(4),So("ngForOf",e.educationArr))},directives:[sl],styles:[".education-icon[_ngcontent-%COMP%]{font-size:1.5rem;color:#d0d5ff}"]}),t})();function Kg(t,e,n,r){var i,s=arguments.length,o=s<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(o=(s<3?i(o):s>3?i(e,n,o):i(e,n))||o);return s>3&&o&&Object.defineProperty(e,n,o),o}function Qg(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}class Wg{}function Yg(t,e){return{type:7,name:t,definitions:e,options:{}}}function Xg(t,e=null){return{type:4,styles:e,timings:t}}function Jg(t,e=null){return{type:2,steps:t,options:e}}function Zg(t){return{type:6,styles:t,offset:null}}function tm(t,e,n){return{type:0,name:t,styles:e,options:n}}function em(t,e,n=null){return{type:1,expr:t,animation:e,options:n}}function nm(t){Promise.resolve(null).then(t)}class rm{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){nm(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){}setPosition(t){}getPosition(){return 0}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class im{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,n=0,r=0;const i=this.players.length;0==i?nm(()=>this._onFinish()):this.players.forEach(t=>{t.onDone(()=>{++e==i&&this._onFinish()}),t.onDestroy(()=>{++n==i&&this._onDestroy()}),t.onStart(()=>{++r==i&&this._onStart()})}),this.totalTime=this.players.reduce((t,e)=>Math.max(t,e.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(t=>{const n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)})}getPosition(){let t=0;return this.players.forEach(e=>{const n=e.getPosition();t=Math.min(n,t)}),t}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}let sm=(()=>{class t{}return t.EASE_BASE_OUT="cubic-bezier(0.7, 0.3, 0.1, 1)",t.EASE_BASE_IN="cubic-bezier(0.9, 0, 0.3, 0.7)",t.EASE_OUT="cubic-bezier(0.215, 0.61, 0.355, 1)",t.EASE_IN="cubic-bezier(0.55, 0.055, 0.675, 0.19)",t.EASE_IN_OUT="cubic-bezier(0.645, 0.045, 0.355, 1)",t.EASE_OUT_BACK="cubic-bezier(0.12, 0.4, 0.29, 1.46)",t.EASE_IN_BACK="cubic-bezier(0.71, -0.46, 0.88, 0.6)",t.EASE_IN_OUT_BACK="cubic-bezier(0.71, -0.46, 0.29, 1.46)",t.EASE_OUT_CIRC="cubic-bezier(0.08, 0.82, 0.17, 1)",t.EASE_IN_CIRC="cubic-bezier(0.6, 0.04, 0.98, 0.34)",t.EASE_IN_OUT_CIRC="cubic-bezier(0.78, 0.14, 0.15, 0.86)",t.EASE_OUT_QUINT="cubic-bezier(0.23, 1, 0.32, 1)",t.EASE_IN_QUINT="cubic-bezier(0.755, 0.05, 0.855, 0.06)",t.EASE_IN_OUT_QUINT="cubic-bezier(0.86, 0, 0.07, 1)",t})();const om=Yg("collapseMotion",[tm("expanded",Zg({height:"*"})),tm("collapsed",Zg({height:0,overflow:"hidden"})),tm("hidden",Zg({height:0,overflow:"hidden",borderTopWidth:"0"})),em("expanded => collapsed",Xg("150ms "+sm.EASE_IN_OUT)),em("expanded => hidden",Xg("150ms "+sm.EASE_IN_OUT)),em("collapsed => expanded",Xg("150ms "+sm.EASE_IN_OUT)),em("hidden => expanded",Xg("150ms "+sm.EASE_IN_OUT))]);class am{constructor(t){this.value=t}call(t,e){return e.subscribe(new um(t,this.value))}}class um extends p{constructor(t,e){super(t),this.value=e}_next(t){this.destination.next(this.value)}}const cm=new Mt("nz-config"),lm=function(t){return void 0!==t};let hm=(()=>{class t{constructor(t){this.configUpdated$=new C,this.config=t||{}}getConfigForComponent(t){return this.config[t]}getConfigChangeEventForComponent(t){return this.configUpdated$.pipe(kh(e=>e===t),t=>t.lift(new am(void 0)))}set(t,e){this.config[t]=Object.assign(Object.assign({},this.config[t]),e),this.configUpdated$.next(t)}}return t.\u0275fac=function(e){return new(e||t)(Kt(cm,8))},t.\u0275prov=lt({factory:function(){return new t(Kt(cm,8))},token:t,providedIn:"root"}),t})();function fm(t){return function(e,n,r){const i="$$__assignedValue__"+n;return Object.defineProperty(e,i,{configurable:!0,writable:!0,enumerable:!1}),{get(){const e=(null==r?void 0:r.get)?r.get.bind(this)():this[i];if(((this.assignmentCount||{})[n]||0)>1&&lm(e))return e;const s=(this.nzConfigService.getConfigForComponent(t)||{})[n];return lm(s)?s:e},set(t){this.assignmentCount=this.assignmentCount||{},this.assignmentCount[n]=(this.assignmentCount[n]||0)+1,(null==r?void 0:r.set)?r.set.bind(this)(t):this[i]=t},configurable:!0,enumerable:!0}}}const dm={},pm=(...t)=>function(t,...e){mr()&&function(...t){const e=t.reduce((t,e)=>t+e.toString(),"");return!dm[e]&&(dm[e]=!0,!0)}(...e)&&t(...e)}((...t)=>console.warn("[NG-ZORRO]:",...t),...t);function gm(t){return null!=t}function mm(t){return function(t){return null!=t&&""+t!="false"}(t)}function ym(t,e){return function(n,r,i){const s="$$__"+r;return Object.prototype.hasOwnProperty.call(n,s)&&pm(`The prop "${s}" is already exist, it will be overrided by ${t} decorator.`),Object.defineProperty(n,s,{configurable:!0,writable:!0}),{get(){return i&&i.get?i.get.bind(this)():this[s]},set(t){i&&i.set&&i.set.bind(this)(e(t)),this[s]=e(t)}}}}function vm(){return ym("InputBoolean",mm)}function bm(t){return ym("InputNumber",e=>function(t,e=0){return function(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}(t)?Number(t):e}(e,t))}function wm(t){return e=>e.lift(new _m(t))}"undefined"!=typeof window&&window;class _m{constructor(t){this.notifier=t}call(t,e){const n=new Sm(t),r=L(n,this.notifier);return r&&!n.seenValue?(n.add(r),e.subscribe(n)):n}}class Sm extends F{constructor(t){super(t),this.seenValue=!1}notifyNext(t,e,n,r,i){this.seenValue=!0,this.complete()}notifyComplete(){}}let Em=(()=>{class t{constructor(t,e){this.viewContainer=t,this.templateRef=e,this.embeddedViewRef=null,this.context=new Tm,this.nzStringTemplateOutletContext=null,this.nzStringTemplateOutlet=null}static ngTemplateContextGuard(t,e){return!0}recreateView(){this.viewContainer.clear();const t=this.nzStringTemplateOutlet instanceof Wa;this.embeddedViewRef=this.viewContainer.createEmbeddedView(t?this.nzStringTemplateOutlet:this.templateRef,t?this.nzStringTemplateOutletContext:this.context)}updateContext(){const t=this.nzStringTemplateOutlet instanceof Wa?this.nzStringTemplateOutletContext:this.context,e=this.embeddedViewRef.context;if(t)for(const n of Object.keys(t))e[n]=t[n]}ngOnChanges(t){const{nzStringTemplateOutletContext:e,nzStringTemplateOutlet:n}=t;n&&(this.context.$implicit=n.currentValue),(()=>{let t=!1;if(n)if(n.firstChange)t=!0;else{const e=n.currentValue instanceof Wa;t=n.previousValue instanceof Wa||e}return e&&(t=>{const e=Object.keys(t.previousValue||{}),n=Object.keys(t.currentValue||{});if(e.length===n.length){for(const t of n)if(-1===e.indexOf(t))return!0;return!1}return!0})(e)||t})()?this.recreateView():this.updateContext()}}return t.\u0275fac=function(e){return new(e||t)(bo(Xa),bo(Wa))},t.\u0275dir=ye({type:t,selectors:[["","nzStringTemplateOutlet",""]],inputs:{nzStringTemplateOutletContext:"nzStringTemplateOutletContext",nzStringTemplateOutlet:"nzStringTemplateOutlet"},exportAs:["nzStringTemplateOutlet"],features:[ba]}),t})();class Tm{}let Cm,Im=(()=>{class t{}return t.\u0275mod=ge({type:t}),t.\u0275inj=ht({factory:function(e){return new(e||t)},imports:[[fl]]}),t})();try{Cm="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(Qw){Cm=!1}let xm=(()=>{class t{constructor(t){this._platformId=t,this.isBrowser=this._platformId?dl(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Cm)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return t.\u0275fac=function(e){return new(e||t)(Kt(Uu,8))},t.\u0275prov=lt({factory:function(){return new t(Kt(Uu,8))},token:t,providedIn:"root"}),t})(),km=(()=>{class t{}return t.\u0275mod=ge({type:t}),t.\u0275inj=ht({factory:function(e){return new(e||t)}}),t})();var Am=n("HXN9");class Om{}class Nm{}class Dm{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(t=>{const e=t.indexOf(":");if(e>0){const n=t.slice(0,e),r=n.toLowerCase(),i=t.slice(e+1).trim();this.maybeSetNormalizedName(n,r),this.headers.has(r)?this.headers.get(r).push(i):this.headers.set(r,[i])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let n=t[e];const r=e.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(r,n),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof Dm?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new Dm;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Dm?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...n),this.headers.set(e,r);break;case"d":const i=t.value;if(i){let t=this.headers.get(e);if(!t)return;t=t.filter(t=>-1===i.indexOf(t)),0===t.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,t)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class Pm{encodeKey(t){return Rm(t)}encodeValue(t){return Rm(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}function Rm(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}class Lm{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new Pm,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,e){const n=new Map;return t.length>0&&t.split("&").forEach(t=>{const r=t.indexOf("="),[i,s]=-1==r?[e.decodeKey(t),""]:[e.decodeKey(t.slice(0,r)),e.decodeValue(t.slice(r+1))],o=n.get(i)||[];o.push(s),n.set(i,o)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const n=t.fromObject[e];this.map.set(e,Array.isArray(n)?n:[n])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(t=>e+"="+this.encoder.encodeValue(t)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new Lm({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat([t]),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(t.value),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let e=this.map.get(t.param)||[];const n=e.indexOf(t.value);-1!==n&&e.splice(n,1),e.length>0?this.map.set(t.param,e):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}function Fm(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function Mm(t){return"undefined"!=typeof Blob&&t instanceof Blob}function jm(t){return"undefined"!=typeof FormData&&t instanceof FormData}class zm{constructor(t,e,n,r){let i;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,i=r):i=n,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.params&&(this.params=i.params)),this.headers||(this.headers=new Dm),this.params){const t=this.params.toString();if(0===t.length)this.urlWithParams=e;else{const n=e.indexOf("?");this.urlWithParams=e+(-1===n?"?":n<e.length-1?"&":"")+t}}else this.params=new Lm,this.urlWithParams=e}serializeBody(){return null===this.body?null:Fm(this.body)||Mm(this.body)||jm(this.body)||"string"==typeof this.body?this.body:this.body instanceof Lm?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||jm(this.body)?null:Mm(this.body)?this.body.type||null:Fm(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Lm?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}clone(t={}){const e=t.method||this.method,n=t.url||this.url,r=t.responseType||this.responseType,i=void 0!==t.body?t.body:this.body,s=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,o=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let a=t.headers||this.headers,u=t.params||this.params;return void 0!==t.setHeaders&&(a=Object.keys(t.setHeaders).reduce((e,n)=>e.set(n,t.setHeaders[n]),a)),t.setParams&&(u=Object.keys(t.setParams).reduce((e,n)=>e.set(n,t.setParams[n]),u)),new zm(e,n,i,{params:u,headers:a,reportProgress:o,responseType:r,withCredentials:s})}}const Um=function(){var t={Sent:0,UploadProgress:1,ResponseHeader:2,DownloadProgress:3,Response:4,User:5};return t[t.Sent]="Sent",t[t.UploadProgress]="UploadProgress",t[t.ResponseHeader]="ResponseHeader",t[t.DownloadProgress]="DownloadProgress",t[t.Response]="Response",t[t.User]="User",t}();class Vm{constructor(t,e=200,n="OK"){this.headers=t.headers||new Dm,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class qm extends Vm{constructor(t={}){super(t),this.type=Um.ResponseHeader}clone(t={}){return new qm({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Bm extends Vm{constructor(t={}){super(t),this.type=Um.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new Bm({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Hm extends Vm{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?"Http failure during parsing for "+(t.url||"(unknown url)"):`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function $m(t,e){return{body:e,headers:t.headers,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let Gm=(()=>{class t{constructor(t){this.handler=t}request(t,e,n={}){let r;if(t instanceof zm)r=t;else{let i=void 0;i=n.headers instanceof Dm?n.headers:new Dm(n.headers);let s=void 0;n.params&&(s=n.params instanceof Lm?n.params:new Lm({fromObject:n.params})),r=new zm(t,e,void 0!==n.body?n.body:null,{headers:i,params:s,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const i=nh(r).pipe(af(t=>this.handler.handle(t)));if(t instanceof zm||"events"===n.observe)return i;const s=i.pipe(kh(t=>t instanceof Bm));switch(n.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return s.pipe(M(t=>{if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return s.pipe(M(t=>{if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return s.pipe(M(t=>{if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return s.pipe(M(t=>t.body))}case"response":return s;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(t,e={}){return this.request("DELETE",t,e)}get(t,e={}){return this.request("GET",t,e)}head(t,e={}){return this.request("HEAD",t,e)}jsonp(t,e){return this.request("JSONP",t,{params:(new Lm).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,e={}){return this.request("OPTIONS",t,e)}patch(t,e,n={}){return this.request("PATCH",t,$m(n,e))}post(t,e,n={}){return this.request("POST",t,$m(n,e))}put(t,e,n={}){return this.request("PUT",t,$m(n,e))}}return t.\u0275fac=function(e){return new(e||t)(Kt(Om))},t.\u0275prov=lt({token:t,factory:t.\u0275fac}),t})();class Km{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const Qm=new Mt("HTTP_INTERCEPTORS");let Wm=(()=>{class t{intercept(t,e){return e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=lt({token:t,factory:t.\u0275fac}),t})();const Ym=/^\)\]\}',?\n/;class Xm{}let Jm=(()=>{class t{constructor(){}build(){return new XMLHttpRequest}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=lt({token:t,factory:t.\u0275fac}),t})(),Zm=(()=>{class t{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without JsonpClientModule installed.");return new w(e=>{const n=this.xhrFactory.build();if(n.open(t.method,t.urlWithParams),t.withCredentials&&(n.withCredentials=!0),t.headers.forEach((t,e)=>n.setRequestHeader(t,e.join(","))),t.headers.has("Accept")||n.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const e=t.detectContentTypeHeader();null!==e&&n.setRequestHeader("Content-Type",e)}if(t.responseType){const e=t.responseType.toLowerCase();n.responseType="json"!==e?e:"text"}const r=t.serializeBody();let i=null;const s=()=>{if(null!==i)return i;const e=1223===n.status?204:n.status,r=n.statusText||"OK",s=new Dm(n.getAllResponseHeaders()),o=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(n)||t.url;return i=new qm({headers:s,status:e,statusText:r,url:o}),i},o=()=>{let{headers:r,status:i,statusText:o,url:a}=s(),u=null;204!==i&&(u=void 0===n.response?n.responseText:n.response),0===i&&(i=u?200:0);let c=i>=200&&i<300;if("json"===t.responseType&&"string"==typeof u){const t=u;u=u.replace(Ym,"");try{u=""!==u?JSON.parse(u):null}catch(l){u=t,c&&(c=!1,u={error:l,text:u})}}c?(e.next(new Bm({body:u,headers:r,status:i,statusText:o,url:a||void 0})),e.complete()):e.error(new Hm({error:u,headers:r,status:i,statusText:o,url:a||void 0}))},a=t=>{const{url:r}=s(),i=new Hm({error:t,status:n.status||0,statusText:n.statusText||"Unknown Error",url:r||void 0});e.error(i)};let u=!1;const c=r=>{u||(e.next(s()),u=!0);let i={type:Um.DownloadProgress,loaded:r.loaded};r.lengthComputable&&(i.total=r.total),"text"===t.responseType&&n.responseText&&(i.partialText=n.responseText),e.next(i)},l=t=>{let n={type:Um.UploadProgress,loaded:t.loaded};t.lengthComputable&&(n.total=t.total),e.next(n)};return n.addEventListener("load",o),n.addEventListener("error",a),t.reportProgress&&(n.addEventListener("progress",c),null!==r&&n.upload&&n.upload.addEventListener("progress",l)),n.send(r),e.next({type:Um.Sent}),()=>{n.removeEventListener("error",a),n.removeEventListener("load",o),t.reportProgress&&(n.removeEventListener("progress",c),null!==r&&n.upload&&n.upload.removeEventListener("progress",l)),n.abort()}})}}return t.\u0275fac=function(e){return new(e||t)(Kt(Xm))},t.\u0275prov=lt({token:t,factory:t.\u0275fac}),t})();const ty=new Mt("XSRF_COOKIE_NAME"),ey=new Mt("XSRF_HEADER_NAME");class ny{}let ry=(()=>{class t{constructor(t,e,n){this.doc=t,this.platform=e,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=nl(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return t.\u0275fac=function(e){return new(e||t)(Kt(Lc),Kt(Uu),Kt(ty))},t.\u0275prov=lt({token:t,factory:t.\u0275fac}),t})(),iy=(()=>{class t{constructor(t,e){this.tokenService=t,this.headerName=e}intercept(t,e){const n=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e.handle(t);const r=this.tokenService.getToken();return null===r||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,r)})),e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(Kt(ny),Kt(ey))},t.\u0275prov=lt({token:t,factory:t.\u0275fac}),t})(),sy=(()=>{class t{constructor(t,e){this.backend=t,this.injector=e,this.chain=null}handle(t){if(null===this.chain){const t=this.injector.get(Qm,[]);this.chain=t.reduceRight((t,e)=>new Km(t,e),this.backend)}return this.chain.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(Kt(Nm),Kt(Js))},t.\u0275prov=lt({token:t,factory:t.\u0275fac}),t})(),oy=(()=>{class t{static disable(){return{ngModule:t,providers:[{provide:iy,useClass:Wm}]}}static withOptions(e={}){return{ngModule:t,providers:[e.cookieName?{provide:ty,useValue:e.cookieName}:[],e.headerName?{provide:ey,useValue:e.headerName}:[]]}}}return t.\u0275mod=ge({type:t}),t.\u0275inj=ht({factory:function(e){return new(e||t)},providers:[iy,{provide:Qm,useExisting:iy,multi:!0},{provide:ny,useClass:ry},{provide:ty,useValue:"XSRF-TOKEN"},{provide:ey,useValue:"X-XSRF-TOKEN"}]}),t})(),ay=(()=>{class t{}return t.\u0275mod=ge({type:t}),t.\u0275inj=ht({factory:function(e){return new(e||t)},providers:[Gm,{provide:Om,useClass:sy},Zm,{provide:Nm,useExisting:Zm},Jm,{provide:Xm,useExisting:Jm}],imports:[[oy.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),t})();function uy(t){mr()&&console.warn(`[@ant-design/icons-angular]: ${t}.`)}function cy(t){return Object(Am.generate)(t)[0]}function ly(t,e){switch(e){case"fill":return t+"-fill";case"outline":return t+"-o";case"twotone":return t+"-twotone";case void 0:return t;default:throw new Error(`[@ant-design/icons-angular]:Theme "${e}" is not a recognized theme!`)}}function hy(t){return"object"==typeof t&&"string"==typeof t.name&&("string"==typeof t.theme||void 0===t.theme)&&"string"==typeof t.icon}function fy(t){const e=t.split(":");switch(e.length){case 1:return[t,""];case 2:return[e[1],e[0]];default:throw new Error(`[@ant-design/icons-angular]:The icon type ${t} is not valid!`)}}function dy(){return new Error("[@ant-design/icons-angular]:<svg> tag not found.")}let py=(()=>{let t=class{constructor(t,e,n,r){this._rendererFactory=t,this._handler=e,this._document=n,this.sanitizer=r,this.defaultTheme="outline",this._svgDefinitions=new Map,this._svgRenderedDefinitions=new Map,this._inProgressFetches=new Map,this._assetsUrlRoot="",this._twoToneColorPalette={primaryColor:"#333333",secondaryColor:"#E6E6E6"},this._enableJsonpLoading=!1,this._jsonpIconLoad$=new C,this._renderer=this._rendererFactory.createRenderer(null,null),this._handler&&(this._http=new Gm(this._handler))}set twoToneColor({primaryColor:t,secondaryColor:e}){this._twoToneColorPalette.primaryColor=t,this._twoToneColorPalette.secondaryColor=e||cy(t)}get twoToneColor(){return Object.assign({},this._twoToneColorPalette)}useJsonpLoading(){this._enableJsonpLoading?uy("You are already using jsonp loading."):(this._enableJsonpLoading=!0,window.__ant_icon_load=t=>{this._jsonpIconLoad$.next(t)})}changeAssetsSource(t){this._assetsUrlRoot=t.endsWith("/")?t:t+"/"}addIcon(...t){t.forEach(t=>{this._svgDefinitions.set(ly(t.name,t.theme),t)})}addIconLiteral(t,e){const[n,r]=fy(t);if(!r)throw new Error(`[@ant-design/icons-angular]:Type should have a namespace. Try "namespace:${name}".`);this.addIcon({name:t,icon:e})}clear(){this._svgDefinitions.clear(),this._svgRenderedDefinitions.clear()}getRenderedContent(t,e){const n=hy(t)?t:this._svgDefinitions.get(t)||null;return(n?nh(n):this._loadIconDynamically(t)).pipe(M(n=>{if(!n)throw function(t){return new Error(`[@ant-design/icons-angular]:the icon ${t} does not exist or is not registered.`)}(t);return this._loadSVGFromCacheOrCreateNew(n,e)}))}getCachedIcons(){return this._svgDefinitions}_loadIconDynamically(t){if(!this._http&&!this._enableJsonpLoading)return nh((console.error('[@ant-design/icons-angular]: you need to import "HttpClientModule" to use dynamic importing..'),null));let e=this._inProgressFetches.get(t);if(!e){const[n,r]=fy(t),i=r?{name:t,icon:""}:function(t){const e=t.split("-"),n="o"===(r=e.splice(e.length-1,1)[0])?"outline":r;var r;return{name:e.join("-"),theme:n,icon:""}}(n),s=(r?`${this._assetsUrlRoot}assets/${r}/${n}`:`${this._assetsUrlRoot}assets/${i.theme}/${i.name}`)+(this._enableJsonpLoading?".js":".svg"),o=this.sanitizer.sanitize(jr.URL,s);if(!o)throw function(t){return new Error(`[@ant-design/icons-angular]:The url "${t}" is unsafe.`)}(s);e=(this._enableJsonpLoading?this._loadIconDynamicallyWithJsonp(i,o):this._http.get(o,{responseType:"text"}).pipe(M(t=>Object.assign(Object.assign({},i),{icon:t})))).pipe(cf(t=>this.addIcon(t)),ff(()=>this._inProgressFetches.delete(t)),Bh(()=>nh(null)),tt()),this._inProgressFetches.set(t,e)}return e}_loadIconDynamicallyWithJsonp(t,e){return new w(n=>{const r=this._document.createElement("script"),i=setTimeout(()=>{s(),n.error(new Error("[@ant-design/icons-angular]:Importing timeout error."))},6e3);function s(){r.parentNode.removeChild(r),clearTimeout(i)}r.src=e,this._document.body.appendChild(r),this._jsonpIconLoad$.pipe(kh(e=>e.name===t.name&&e.theme===t.theme),Gh(1)).subscribe(t=>{n.next(t),s()})})}_loadSVGFromCacheOrCreateNew(t,e){let n;const r=e||this._twoToneColorPalette.primaryColor,i=cy(r)||this._twoToneColorPalette.secondaryColor,s="twotone"===t.theme?function(t,e,n,r){return`${ly(t,e)}-${n}-${r}`}(t.name,t.theme,r,i):void 0===t.theme?t.name:ly(t.name,t.theme),o=this._svgRenderedDefinitions.get(s);return o?n=o.icon:(n=this._setSVGAttribute(this._colorizeSVGIcon(this._createSVGElementFromString(""!==fy(t.name)[1]?t.icon:t.icon.replace(/['"]#333['"]/g,'"primaryColor"').replace(/['"]#E6E6E6['"]/g,'"secondaryColor"').replace(/['"]#D9D9D9['"]/g,'"secondaryColor"').replace(/['"]#D8D8D8['"]/g,'"secondaryColor"')),"twotone"===t.theme,r,i)),this._svgRenderedDefinitions.set(s,Object.assign(Object.assign({},t),{icon:n}))),function(t){return t.cloneNode(!0)}(n)}_createSVGElementFromString(t){const e=this._document.createElement("div");e.innerHTML=t;const n=e.querySelector("svg");if(!n)throw dy;return n}_setSVGAttribute(t){return this._renderer.setAttribute(t,"width","1em"),this._renderer.setAttribute(t,"height","1em"),t}_colorizeSVGIcon(t,e,n,r){if(e){const e=t.childNodes,i=e.length;for(let t=0;t<i;t++){const i=e[t];"secondaryColor"===i.getAttribute("fill")?this._renderer.setAttribute(i,"fill",r):this._renderer.setAttribute(i,"fill",n)}}return this._renderer.setAttribute(t,"fill","currentColor"),t}};return t.\u0275fac=function(e){return new(e||t)(Kt(xa),Kt(Nm,8),Kt(Lc,8),Kt(ql))},t.\u0275prov=lt({token:t,factory:t.\u0275fac}),t})(),gy=(()=>{let t=class{constructor(t,e,n){this._iconService=t,this._elementRef=e,this._renderer=n}ngOnChanges(t){(t.type||t.theme||t.twoToneColor)&&this._changeIcon()}_changeIcon(){return new Promise(t=>{this.type?this._iconService.getRenderedContent(this._parseIconType(this.type,this.theme),this.twoToneColor).subscribe(e=>{this._setSVGElement(e),t(e)}):(this._clearSVGElement(),t(null))})}_parseIconType(t,e){if(hy(t))return t;{const[n,r]=fy(t);return r?t:function(t){return t.endsWith("-fill")||t.endsWith("-o")||t.endsWith("-twotone")}(n)?(e&&uy(`'type' ${n} already gets a theme inside so 'theme' ${e} would be ignored`),n):ly(n,e||this._iconService.defaultTheme)}}_setSVGElement(t){this._clearSVGElement(),this._renderer.appendChild(this._elementRef.nativeElement,t)}_clearSVGElement(){const t=this._elementRef.nativeElement,e=t.childNodes;for(let n=e.length-1;n>=0;n--){const r=e[n];"svg"===r.tagName.toLowerCase()&&this._renderer.removeChild(t,r)}}};return t.\u0275fac=function(e){return new(e||t)(bo(py),bo(Ca),bo(Aa))},t.\u0275dir=ye({type:t,selectors:[["","antIcon",""]],inputs:{type:"type",theme:"theme",twoToneColor:"twoToneColor"},features:[ba]}),t})();const my={name:"star",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M908.1 353.1l-253.9-36.9L540.7 86.1c-3.1-6.3-8.2-11.4-14.5-14.5-15.8-7.8-35-1.3-42.9 14.5L369.8 316.2l-253.9 36.9c-7 1-13.4 4.3-18.3 9.3a32.05 32.05 0 00.6 45.3l183.7 179.1-43.4 252.9a31.95 31.95 0 0046.4 33.7L512 754l227.1 119.4c6.2 3.3 13.4 4.4 20.3 3.2 17.4-3 29.1-19.5 26.1-36.9l-43.4-252.9 183.7-179.1c5-4.9 8.3-11.3 9.3-18.3 2.7-17.5-9.5-33.7-27-36.3z" /></svg>'},yy=[{name:"bars",theme:"outline",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M912 192H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM104 228a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0z" /></svg>'},{name:"calendar",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M880 184H712v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H384v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H144c-17.7 0-32 14.3-32 32v664c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V216c0-17.7-14.3-32-32-32zm-40 656H184V460h656v380zM184 392V256h128v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h256v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h128v136H184z" /></svg>'},{name:"caret-up",theme:"fill",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M858.9 689L530.5 308.2c-9.4-10.9-27.5-10.9-37 0L165.1 689c-12.2 14.2-1.2 35 18.5 35h656.8c19.7 0 30.7-20.8 18.5-35z" /></svg>'},{name:"caret-up",theme:"outline",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M858.9 689L530.5 308.2c-9.4-10.9-27.5-10.9-37 0L165.1 689c-12.2 14.2-1.2 35 18.5 35h656.8c19.7 0 30.7-20.8 18.5-35z" /></svg>'},{name:"caret-down",theme:"fill",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z" /></svg>'},{name:"caret-down",theme:"outline",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z" /></svg>'},{name:"check-circle",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z" /></svg>'},{name:"check-circle",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M699 353h-46.9c-10.2 0-19.9 4.9-25.9 13.3L469 584.3l-71.2-98.8c-6-8.3-15.6-13.3-25.9-13.3H325c-6.5 0-10.3 7.4-6.5 12.7l124.6 172.8a31.8 31.8 0 0051.7 0l210.6-292c3.9-5.3.1-12.7-6.4-12.7z" /><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" /></svg>'},{name:"check",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z" /></svg>'},{name:"clock-circle",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" /><path d="M686.7 638.6L544.1 535.5V288c0-4.4-3.6-8-8-8H488c-4.4 0-8 3.6-8 8v275.4c0 2.6 1.2 5 3.3 6.5l165.4 120.6c3.6 2.6 8.6 1.8 11.2-1.7l28.6-39c2.6-3.7 1.8-8.7-1.8-11.2z" /></svg>'},{name:"close-circle",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M685.4 354.8c0-4.4-3.6-8-8-8l-66 .3L512 465.6l-99.3-118.4-66.1-.3c-4.4 0-8 3.5-8 8 0 1.9.7 3.7 1.9 5.2l130.1 155L340.5 670a8.32 8.32 0 00-1.9 5.2c0 4.4 3.6 8 8 8l66.1-.3L512 564.4l99.3 118.4 66 .3c4.4 0 8-3.5 8-8 0-1.9-.7-3.7-1.9-5.2L553.5 515l130.1-155c1.2-1.4 1.8-3.3 1.8-5.2z" /><path d="M512 65C264.6 65 64 265.6 64 513s200.6 448 448 448 448-200.6 448-448S759.4 65 512 65zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" /></svg>'},{name:"close-circle",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm165.4 618.2l-66-.3L512 563.4l-99.3 118.4-66.1.3c-4.4 0-8-3.5-8-8 0-1.9.7-3.7 1.9-5.2l130.1-155L340.5 359a8.32 8.32 0 01-1.9-5.2c0-4.4 3.6-8 8-8l66.1.3L512 464.6l99.3-118.4 66-.3c4.4 0 8 3.5 8 8 0 1.9-.7 3.7-1.9 5.2L553.5 514l130 155c1.2 1.5 1.9 3.3 1.9 5.2 0 4.4-3.6 8-8 8z" /></svg>'},{name:"close",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M563.8 512l262.5-312.9c4.4-5.2.7-13.1-6.1-13.1h-79.8c-4.7 0-9.2 2.1-12.3 5.7L511.6 449.8 295.1 191.7c-3-3.6-7.5-5.7-12.3-5.7H203c-6.8 0-10.5 7.9-6.1 13.1L459.4 512 196.9 824.9A7.95 7.95 0 00203 838h79.8c4.7 0 9.2-2.1 12.3-5.7l216.5-258.1 216.5 258.1c3 3.6 7.5 5.7 12.3 5.7h79.8c6.8 0 10.5-7.9 6.1-13.1L563.8 512z" /></svg>'},{name:"copy",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2L263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z" /></svg>'},{name:"double-left",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M272.9 512l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L186.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H532c6.7 0 10.4-7.7 6.3-12.9L272.9 512zm304 0l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L490.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H836c6.7 0 10.4-7.7 6.3-12.9L576.9 512z" /></svg>'},{name:"double-right",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M533.2 492.3L277.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H188c-6.7 0-10.4 7.7-6.3 12.9L447.1 512 181.7 851.1A7.98 7.98 0 00188 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5zm304 0L581.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H492c-6.7 0-10.4 7.7-6.3 12.9L751.1 512 485.7 851.1A7.98 7.98 0 00492 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5z" /></svg>'},{name:"down",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z" /></svg>'},{name:"edit",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z" /></svg>'},{name:"ellipsis",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M176 511a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0z" /></svg>'},{name:"exclamation-circle",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z" /></svg>'},{name:"exclamation-circle",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" /><path d="M464 688a48 48 0 1096 0 48 48 0 10-96 0zm24-112h48c4.4 0 8-3.6 8-8V296c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8z" /></svg>'},{name:"eye",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z" /></svg>'},{name:"file",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M854.6 288.7c6 6 9.4 14.1 9.4 22.6V928c0 17.7-14.3 32-32 32H192c-17.7 0-32-14.3-32-32V96c0-17.7 14.3-32 32-32h424.7c8.5 0 16.7 3.4 22.7 9.4l215.2 215.3zM790.2 326L602 137.8V326h188.2z" /></svg>'},{name:"file",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494z" /></svg>'},{name:"filter",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M349 838c0 17.7 14.2 32 31.8 32h262.4c17.6 0 31.8-14.3 31.8-32V642H349v196zm531.1-684H143.9c-24.5 0-39.8 26.7-27.5 48l221.3 376h348.8l221.3-376c12.1-21.3-3.2-48-27.7-48z" /></svg>'},{name:"info-circle",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm32 664c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V456c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272zm-32-344a48.01 48.01 0 010-96 48.01 48.01 0 010 96z" /></svg>'},{name:"info-circle",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" /><path d="M464 336a48 48 0 1096 0 48 48 0 10-96 0zm72 112h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V456c0-4.4-3.6-8-8-8z" /></svg>'},{name:"left",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 000 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z" /></svg>'},{name:"loading",theme:"outline",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z" /></svg>'},{name:"paper-clip",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M779.3 196.6c-94.2-94.2-247.6-94.2-341.7 0l-261 260.8c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l261-260.8c32.4-32.4 75.5-50.2 121.3-50.2s88.9 17.8 121.2 50.2c32.4 32.4 50.2 75.5 50.2 121.2 0 45.8-17.8 88.8-50.2 121.2l-266 265.9-43.1 43.1c-40.3 40.3-105.8 40.3-146.1 0-19.5-19.5-30.2-45.4-30.2-73s10.7-53.5 30.2-73l263.9-263.8c6.7-6.6 15.5-10.3 24.9-10.3h.1c9.4 0 18.1 3.7 24.7 10.3 6.7 6.7 10.3 15.5 10.3 24.9 0 9.3-3.7 18.1-10.3 24.7L372.4 653c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l215.6-215.6c19.9-19.9 30.8-46.3 30.8-74.4s-11-54.6-30.8-74.4c-41.1-41.1-107.9-41-149 0L463 364 224.8 602.1A172.22 172.22 0 00174 724.8c0 46.3 18.1 89.8 50.8 122.5 33.9 33.8 78.3 50.7 122.7 50.7 44.4 0 88.8-16.9 122.6-50.7l309.2-309C824.8 492.7 850 432 850 367.5c.1-64.6-25.1-125.3-70.7-170.9z" /></svg>'},{name:"question-circle",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" /><path d="M623.6 316.7C593.6 290.4 554 276 512 276s-81.6 14.5-111.6 40.7C369.2 344 352 380.7 352 420v7.6c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V420c0-44.1 43.1-80 96-80s96 35.9 96 80c0 31.1-22 59.6-56.1 72.7-21.2 8.1-39.2 22.3-52.1 40.9-13.1 19-19.9 41.8-19.9 64.9V620c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-22.7a48.3 48.3 0 0130.9-44.8c59-22.7 97.1-74.7 97.1-132.5.1-39.3-17.1-76-48.3-103.3zM472 732a40 40 0 1080 0 40 40 0 10-80 0z" /></svg>'},{name:"right",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M765.7 486.8L314.9 134.7A7.97 7.97 0 00302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 000-50.4z" /></svg>'},my,{name:"search",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z" /></svg>'},my,{name:"upload",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M400 317.7h73.9V656c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V317.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 163a8 8 0 00-12.6 0l-112 141.7c-4.1 5.3-.4 13 6.3 13zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z" /></svg>'},{name:"up",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M890.5 755.3L537.9 269.2c-12.8-17.6-39-17.6-51.7 0L133.5 755.3A8 8 0 00140 768h75c5.1 0 9.9-2.5 12.9-6.6L512 369.8l284.1 391.6c3 4.1 7.8 6.6 12.9 6.6h75c6.5 0 10.3-7.4 6.5-12.7z" /></svg>'},{name:"swap-right",theme:"outline",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M873.1 596.2l-164-208A32 32 0 00684 376h-64.8c-6.7 0-10.4 7.7-6.3 13l144.3 183H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h695.9c26.8 0 41.7-30.8 25.2-51.8z" /></svg>'}],vy=new Mt("nz_icons");let by=(()=>{class t extends py{constructor(t,e,n,r,i,s){super(t,r,i,e),this.nzConfigService=n,this.configUpdated$=new C,this.iconfontCache=new Set,this.onConfigChange(),this.addIcon(...yy,...s||[]),this.configDefaultTwotoneColor(),this.configDefaultTheme()}normalizeSvgElement(t){t.getAttribute("viewBox")||this._renderer.setAttribute(t,"viewBox","0 0 1024 1024"),t.getAttribute("width")&&t.getAttribute("height")||(this._renderer.setAttribute(t,"width","1em"),this._renderer.setAttribute(t,"height","1em")),t.getAttribute("fill")||this._renderer.setAttribute(t,"fill","currentColor")}fetchFromIconfont(t){const{scriptUrl:e}=t;if(this._document&&!this.iconfontCache.has(e)){const t=this._renderer.createElement("script");this._renderer.setAttribute(t,"src",e),this._renderer.setAttribute(t,"data-namespace",e.replace(/^(https?|http):/g,"")),this._renderer.appendChild(this._document.body,t),this.iconfontCache.add(e)}}createIconfontIcon(t){return this._createSVGElementFromString(`<svg><use xlink:href="${t}"></svg>`)}onConfigChange(){this.nzConfigService.getConfigChangeEventForComponent("icon").subscribe(()=>{this.configDefaultTwotoneColor(),this.configDefaultTheme(),this.configUpdated$.next()})}configDefaultTheme(){const t=this.getConfig();this.defaultTheme=t.nzTheme||"outline"}configDefaultTwotoneColor(){const t=this.getConfig().nzTwotoneColor||"#1890ff";let e="#1890ff";t&&(t.startsWith("#")?e=t:pm("Twotone color must be a hex color!")),this.twoToneColor={primaryColor:e}}getConfig(){return this.nzConfigService.getConfigForComponent("icon")||{}}}return t.\u0275fac=function(e){return new(e||t)(Kt(xa),Kt(ql),Kt(hm),Kt(Nm,8),Kt(Lc,8),Kt(vy,8))},t.\u0275prov=lt({factory:function(){return new t(Kt(xa),Kt(ql),Kt(hm),Kt(Nm,8),Kt(Lc,8),Kt(vy,8))},token:t,providedIn:"root"}),t})();const wy=new Mt("nz_icons_patch");let _y=(()=>{class t{constructor(t,e){this.extraIcons=t,this.rootIconService=e,this.patched=!1}doPatch(){this.patched||(this.extraIcons.forEach(t=>this.rootIconService.addIcon(t)),this.patched=!0)}}return t.\u0275fac=function(e){return new(e||t)(Kt(wy,2),Kt(by))},t.\u0275prov=lt({token:t,factory:t.\u0275fac}),t})(),Sy=(()=>{class t extends gy{constructor(t,e,n,r){super(e,t,n),this.iconService=e,this.renderer=n,this.cacheClassName=null,this.nzRotate=0,this.spin=!1,r&&r.doPatch(),this.el=t.nativeElement}set nzSpin(t){this.spin=t}set nzType(t){this.type=t}set nzTheme(t){this.theme=t}set nzTwotoneColor(t){this.twoToneColor=t}set nzIconfont(t){this.iconfont=t}ngOnChanges(t){const{nzType:e,nzTwotoneColor:n,nzSpin:r,nzTheme:i,nzRotate:s}=t;e||n||r||i?this.changeIcon2():s?this.handleRotate(this.el.firstChild):this._setSVGElement(this.iconService.createIconfontIcon("#"+this.iconfont))}ngOnInit(){this.renderer.setAttribute(this.el,"class",("anticon "+this.el.className).trim())}ngAfterContentChecked(){if(!this.type){const t=this.el.children;let e=t.length;if(!this.type&&t.length)for(;e--;){const n=t[e];"svg"===n.tagName.toLowerCase()&&this.iconService.normalizeSvgElement(n)}}}changeIcon2(){this.setClassName(),this._changeIcon().then(t=>{t&&(this.setSVGData(t),this.handleSpin(t),this.handleRotate(t))})}handleSpin(t){this.spin||"loading"===this.type?this.renderer.addClass(t,"anticon-spin"):this.renderer.removeClass(t,"anticon-spin")}handleRotate(t){this.nzRotate?this.renderer.setAttribute(t,"style",`transform: rotate(${this.nzRotate}deg)`):this.renderer.removeAttribute(t,"style")}setClassName(){this.cacheClassName&&this.renderer.removeClass(this.el,this.cacheClassName),this.cacheClassName="anticon-"+this.type,this.renderer.addClass(this.el,this.cacheClassName)}setSVGData(t){this.renderer.setAttribute(t,"data-icon",this.type),this.renderer.setAttribute(t,"aria-hidden","true")}}return t.\u0275fac=function(e){return new(e||t)(bo(Ca),bo(by),bo(Aa),bo(_y,8))},t.\u0275dir=ye({type:t,selectors:[["","nz-icon",""]],hostVars:2,hostBindings:function(t,e){2&t&&Qo("anticon",!0)},inputs:{nzRotate:"nzRotate",nzSpin:"nzSpin",nzType:"nzType",nzTheme:"nzTheme",nzTwotoneColor:"nzTwotoneColor",nzIconfont:"nzIconfont"},exportAs:["nzIcon"],features:[da,ba]}),Kg([vm(),Qg("design:type",Boolean),Qg("design:paramtypes",[Boolean])],t.prototype,"nzSpin",null),t})(),Ey=(()=>{class t{static forRoot(e){return{ngModule:t,providers:[{provide:vy,useValue:e}]}}static forChild(e){return{ngModule:t,providers:[_y,{provide:wy,useValue:e}]}}}return t.\u0275mod=ge({type:t}),t.\u0275inj=ht({factory:function(e){return new(e||t)},imports:[[km]]}),t})();const Ty=["*"];function Cy(t,e){if(1&t&&(xo(0),Io(1,"i",6),ko()),2&t){const t=e.$implicit,n=Po(2);hi(1),So("nzType",t||"right")("nzRotate",n.nzActive?90:0)}}function Iy(t,e){if(1&t&&(xo(0),yo(1,Cy,2,2,"ng-container",2),ko()),2&t){const t=Po();hi(1),So("nzStringTemplateOutlet",t.nzExpandedIcon)}}function xy(t,e){if(1&t&&(xo(0),oa(1),ko()),2&t){const t=Po();hi(1),aa(t.nzHeader)}}function ky(t,e){if(1&t&&(xo(0),oa(1),ko()),2&t){const t=Po(2);hi(1),aa(t.nzExtra)}}function Ay(t,e){if(1&t&&(To(0,"div",7),yo(1,ky,2,1,"ng-container",2),Co()),2&t){const t=Po();hi(1),So("nzStringTemplateOutlet",t.nzExtra)}}let Oy=(()=>{class t{constructor(t,e){this.nzConfigService=t,this.cdr=e,this.nzAccordion=!1,this.nzBordered=!0,this.nzExpandIconPosition="left",this.listOfNzCollapsePanelComponent=[],this.destroy$=new C,this.nzConfigService.getConfigChangeEventForComponent("collapse").pipe(wm(this.destroy$)).subscribe(()=>{this.cdr.markForCheck()})}addPanel(t){this.listOfNzCollapsePanelComponent.push(t)}removePanel(t){this.listOfNzCollapsePanelComponent.splice(this.listOfNzCollapsePanelComponent.indexOf(t),1)}click(t){this.nzAccordion&&!t.nzActive&&this.listOfNzCollapsePanelComponent.filter(e=>e!==t).forEach(t=>{t.nzActive&&(t.nzActive=!1,t.nzActiveChange.emit(t.nzActive),t.markForCheck())}),t.nzActive=!t.nzActive,t.nzActiveChange.emit(t.nzActive)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return t.\u0275fac=function(e){return new(e||t)(bo(hm),bo(Ms))},t.\u0275cmp=he({type:t,selectors:[["nz-collapse"]],hostVars:8,hostBindings:function(t,e){2&t&&Qo("ant-collapse",!0)("ant-collapse-icon-position-left","left"===e.nzExpandIconPosition)("ant-collapse-icon-position-right","right"===e.nzExpandIconPosition)("ant-collapse-borderless",!e.nzBordered)},inputs:{nzAccordion:"nzAccordion",nzBordered:"nzBordered",nzExpandIconPosition:"nzExpandIconPosition"},exportAs:["nzCollapse"],ngContentSelectors:Ty,decls:1,vars:0,template:function(t,e){1&t&&(Lo(),Fo(0))},encapsulation:2,changeDetection:0}),Kg([fm("collapse"),vm(),Qg("design:type",Boolean)],t.prototype,"nzAccordion",void 0),Kg([fm("collapse"),vm(),Qg("design:type",Boolean)],t.prototype,"nzBordered",void 0),t})(),Ny=(()=>{class t{constructor(t,e,n){this.nzConfigService=t,this.cdr=e,this.nzCollapseComponent=n,this.nzActive=!1,this.nzDisabled=!1,this.nzShowArrow=!0,this.nzActiveChange=new vu,this.destroy$=new C,this.nzConfigService.getConfigChangeEventForComponent("collapsePanel").pipe(wm(this.destroy$)).subscribe(()=>{this.cdr.markForCheck()})}clickHeader(){this.nzDisabled||this.nzCollapseComponent.click(this)}markForCheck(){this.cdr.markForCheck()}ngOnInit(){this.nzCollapseComponent.addPanel(this)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.nzCollapseComponent.removePanel(this)}}return t.\u0275fac=function(e){return new(e||t)(bo(hm),bo(Ms),bo(Oy,1))},t.\u0275cmp=he({type:t,selectors:[["nz-collapse-panel"]],hostVars:8,hostBindings:function(t,e){2&t&&Qo("ant-collapse-item",!0)("ant-collapse-no-arrow",!e.nzShowArrow)("ant-collapse-item-active",e.nzActive)("ant-collapse-item-disabled",e.nzDisabled)},inputs:{nzActive:"nzActive",nzDisabled:"nzDisabled",nzShowArrow:"nzShowArrow",nzExtra:"nzExtra",nzHeader:"nzHeader",nzExpandedIcon:"nzExpandedIcon"},outputs:{nzActiveChange:"nzActiveChange"},exportAs:["nzCollapsePanel"],ngContentSelectors:Ty,decls:7,vars:7,consts:[["role","tab",1,"ant-collapse-header",3,"click"],[4,"ngIf"],[4,"nzStringTemplateOutlet"],["class","ant-collapse-extra",4,"ngIf"],[1,"ant-collapse-content"],[1,"ant-collapse-content-box"],["nz-icon","",1,"ant-collapse-arrow",3,"nzType","nzRotate"],[1,"ant-collapse-extra"]],template:function(t,e){1&t&&(Lo(),To(0,"div",0),Oo("click",(function(){return e.clickHeader()})),yo(1,Iy,2,1,"ng-container",1),yo(2,xy,2,1,"ng-container",2),yo(3,Ay,2,1,"div",3),Co(),To(4,"div",4),To(5,"div",5),Fo(6),Co(),Co()),2&t&&(po("aria-expanded",e.nzActive),hi(1),So("ngIf",e.nzShowArrow),hi(1),So("nzStringTemplateOutlet",e.nzHeader),hi(1),So("ngIf",e.nzExtra),hi(1),Qo("ant-collapse-content-active",e.nzActive),So("@collapseMotion",e.nzActive?"expanded":"hidden"))},directives:[al,Em,Sy],encapsulation:2,data:{animation:[om]},changeDetection:0}),Kg([vm(),Qg("design:type",Object)],t.prototype,"nzActive",void 0),Kg([vm(),Qg("design:type",Object)],t.prototype,"nzDisabled",void 0),Kg([fm("collapsePanel"),vm(),Qg("design:type",Boolean)],t.prototype,"nzShowArrow",void 0),t})(),Dy=(()=>{class t{}return t.\u0275mod=ge({type:t}),t.\u0275inj=ht({factory:function(e){return new(e||t)},imports:[[fl,Ey,Im]]}),t})(),Py=(()=>{class t{constructor(t){this.sanitizer=t}transform(t,e){switch(e){case"html":return this.sanitizer.bypassSecurityTrustHtml(t);case"style":return this.sanitizer.bypassSecurityTrustStyle(t);case"script":return this.sanitizer.bypassSecurityTrustScript(t);case"url":return this.sanitizer.bypassSecurityTrustUrl(t);case"resourceUrl":return this.sanitizer.bypassSecurityTrustResourceUrl(t);default:throw new Error("Invalid safe type specified: "+e)}}}return t.\u0275fac=function(e){return new(e||t)(bo(ql))},t.\u0275pipe={type:(e={name:"safe",type:t,pure:!0}).type,name:e.name,factory:null,pure:!1!==e.pure,onDestroy:e.type.prototype.ngOnDestroy||null},t;var e})();function Ry(t,e){if(1&t&&(To(0,"li",8),Io(1,"img",9),mu(2,"safe"),To(3,"span",10),oa(4),Co(),Co()),2&t){const t=e.$implicit;hi(1),So("src",yu(2,2,t.imageUrl,"url"),Br),hi(3),aa(t.name)}}function Ly(t,e){if(1&t&&(To(0,"nz-collapse-panel",5),To(1,"p"),oa(2),Co(),To(3,"p"),oa(4),Co(),To(5,"ul",6),yo(6,Ry,5,5,"li",7),Co(),Co()),2&t){const t=e.$implicit,n=e.index;zo("nzHeader","",t.title," - ",t.company,""),zo("nzExtra","",t.startDate," - ",t.endDate,""),So("nzActive",0==n),hi(2),ua("Position: ",t.position,""),hi(2),aa(t.duties),hi(2),So("ngForOf",t.techStack)}}let Fy=(()=>{class t{constructor(){this.experienceData=[{title:"Ingeniero en Software",position:"Teach Lead",company:"MITS",city:"Santiago, Chile",duties:"Business Analysis. Tech leading. Architecting. Building Proofs of Concept. Implementing solutions using AEM, Angular and Spring as a microservice.",startDate:"Octubre 2021",endDate:"Present",techStack:[{name:"Docker",imageUrl:"https://cdn.jsdelivr.net/gh/devicons/devicon/icons/docker/docker-original.svg"},{name:"Kubernetes",imageUrl:"https://cdn.jsdelivr.net/gh/devicons/devicon/icons/kubernetes/kubernetes-plain.svg"},{name:"Gitlab",imageUrl:"https://cdn.jsdelivr.net/gh/devicons/devicon/icons/gitlab/gitlab-original.svg"},{name:"NodeJS",imageUrl:"https://cdn.jsdelivr.net/gh/devicons/devicon/icons/nodejs/nodejs-original.svg"},{name:"NestJS",imageUrl:"https://cdn.jsdelivr.net/gh/devicons/devicon/icons/nestjs/nestjs-plain.svg"},{name:"ReactJS",imageUrl:"https://cdn.jsdelivr.net/gh/devicons/devicon/icons/react/react-original.svg"},{name:"GCP",imageUrl:"https://cdn.jsdelivr.net/gh/devicons/devicon/icons/googlecloud/googlecloud-original.svg"},{imageUrl:"assets/images/icons/terraform.png",name:"Terraform"}]},{title:"Ingeniero en Software",position:"Full Stack Developer",company:"SmartJob",city:"Santiago, Chile",duties:"Consultora de desarrollo de proyectos y con un alto n\xfamero de clientes, entre los que ejerzo labores en Falabella Financiero [FIFTECH]",startDate:"Mayo 2021",endDate:"Octubre 2021",techStack:[{name:"Docker",imageUrl:"https://cdn.jsdelivr.net/gh/devicons/devicon/icons/docker/docker-original.svg"},{name:"Kubernetes",imageUrl:"https://cdn.jsdelivr.net/gh/devicons/devicon/icons/kubernetes/kubernetes-plain.svg"},{name:"Gitlab",imageUrl:"https://cdn.jsdelivr.net/gh/devicons/devicon/icons/gitlab/gitlab-original.svg"},{name:"Jenkins",imageUrl:"https://cdn.jsdelivr.net/gh/devicons/devicon/icons/jenkins/jenkins-original.svg"},{name:"Nodejs",imageUrl:"https://cdn.jsdelivr.net/gh/devicons/devicon/icons/nodejs/nodejs-original.svg"},{name:"Angularjs",imageUrl:"https://cdn.jsdelivr.net/gh/devicons/devicon/icons/angularjs/angularjs-original.svg"},{name:"Redis",imageUrl:"https://cdn.jsdelivr.net/gh/devicons/devicon/icons/redis/redis-original.svg"},{name:"MySQL",imageUrl:"https://cdn.jsdelivr.net/gh/devicons/devicon/icons/mysql/mysql-original.svg"},{name:"Vault",imageUrl:"assets/images/icons/vault.png"},{name:"Harbor",imageUrl:"https://goharbor.io/img/logos/harbor-icon-color.png"},{name:"Portainer",imageUrl:"https://onthedock.github.io/images/portainer.png"},{name:"Terraform",imageUrl:"assets/images/icons/terraform.png"},{name:"Azure",imageUrl:"https://cdn.jsdelivr.net/gh/devicons/devicon/icons/azure/azure-original.svg"}]},{title:"Ingeniero en Software",position:"Full Stack Developer",company:"Kibernum Chile",city:"Santiago, Chile",duties:"Consultora de 29 a\xf1os de experiencia en desarrollo de proyectos y con un alto n\xfamero de clientes, entre los que ejerc\xed labores en Sura Inversiones",startDate:"Septiembre 2020",endDate:"Mayo 2021",techStack:[{name:"Docker",imageUrl:"https://cdn.jsdelivr.net/gh/devicons/devicon/icons/docker/docker-original.svg"},{name:"Kubernetes",imageUrl:"https://cdn.jsdelivr.net/gh/devicons/devicon/icons/kubernetes/kubernetes-plain.svg"},{name:"Gitlab",imageUrl:"https://cdn.jsdelivr.net/gh/devicons/devicon/icons/gitlab/gitlab-original.svg"},{name:"NodeJS",imageUrl:"https://cdn.jsdelivr.net/gh/devicons/devicon/icons/nodejs/nodejs-original.svg"},{name:"NestJS",imageUrl:"https://cdn.jsdelivr.net/gh/devicons/devicon/icons/nestjs/nestjs-plain.svg"},{name:"Angularjs",imageUrl:"https://cdn.jsdelivr.net/gh/devicons/devicon/icons/angularjs/angularjs-original.svg"},{name:"MySQL",imageUrl:"https://cdn.jsdelivr.net/gh/devicons/devicon/icons/mysql/mysql-original.svg"},{name:"Firebase",imageUrl:"https://cdn.jsdelivr.net/gh/devicons/devicon/icons/firebase/firebase-plain.svg"},{name:"GCP",imageUrl:"https://cdn.jsdelivr.net/gh/devicons/devicon/icons/googlecloud/googlecloud-original.svg"}]},{title:"Ingeniero en Software",position:"Full Stack Developer",company:"Imagemaker S.A",city:"Santiago, Chile",duties:"Consultora de 20 a\xf1os de experiencia en desarrollo de proyectos y con un alto n\xfamero de clientes, entre los que ejerc\xed labores en Falabella Retail y Cencosud Scotiabank.",startDate:"Noviembre 2019",endDate:"Agosto 2020",techStack:[{name:"Docker",imageUrl:"https://cdn.jsdelivr.net/gh/devicons/devicon/icons/docker/docker-original.svg"},{name:"Kubernetes",imageUrl:"https://cdn.jsdelivr.net/gh/devicons/devicon/icons/kubernetes/kubernetes-plain.svg"},{name:"Gitlab",imageUrl:"https://cdn.jsdelivr.net/gh/devicons/devicon/icons/gitlab/gitlab-original.svg"},{name:"NodeJS",imageUrl:"https://cdn.jsdelivr.net/gh/devicons/devicon/icons/nodejs/nodejs-original.svg"},{name:"Angularjs",imageUrl:"https://cdn.jsdelivr.net/gh/devicons/devicon/icons/angularjs/angularjs-original.svg"},{name:"PostgreSQL",imageUrl:"https://cdn.jsdelivr.net/gh/devicons/devicon/icons/postgresql/postgresql-original.svg"},{name:"GCP",imageUrl:"https://cdn.jsdelivr.net/gh/devicons/devicon/icons/googlecloud/googlecloud-original.svg"},{name:"Azure",imageUrl:"https://cdn.jsdelivr.net/gh/devicons/devicon/icons/azure/azure-original.svg"}]},{title:"Analyst Deeveloper",position:"Full Stack Developer",company:"StarConsulting",city:"Santiago, Chile",duties:"Consultora SAP servicios en diversos mercados entregando  consultor\xeda y proyectos en SAP y SAP FIORI",startDate:"Enero 2019",endDate:"Noviembre 2020",techStack:[{name:"Java",imageUrl:"https://cdn.jsdelivr.net/gh/devicons/devicon/icons/java/java-original.svg"},{name:"AngularJS",imageUrl:"https://cdn.jsdelivr.net/gh/devicons/devicon/icons/angularjs/angularjs-original.svg"},{name:"NodeJS",imageUrl:"https://cdn.jsdelivr.net/gh/devicons/devicon/icons/nodejs/nodejs-original.svg"},{name:"AWS",imageUrl:"https://cdn.jsdelivr.net/gh/devicons/devicon/icons/amazonwebservices/amazonwebservices-original.svg"}]}]}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=he({type:t,selectors:[["app-experience"]],decls:6,vars:2,consts:[["id","experience",1,"resume-section","p-3","p-lg-5","d-flex","flex-column"],[1,"my-auto"],[1,"primary-text","mb-5"],[3,"nzBordered"],[3,"nzHeader","nzActive","nzExtra",4,"ngFor","ngForOf"],[3,"nzHeader","nzActive","nzExtra"],[1,"list-inline"],["class","list-inline-item",4,"ngFor","ngForOf"],[1,"list-inline-item"],[3,"src"],[1,"span-stack"]],template:function(t,e){1&t&&(To(0,"section",0),To(1,"div",1),To(2,"h2",2),oa(3,"Experience"),Co(),To(4,"nz-collapse",3),yo(5,Ly,7,8,"nz-collapse-panel",4),Co(),Co(),Co()),2&t&&(hi(4),So("nzBordered",!1),hi(1),So("ngForOf",e.experienceData))},directives:[Oy,sl,Ny],pipes:[Py],styles:[".devicons[_ngcontent-%COMP%]{font-size:1.5rem}.span-stack[_ngcontent-%COMP%]{font-size:18px;margin:5px;font-weight:700}img[_ngcontent-%COMP%]{max-width:3rem;width:3rem}"]}),t})();function My(t,e){if(1&t&&(To(0,"li",5),To(1,"div",6),To(2,"i",7),oa(3),Co(),Co(),Co()),2&t){const t=e.$implicit;hi(2),la("inticons mb-3 fa ",t.icon,""),hi(1),aa(t.name)}}let jy=(()=>{class t{constructor(){this.interests=[{name:"Photography",icon:"fa-camera-retro"},{name:"Programming",icon:"fa-code"},{name:"Sports",icon:"fa-dumbbell"},{name:"Gaming",icon:"fa-gamepad"},{name:"Nature",icon:"fa-feather-alt"}]}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=he({type:t,selectors:[["app-interests"]],decls:6,vars:1,consts:[["id","interests",1,"resume-section","p-3","p-lg-5","d-flex","flex-column"],[1,"my-auto"],[1,"primary-text","mb-5"],[1,"list-inline"],["class","list-inline-item",4,"ngFor","ngForOf"],[1,"list-inline-item"],[1,"inline-container","mr-5","mb-4"],["placement","bottom"]],template:function(t,e){1&t&&(To(0,"section",0),To(1,"div",1),To(2,"h2",2),oa(3,"Interests"),Co(),To(4,"ul",3),yo(5,My,4,4,"li",4),Co(),Co(),Co()),2&t&&(hi(5),So("ngForOf",e.interests))},directives:[sl],styles:[".inticons[_ngcontent-%COMP%]{font-size:5rem}.icon-text[_ngcontent-%COMP%]{text-align:center}.inticons[_ngcontent-%COMP%]:hover{color:#6e74aa}.inline-container[_ngcontent-%COMP%]{display:inline-block;position:relative}"]}),t})(),zy=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=he({type:t,selectors:[["app-not-found"]],decls:2,vars:0,template:function(t,e){1&t&&(To(0,"p"),oa(1,"not-found works!"),Co())},styles:[""]}),t})(),Uy=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=he({type:t,selectors:[["app-projects"]],decls:6,vars:0,consts:[["id","projects",1,"resume-section","p-3","p-lg-5","d-flex","d-column"],[1,"my-auto"],[1,"mb-5","primary-text"],[1,"mb-5","text-muted"]],template:function(t,e){1&t&&(To(0,"section",0),To(1,"div",1),To(2,"h1",2),oa(3,"Projects"),Co(),To(4,"h2",3),oa(5,"Coming Soon!"),Co(),Co(),Co())},styles:[""]}),t})(),Vy=(()=>{class t{}return t.\u0275mod=ge({type:t}),t.\u0275inj=ht({factory:function(e){return new(e||t)}}),t})();const qy=new Set;let By,Hy=(()=>{class t{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):$y}matchMedia(t){return this._platform.WEBKIT&&function(t){if(!qy.has(t))try{By||(By=document.createElement("style"),By.setAttribute("type","text/css"),document.head.appendChild(By)),By.sheet&&(By.sheet.insertRule(`@media ${t} {.fx-query-test{ }}`,0),qy.add(t))}catch(e){console.error(e)}}(t),this._matchMedia(t)}}return t.\u0275fac=function(e){return new(e||t)(Kt(xm))},t.\u0275prov=lt({factory:function(){return new t(Kt(xm))},token:t,providedIn:"root"}),t})();function $y(t){return{matches:"all"===t||""===t,media:t,addListener:()=>{},removeListener:()=>{}}}class Gy{constructor(t){this.durationSelector=t}call(t,e){return e.subscribe(new Ky(t,this.durationSelector))}}class Ky extends F{constructor(t,e){super(t),this.durationSelector=e,this.hasValue=!1}_next(t){if(this.value=t,this.hasValue=!0,!this.throttled){let n;try{const{durationSelector:e}=this;n=e(t)}catch(e){return this.destination.error(e)}const r=L(this,n);!r||r.closed?this.clearThrottle():this.add(this.throttled=r)}}clearThrottle(){const{value:t,hasValue:e,throttled:n}=this;n&&(this.remove(n),this.throttled=null,n.unsubscribe()),e&&(this.value=null,this.hasValue=!1,this.destination.next(t))}notifyNext(t,e,n,r){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}function Qy(t){const{index:e,period:n,subscriber:r}=t;if(r.next(e),!r.closed){if(-1===n)return r.complete();t.index=e+1,this.schedule(t,n)}}function Wy(t,e){return n=>n.lift(new Yy(t,e))}class Yy{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new Xy(t,this.compare,this.keySelector))}}class Xy extends p{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}const Jy=()=>{};let Zy=(()=>{class t{constructor(t,e){this.ngZone=t,this.rendererFactory2=e,this.resizeSource$=new C,this.listeners=0,this.disposeHandle=Jy,this.handler=()=>{this.ngZone.run(()=>{this.resizeSource$.next()})},this.renderer=this.rendererFactory2.createRenderer(null,null)}subscribe(){return this.registerListener(),this.resizeSource$.pipe(function(t,e=ng){return n=()=>function(t=0,e,n){let r=-1;return hg(e)?r=Number(e)<1?1:Number(e):x(e)&&(n=e),x(n)||(n=ng),new w(e=>{const i=hg(t)?t:+t-n.now();return n.schedule(Qy,i,{index:0,period:r,subscriber:e})})}(t,e),function(t){return t.lift(new Gy(n))};var n}(16),ff(()=>this.unregisterListener()))}unsubscribe(){this.unregisterListener()}registerListener(){0===this.listeners&&this.ngZone.runOutsideAngular(()=>{this.disposeHandle=this.renderer.listen("window","resize",this.handler)}),this.listeners+=1}unregisterListener(){this.listeners-=1,0===this.listeners&&(this.disposeHandle(),this.disposeHandle=Jy)}}return t.\u0275fac=function(e){return new(e||t)(Kt(nc),Kt(xa))},t.\u0275prov=lt({factory:function(){return new t(Kt(nc),Kt(xa))},token:t,providedIn:"root"}),t})();const tv={xs:"(max-width: 575px)",sm:"(min-width: 576px)",md:"(min-width: 768px)",lg:"(min-width: 992px)",xl:"(min-width: 1200px)",xxl:"(min-width: 1600px)"};let ev=(()=>{class t{constructor(t,e){this.resizeService=t,this.mediaMatcher=e,this.resizeService.subscribe().subscribe(()=>{})}subscribe(t,e){if(e){const e=()=>this.matchMedia(t,!0);return this.resizeService.subscribe().pipe(M(e),nf(e()),Wy((t,e)=>t[0]===e[0]),M(t=>t[1]))}{const e=()=>this.matchMedia(t);return this.resizeService.subscribe().pipe(M(e),nf(e()),Wy())}}matchMedia(t,e){let n="md";const r={};return Object.keys(t).map(t=>{const e=t,i=this.mediaMatcher.matchMedia(tv[e]).matches;r[t]=i,i&&(n=e)}),e?[n,r]:n}}return t.\u0275fac=function(e){return new(e||t)(Kt(Zy),Kt(Hy))},t.\u0275prov=lt({factory:function(){return new t(Kt(Zy),Kt(Hy))},token:t,providedIn:"root"}),t})(),nv=(()=>{class t{constructor(t,e,n,r,i,s){this.elementRef=t,this.renderer=e,this.mediaMatcher=n,this.ngZone=r,this.platform=i,this.breakpointService=s,this.nzType="flex",this.nzAlign=null,this.nzJustify=null,this.nzGutter=null,this.actualGutter$=new lh(1),this.destroy$=new C}getGutter(){const t=[null,null],e=this.nzGutter||0;return(Array.isArray(e)?e:[e,null]).forEach((e,n)=>{"object"==typeof e&&null!==e?(t[n]=null,Object.keys(tv).map(r=>{const i=r;this.mediaMatcher.matchMedia(tv[i]).matches&&e[i]&&(t[n]=e[i])})):t[n]=e||null}),t}setGutterStyle(){const[t,e]=this.getGutter();this.actualGutter$.next([t,e]);const n=(t,e)=>{null!==e&&this.renderer.setStyle(this.elementRef.nativeElement,t,`-${e/2}px`)};n("margin-left",t),n("margin-right",t),n("margin-top",e),n("margin-bottom",e)}ngOnInit(){this.setGutterStyle()}ngOnChanges(t){t.nzGutter&&this.setGutterStyle()}ngAfterViewInit(){this.platform.isBrowser&&this.breakpointService.subscribe(tv).pipe(wm(this.destroy$)).subscribe(()=>{this.setGutterStyle()})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return t.\u0275fac=function(e){return new(e||t)(bo(Ca),bo(Aa),bo(Hy),bo(nc),bo(xm),bo(ev))},t.\u0275dir=ye({type:t,selectors:[["","nz-row",""],["nz-row"],["nz-form-item"]],hostVars:18,hostBindings:function(t,e){2&t&&Qo("ant-row",!0)("ant-row-top","top"===e.nzAlign)("ant-row-middle","middle"===e.nzAlign)("ant-row-bottom","bottom"===e.nzAlign)("ant-row-start","start"===e.nzJustify)("ant-row-end","end"===e.nzJustify)("ant-row-center","center"===e.nzJustify)("ant-row-space-around","space-around"===e.nzJustify)("ant-row-space-between","space-between"===e.nzJustify)},inputs:{nzType:"nzType",nzAlign:"nzAlign",nzJustify:"nzJustify",nzGutter:"nzGutter"},exportAs:["nzRow"],features:[ba]}),t})(),rv=(()=>{class t{constructor(t,e,n){this.elementRef=t,this.nzRowDirective=e,this.renderer=n,this.classMap={},this.destroy$=new C,this.hostFlexStyle=null,this.nzFlex=null,this.nzSpan=null,this.nzOrder=null,this.nzOffset=null,this.nzPush=null,this.nzPull=null,this.nzXs=null,this.nzSm=null,this.nzMd=null,this.nzLg=null,this.nzXl=null,this.nzXXl=null}setHostClassMap(){const t=Object.assign({"ant-col":!0,["ant-col-"+this.nzSpan]:gm(this.nzSpan),["ant-col-order-"+this.nzOrder]:gm(this.nzOrder),["ant-col-offset-"+this.nzOffset]:gm(this.nzOffset),["ant-col-pull-"+this.nzPull]:gm(this.nzPull),["ant-col-push-"+this.nzPush]:gm(this.nzPush)},this.generateClass());for(const e in this.classMap)this.classMap.hasOwnProperty(e)&&this.renderer.removeClass(this.elementRef.nativeElement,e);this.classMap=Object.assign({},t);for(const e in this.classMap)this.classMap.hasOwnProperty(e)&&this.classMap[e]&&this.renderer.addClass(this.elementRef.nativeElement,e)}setHostFlexStyle(){this.hostFlexStyle=this.parseFlex(this.nzFlex)}parseFlex(t){return"number"==typeof t?`${t} ${t} auto`:"string"==typeof t&&/^\d+(\.\d+)?(px|em|rem|%)$/.test(t)?"0 0 "+t:t}generateClass(){const t={};return["nzXs","nzSm","nzMd","nzLg","nzXl","nzXXl"].forEach(e=>{const n=e.replace("nz","").toLowerCase();if(gm(this[e]))if("number"==typeof this[e]||"string"==typeof this[e])t[`ant-col-${n}-${this[e]}`]=!0;else{const r=this[e];["span","pull","push","offset","order"].forEach(e=>{t[`ant-col-${n}${"span"===e?"-":`-${e}-`}${r[e]}`]=r&&gm(r[e])})}}),t}ngOnInit(){this.setHostClassMap(),this.setHostFlexStyle()}ngOnChanges(t){this.setHostClassMap();const{nzFlex:e}=t;e&&this.setHostFlexStyle()}ngAfterViewInit(){this.nzRowDirective&&this.nzRowDirective.actualGutter$.pipe(wm(this.destroy$)).subscribe(([t,e])=>{const n=(t,e)=>{null!==e&&this.renderer.setStyle(this.elementRef.nativeElement,t,e/2+"px")};n("padding-left",t),n("padding-right",t),n("padding-top",e),n("padding-bottom",e)})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return t.\u0275fac=function(e){return new(e||t)(bo(Ca),bo(nv,9),bo(Aa))},t.\u0275dir=ye({type:t,selectors:[["","nz-col",""],["nz-col"],["nz-form-control"],["nz-form-label"]],hostVars:2,hostBindings:function(t,e){2&t&&Ko("flex",e.hostFlexStyle)},inputs:{nzFlex:"nzFlex",nzSpan:"nzSpan",nzOrder:"nzOrder",nzOffset:"nzOffset",nzPush:"nzPush",nzPull:"nzPull",nzXs:"nzXs",nzSm:"nzSm",nzMd:"nzMd",nzLg:"nzLg",nzXl:"nzXl",nzXXl:"nzXXl"},exportAs:["nzCol"],features:[ba]}),t})(),iv=(()=>{class t{}return t.\u0275mod=ge({type:t}),t.\u0275inj=ht({factory:function(e){return new(e||t)},imports:[[fl,Vy,km]]}),t})();function sv(t,e){if(1&t&&(xo(0),Io(1,"i",8),ko()),2&t){const t=Po(3);hi(1),So("nzType",t.icon)}}function ov(t,e){if(1&t&&(xo(0),oa(1),ko()),2&t){const t=e.$implicit,n=Po(4);hi(1),ua(" ",t(n.nzPercent)," ")}}const av=function(t){return{$implicit:t}};function uv(t,e){if(1&t&&yo(0,ov,2,1,"ng-container",9),2&t){const t=Po(3);So("nzStringTemplateOutlet",t.formatter)("nzStringTemplateOutletContext",(n=2,r=av,i=t.nzPercent,function(t,e,n,r,i,s){const o=e+n;return ho(t,o,i)?lo(t,o+1,s?r.call(s,i):r(i)):gu(t,o+1)}($e(),Ze(),n,r,i,s)))}var n,r,i,s}function cv(t,e){if(1&t&&(To(0,"span",5),yo(1,sv,2,1,"ng-container",6),yo(2,uv,1,4,"ng-template",null,7,Pu),Co()),2&t){const t=vo(3),e=Po(2);hi(1),So("ngIf",("exception"===e.status||"success"===e.status)&&!e.nzFormat)("ngIfElse",t)}}function lv(t,e){1&t&&yo(0,cv,4,2,"span",4),2&t&&So("ngIf",Po().nzShowInfo)}function hv(t,e){if(1&t&&Io(0,"div",17),2&t){const t=Po(4);Ko("width",t.nzSuccessPercent,"%")("border-radius","round"===t.nzStrokeLinecap?"100px":"0")("height",t.strokeWidth,"px")}}function fv(t,e){if(1&t&&(To(0,"div",13),To(1,"div",14),Io(2,"div",15),yo(3,hv,1,6,"div",16),Co(),Co()),2&t){const t=Po(3);hi(2),Ko("width",t.nzPercent,"%")("border-radius","round"===t.nzStrokeLinecap?"100px":"0")("background",t.isGradient?null:t.nzStrokeColor,Hr)("background-image",t.isGradient?t.lineGradient:null,Hr)("height",t.strokeWidth,"px"),hi(1),So("ngIf",t.nzSuccessPercent||0===t.nzSuccessPercent)}}function dv(t,e){}function pv(t,e){if(1&t&&(xo(0),yo(1,fv,4,11,"div",11),yo(2,dv,0,0,"ng-template",12),ko()),2&t){const t=Po(2),e=vo(1);hi(1),So("ngIf",!t.isSteps),hi(1),So("ngTemplateOutlet",e)}}function gv(t,e){1&t&&Io(0,"div",20),2&t&&So("ngStyle",e.$implicit)}function mv(t,e){}function yv(t,e){if(1&t&&(To(0,"div",18),yo(1,gv,1,1,"div",19),yo(2,mv,0,0,"ng-template",12),Co()),2&t){const t=Po(2),e=vo(1);hi(1),So("ngForOf",t.steps),hi(1),So("ngTemplateOutlet",e)}}function vv(t,e){if(1&t&&(To(0,"div"),yo(1,pv,3,2,"ng-container",2),yo(2,yv,3,2,"div",10),Co()),2&t){const t=Po();hi(1),So("ngIf",!t.isSteps),hi(1),So("ngIf",t.isSteps)}}function bv(t,e){if(1&t&&(vn(),Io(0,"stop")),2&t){const t=e.$implicit;po("offset",t.offset)("stop-color",t.color)}}function wv(t,e){if(1&t&&(vn(),To(0,"defs"),To(1,"linearGradient",24),yo(2,bv,1,2,"stop",25),Co(),Co()),2&t){const t=Po(2);hi(1),So("id","gradient-"+t.gradientId),hi(1),So("ngForOf",t.circleGradient)}}function _v(t,e){if(1&t&&(vn(),Io(0,"path",26)),2&t){const t=e.$implicit,n=Po(2);So("ngStyle",t.strokePathStyle),po("d",n.pathString)("stroke-linecap",n.nzStrokeLinecap)("stroke",t.stroke)("stroke-width",n.nzPercent?n.strokeWidth:0)}}function Sv(t,e){1&t&&vn()}function Ev(t,e){if(1&t&&(To(0,"div",14),vn(),To(1,"svg",21),yo(2,wv,3,2,"defs",2),Io(3,"path",22),yo(4,_v,1,5,"path",23),Co(),yo(5,Sv,0,0,"ng-template",12),Co()),2&t){const t=Po(),e=vo(1);Ko("width",t.nzWidth,"px")("height",t.nzWidth,"px")("font-size",.15*t.nzWidth+6,"px"),Qo("ant-progress-circle-gradient",t.isGradient),hi(2),So("ngIf",t.isGradient),hi(1),So("ngStyle",t.trailPathStyle),po("stroke-width",t.strokeWidth)("d",t.pathString),hi(1),So("ngForOf",t.progressCirclePath)("ngForTrackBy",t.trackByFn),hi(1),So("ngTemplateOutlet",e)}}const Tv=t=>{let e=[];return Object.keys(t).forEach(n=>{const r=t[n],i=+n.replace("%","");isNaN(i)||e.push({key:i,value:r})}),e=e.sort((t,e)=>t.key-e.key),e};let Cv=0;const Iv=new Map([["success","check"],["exception","close"]]),xv=new Map([["normal","#108ee9"],["exception","#ff5500"],["success","#87d068"]]),kv=t=>t+"%";let Av=(()=>{class t{constructor(t){this.nzConfigService=t,this.nzShowInfo=!0,this.nzWidth=132,this.nzStrokeColor=void 0,this.nzSize="default",this.nzPercent=0,this.nzStrokeWidth=void 0,this.nzGapDegree=void 0,this.nzType="line",this.nzGapPosition="top",this.nzStrokeLinecap="round",this.steps=[],this.lineGradient=null,this.isGradient=!1,this.isSteps=!1,this.gradientId=Cv++,this.progressCirclePath=[],this.trailPathStyle=null,this.trackByFn=t=>""+t,this.cachedStatus="normal",this.inferredStatus="normal",this.destroy$=new C}get formatter(){return this.nzFormat||kv}get status(){return this.nzStatus||this.inferredStatus}get strokeWidth(){return this.nzStrokeWidth||("line"===this.nzType&&"small"!==this.nzSize?8:6)}get isCircleStyle(){return"circle"===this.nzType||"dashboard"===this.nzType}ngOnChanges(t){const{nzSteps:e,nzGapPosition:n,nzStrokeLinecap:r,nzStrokeColor:i,nzGapDegree:s,nzType:o,nzStatus:a,nzPercent:u,nzSuccessPercent:c}=t;a&&(this.cachedStatus=this.nzStatus||this.cachedStatus),(u||c)&&(parseInt(this.nzPercent.toString(),10)>=100?(gm(this.nzSuccessPercent)&&this.nzSuccessPercent>=100||void 0===this.nzSuccessPercent)&&(this.inferredStatus="success"):this.inferredStatus=this.cachedStatus),(a||u||c)&&this.updateIcon(),i&&this.setStrokeColor(),(n||r||s||o||u||i)&&this.getCirclePaths(),e&&(this.isSteps=gm(e.currentValue),this.getSteps())}ngOnInit(){this.nzConfigService.getConfigChangeEventForComponent("progress").pipe(wm(this.destroy$)).subscribe(()=>{this.updateIcon(),this.setStrokeColor(),this.getCirclePaths()})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}updateIcon(){const t=Iv.get(this.status);this.icon=t?t+(this.isCircleStyle?"-o":"-circle-fill"):""}getSteps(){const t=Math.floor(this.nzSteps*(this.nzPercent/100)),e="small"===this.nzSize?2:14;for(let n=0;n<this.nzSteps;n++){let r;n<=t-1&&(r=this.nzStrokeColor),this.steps.push({backgroundColor:""+r,width:e+"px",height:this.strokeWidth+"px"})}}getCirclePaths(){if(!this.isCircleStyle)return;const t=gm(this.nzSuccessPercent)?[this.nzSuccessPercent,this.nzPercent]:[this.nzPercent],e=50-this.strokeWidth/2,n=2*Math.PI*e,r=this.nzGapDegree||("circle"===this.nzType?0:75);let i=0,s=-e,o=0,a=-2*e;switch(this.nzGapPosition||("circle"===this.nzType?"top":"bottom")){case"left":i=-e,s=0,o=2*e,a=0;break;case"right":i=e,s=0,o=-2*e,a=0;break;case"bottom":s=e,a=2*e}this.pathString=`M 50,50 m ${i},${s}\n       a ${e},${e} 0 1 1 ${o},${-a}\n       a ${e},${e} 0 1 1 ${-o},${a}`,this.trailPathStyle={strokeDasharray:`${n-r}px ${n}px`,strokeDashoffset:`-${r/2}px`,transition:"stroke-dashoffset .3s ease 0s, stroke-dasharray .3s ease 0s, stroke .3s"},this.progressCirclePath=t.map((e,i)=>{const s=2===t.length&&0===i;return{stroke:this.isGradient&&!s?`url(#gradient-${this.gradientId})`:null,strokePathStyle:{stroke:this.isGradient?null:s?xv.get("success"):this.nzStrokeColor,transition:"stroke-dashoffset .3s ease 0s, stroke-dasharray .3s ease 0s, stroke .3s, stroke-width .06s ease .3s",strokeDasharray:`${(e||0)/100*(n-r)}px ${n}px`,strokeDashoffset:`-${r/2}px`}}}).reverse()}setStrokeColor(){const t=this.nzStrokeColor,e=this.isGradient=!!t&&"string"!=typeof t;e&&!this.isCircleStyle?this.lineGradient=(t=>{const{from:e="#1890ff",to:n="#1890ff",direction:r="to right"}=t,i=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}(t,["from","to","direction"]);return 0!==Object.keys(i).length?`linear-gradient(${r}, ${Tv(i).map(({key:t,value:e})=>`${e} ${t}%`).join(", ")})`:`linear-gradient(${r}, ${e}, ${n})`})(t):e&&this.isCircleStyle?this.circleGradient=Tv(this.nzStrokeColor).map(({key:t,value:e})=>({offset:t+"%",color:e})):(this.lineGradient=null,this.circleGradient=[])}}return t.\u0275fac=function(e){return new(e||t)(bo(hm))},t.\u0275cmp=he({type:t,selectors:[["nz-progress"]],inputs:{nzShowInfo:"nzShowInfo",nzWidth:"nzWidth",nzStrokeColor:"nzStrokeColor",nzSize:"nzSize",nzPercent:"nzPercent",nzStrokeWidth:"nzStrokeWidth",nzGapDegree:"nzGapDegree",nzType:"nzType",nzGapPosition:"nzGapPosition",nzStrokeLinecap:"nzStrokeLinecap",nzFormat:"nzFormat",nzSuccessPercent:"nzSuccessPercent",nzStatus:"nzStatus",nzSteps:"nzSteps"},exportAs:["nzProgress"],features:[ba],decls:5,vars:13,consts:[["progressInfoTemplate",""],[3,"ngClass"],[4,"ngIf"],["class","ant-progress-inner",3,"width","height","fontSize","ant-progress-circle-gradient",4,"ngIf"],["class","ant-progress-text",4,"ngIf"],[1,"ant-progress-text"],[4,"ngIf","ngIfElse"],["formatTemplate",""],["nz-icon","",3,"nzType"],[4,"nzStringTemplateOutlet","nzStringTemplateOutletContext"],["class","ant-progress-steps-outer",4,"ngIf"],["class","ant-progress-outer",4,"ngIf"],[3,"ngTemplateOutlet"],[1,"ant-progress-outer"],[1,"ant-progress-inner"],[1,"ant-progress-bg"],["class","ant-progress-success-bg",3,"width","border-radius","height",4,"ngIf"],[1,"ant-progress-success-bg"],[1,"ant-progress-steps-outer"],["class","ant-progress-steps-item",3,"ngStyle",4,"ngFor","ngForOf"],[1,"ant-progress-steps-item",3,"ngStyle"],["viewBox","0 0 100 100",1,"ant-progress-circle"],["stroke","#f3f3f3","fill-opacity","0",1,"ant-progress-circle-trail",3,"ngStyle"],["class","ant-progress-circle-path","fill-opacity","0",3,"ngStyle",4,"ngFor","ngForOf","ngForTrackBy"],["x1","100%","y1","0%","x2","0%","y2","0%",3,"id"],[4,"ngFor","ngForOf"],["fill-opacity","0",1,"ant-progress-circle-path",3,"ngStyle"]],template:function(t,e){1&t&&(yo(0,lv,1,1,"ng-template",null,0,Pu),To(2,"div",1),yo(3,vv,3,2,"div",2),yo(4,Ev,6,15,"div",3),Co()),2&t&&(hi(2),Qo("ant-progress-line","line"==e.nzType)("ant-progress-small","small"==e.nzSize)("ant-progress-show-info",e.nzShowInfo)("ant-progress-circle",e.isCircleStyle)("ant-progress-steps",e.isSteps),So("ngClass","ant-progress ant-progress-status-"+e.status),hi(1),So("ngIf","line"===e.nzType),hi(1),So("ngIf",e.isCircleStyle))},directives:[rl,al,Sy,Em,hl,sl,ll],encapsulation:2,changeDetection:0}),Kg([fm("progress"),Qg("design:type",Boolean)],t.prototype,"nzShowInfo",void 0),Kg([fm("progress"),Qg("design:type",Object)],t.prototype,"nzStrokeColor",void 0),Kg([fm("progress"),Qg("design:type",String)],t.prototype,"nzSize",void 0),Kg([bm(),Qg("design:type",Number)],t.prototype,"nzSuccessPercent",void 0),Kg([bm(),Qg("design:type",Number)],t.prototype,"nzPercent",void 0),Kg([fm("progress"),bm(),Qg("design:type",Number)],t.prototype,"nzStrokeWidth",void 0),Kg([fm("progress"),bm(),Qg("design:type",Number)],t.prototype,"nzGapDegree",void 0),Kg([fm("progress"),Qg("design:type",String)],t.prototype,"nzGapPosition",void 0),Kg([fm("progress"),Qg("design:type",String)],t.prototype,"nzStrokeLinecap",void 0),Kg([bm(),Qg("design:type",Number)],t.prototype,"nzSteps",void 0),t})(),Ov=(()=>{class t{}return t.\u0275mod=ge({type:t}),t.\u0275inj=ht({factory:function(e){return new(e||t)},imports:[[fl,Ey,Im]]}),t})();function Nv(t,e){if(1&t&&(To(0,"div",11),To(1,"div",3),To(2,"div",12),Io(3,"img",13),mu(4,"safe"),Co(),To(5,"div",12),Io(6,"nz-progress",14),Co(),Co(),Co()),2&t){const t=e.$implicit;hi(3),So("src",yu(4,3,t.imgUrl,"url"),Br),hi(3),So("nzPercent",t.percent)("nzWidth",80)}}function Dv(t,e){if(1&t&&(To(0,"div",11),To(1,"div",3),To(2,"div",12),Io(3,"img",13),mu(4,"safe"),Co(),To(5,"div",12),Io(6,"nz-progress",14),Co(),Co(),Co()),2&t){const t=e.$implicit;hi(3),So("src",yu(4,3,t.imgUrl,"url"),Br),hi(3),So("nzPercent",t.percent)("nzWidth",80)}}function Pv(t,e){if(1&t&&(To(0,"div",11),To(1,"div",3),To(2,"div",12),Io(3,"img",13),mu(4,"safe"),Co(),To(5,"div",12),Io(6,"nz-progress",14),Co(),Co(),Co()),2&t){const t=e.$implicit;hi(3),So("src",yu(4,3,t.imgUrl,"url"),Br),hi(3),So("nzPercent",t.percent)("nzWidth",80)}}function Rv(t,e){if(1&t&&(To(0,"div",11),To(1,"div",3),To(2,"div",12),Io(3,"img",13),mu(4,"safe"),Co(),To(5,"div",12),Io(6,"nz-progress",14),Co(),Co(),Co()),2&t){const t=e.$implicit;hi(3),So("src",yu(4,3,t.imgUrl,"url"),Br),hi(3),So("nzPercent",t.percent)("nzWidth",80)}}function Lv(t,e){if(1&t&&(To(0,"div",11),To(1,"div",3),To(2,"div",12),Io(3,"img",13),mu(4,"safe"),Co(),To(5,"div",12),Io(6,"nz-progress",14),Co(),Co(),Co()),2&t){const t=e.$implicit;hi(3),So("src",yu(4,3,t.imgUrl,"url"),Br),hi(3),So("nzPercent",t.percent)("nzWidth",80)}}function Fv(t,e){if(1&t&&(To(0,"li"),Io(1,"i",15),oa(2),Co()),2&t){const t=e.$implicit;hi(2),ua(" ",t," ")}}function Mv(t,e){if(1&t&&(To(0,"div",16),Io(1,"img",13),To(2,"div",17),To(3,"p",18),oa(4),Co(),Co(),Co()),2&t){const t=e.$implicit;hi(1),jo("src","https://www.countryflagicons.com/FLAT/64/",t.code,".png",Br),hi(3),aa(t.arrange)}}let jv=(()=>{class t{constructor(){this.skills=[{name:"Programming languages",key:"programming_languages",child:[{imgUrl:"https://cdn.jsdelivr.net/gh/devicons/devicon/icons/javascript/javascript-original.svg",name:"JavaScript",percent:80},{imgUrl:"assets/images/icons/terraform.png",name:"Terraform",percent:80},{imgUrl:"https://cdn.jsdelivr.net/gh/devicons/devicon/icons/go/go-original.svg",name:"GO",percent:30},{imgUrl:"https://cdn.jsdelivr.net/gh/devicons/devicon/icons/python/python-original.svg",name:"Python",percent:40}]},{name:"Frameworks",key:"frameworks",child:[{imgUrl:"https://cdn.jsdelivr.net/gh/devicons/devicon/icons/express/express-original.svg",name:"ExpressJS",percent:80},{imgUrl:"https://cdn.jsdelivr.net/gh/devicons/devicon/icons/nestjs/nestjs-plain.svg",name:"NestJS",percent:80},{imgUrl:"https://cdn.jsdelivr.net/gh/devicons/devicon/icons/react/react-original.svg",name:"ReactJS",percent:80},{imgUrl:"https://cdn.jsdelivr.net/gh/devicons/devicon/icons/angularjs/angularjs-original.svg",name:"AngularJS",percent:80},{imgUrl:"https://cdn.jsdelivr.net/gh/devicons/devicon/icons/flask/flask-original.svg",name:"Flask",percent:30}]},{name:"Cloud",key:"cloud",child:[{imgUrl:"https://cdn.jsdelivr.net/gh/devicons/devicon/icons/azure/azure-original.svg",name:"Azure",percent:50},{imgUrl:"https://cdn.jsdelivr.net/gh/devicons/devicon/icons/googlecloud/googlecloud-original.svg",name:"GCP",percent:80},{imgUrl:"https://cdn.jsdelivr.net/gh/devicons/devicon/icons/amazonwebservices/amazonwebservices-original.svg",name:"AWS",percent:60},{imgUrl:"https://cdn.jsdelivr.net/gh/devicons/devicon/icons/digitalocean/digitalocean-original.svg",name:"DigitalOcean",percent:70},{imgUrl:"https://cdn.jsdelivr.net/gh/devicons/devicon/icons/docker/docker-original.svg",name:"Docker",percent:80},{imgUrl:"https://cdn.jsdelivr.net/gh/devicons/devicon/icons/kubernetes/kubernetes-plain.svg",name:"Kubernetes",percent:80}]},{name:"Data Bases",key:"data-base",child:[{percent:80,name:"PostgreSQL",imgUrl:"https://cdn.jsdelivr.net/gh/devicons/devicon/icons/postgresql/postgresql-original.svg"},{percent:80,name:"MySQL",imgUrl:"https://cdn.jsdelivr.net/gh/devicons/devicon/icons/mysql/mysql-original.svg"},{name:"MongoDB",imgUrl:"https://cdn.jsdelivr.net/gh/devicons/devicon/icons/mongodb/mongodb-original.svg",percent:70}]},{name:"CICD",key:"cicd",child:[{imgUrl:"https://cdn.jsdelivr.net/gh/devicons/devicon/icons/gitlab/gitlab-original.svg",name:"GitLab",percent:80},{imgUrl:"https://cdn.jsdelivr.net/gh/devicons/devicon/icons/github/github-original.svg",name:"Github",percent:90},{imgUrl:"https://cdn.jsdelivr.net/gh/devicons/devicon/icons/bitbucket/bitbucket-original.svg",name:"Bitbucket",percent:40},{imgUrl:"https://cdn.jsdelivr.net/gh/devicons/devicon/icons/jenkins/jenkins-line.svg",name:"Jenkins",percent:30},{imgUrl:"https://cdn.jsdelivr.net/gh/devicons/devicon/icons/circleci/circleci-plain.svg",name:"CircleCI",percent:10}]}],this.lenguages=this.skills.filter(t=>"programming_languages"===t.key)[0],this.dataBases=this.skills.filter(t=>"data-base"===t.key)[0],this.cicd=this.skills.filter(t=>"cicd"===t.key)[0],this.frameworks=this.skills.filter(t=>"frameworks"===t.key)[0],this.cloud=this.skills.filter(t=>"cloud"===t.key)[0],this.skillArr=["Specialised in Adobe Experience Manager","Unit Testing","Agile Development & Scrum","Client oriented"],this.language=[{code:"US",arrange:"70%"}]}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=he({type:t,selectors:[["app-skills"]],decls:37,vars:7,consts:[["id","skills",1,"resume-section","p-3","p-lg-5","d-flex","flex-column","border-n"],[1,"my-auto"],[1,"primary-text","mb-5"],["nz-row",""],["nz-col","","nzSpan","6",4,"ngFor","ngForOf"],[1,"subheading","mb-3"],[1,"fa-ul"],[4,"ngFor","ngForOf"],[1,"list-inline"],[1,"list-inline-item"],["class","inline-container",4,"ngFor","ngForOf"],["nz-col","","nzSpan","6"],["nz-col","","nzSpan","12"],[3,"src"],["nzType","circle",3,"nzPercent","nzWidth"],[1,"fa-li","fa","fa-check"],[1,"inline-container"],[1,"overlay"],[1,"text"]],template:function(t,e){1&t&&(To(0,"section",0),To(1,"div",1),To(2,"h2",2),oa(3,"Skills"),Co(),To(4,"h5"),oa(5,"Programming languages:"),Co(),To(6,"div",3),yo(7,Nv,7,6,"div",4),Co(),Io(8,"br"),To(9,"h5"),oa(10,"Frameworks:"),Co(),To(11,"div",3),yo(12,Dv,7,6,"div",4),Co(),Io(13,"br"),To(14,"h5"),oa(15,"CICD:"),Co(),To(16,"div",3),yo(17,Pv,7,6,"div",4),Co(),Io(18,"br"),To(19,"h5"),oa(20,"Clouds:"),Co(),To(21,"div",3),yo(22,Rv,7,6,"div",4),Co(),Io(23,"br"),To(24,"h5"),oa(25,"Databases:"),Co(),To(26,"div",3),yo(27,Lv,7,6,"div",4),Co(),To(28,"div",5),oa(29,"Skills"),Co(),To(30,"ul",6),yo(31,Fv,3,1,"li",7),Co(),To(32,"div",5),oa(33,"Languages"),Co(),To(34,"ul",8),To(35,"li",9),yo(36,Mv,5,2,"div",10),Co(),Co(),Co(),Co()),2&t&&(hi(7),So("ngForOf",e.lenguages.child),hi(5),So("ngForOf",e.frameworks.child),hi(5),So("ngForOf",e.cicd.child),hi(5),So("ngForOf",e.cloud.child),hi(5),So("ngForOf",e.dataBases.child),hi(4),So("ngForOf",e.skillArr),hi(5),So("ngForOf",e.language))},directives:[nv,sl,rv,Av],pipes:[Py],styles:[".devicons[_ngcontent-%COMP%]{font-size:3rem}.devicons[_ngcontent-%COMP%]:hover{color:#6e74aa}.list-inline-item[_ngcontent-%COMP%]:not(:last-child){margin:1rem}.inline-container[_ngcontent-%COMP%]{display:inline-block;position:relative;margin:20px}.overlay[_ngcontent-%COMP%]{position:absolute;top:0;bottom:0;left:0;right:0;height:100%;opacity:0;transition:.5s ease;background-color:rgba(159,168,218,.5)}.inline-container[_ngcontent-%COMP%]:hover   .overlay[_ngcontent-%COMP%]{opacity:1}.text[_ngcontent-%COMP%]{color:#000;font-size:15px;font-weight:700;position:relative;text-align:center;transform:translatey(-50%);top:50%}img[_ngcontent-%COMP%]{max-width:5rem;max-height:5rem}"]}),t})();const zv=[{path:"",redirectTo:"about",pathMatch:"full"},{path:"about",component:Hg},{path:"education",component:Gg},{path:"experience",component:Fy},{path:"interests",component:jy},{path:"projects",component:Uy},{path:"skills",component:jv},{path:"**",component:zy}];let Uv=(()=>{class t{}return t.\u0275mod=ge({type:t}),t.\u0275inj=ht({factory:function(e){return new(e||t)},imports:[[Kp.forRoot(zv)],Kp]}),t})();function Vv(t,e){if(1&t&&(To(0,"ul",7),To(1,"li",8),To(2,"a",9),oa(3),Co(),Co(),Co()),2&t){const t=e.$implicit;hi(2),So("routerLink",t.path)("ngxScrollTo",t.path),hi(1),aa(t.name)}}let qv=(()=>{class t{constructor(){this.navBarRoutes=[{name:"About",path:"about"},{name:"Education",path:"education"},{name:"Experience",path:"experience"},{name:"Skills",path:"skills"},{name:"Projects",path:"projects"},{name:"Interests",path:"interests"},{name:"Contact",path:"contact"}]}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=he({type:t,selectors:[["app-navbar"]],decls:8,vars:1,consts:[[1,"navbar","navbar-expand-lg","fixed-top","navbar-light","bg-light"],[1,"container"],["href","#",1,"navbar-brand"],["type","button","data-toggle","collapse","data-target","#navbarText","aria-controls","navbarText","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarText",1,"collapse","navbar-collapse"],["class","navbar-nav mr-auto",4,"ngFor","ngForOf"],[1,"navbar-nav","mr-auto"],[1,"nav-item","active"],["routerLinkActive","active",1,"nav-link",3,"routerLink","ngxScrollTo"]],template:function(t,e){1&t&&(To(0,"nav",0),To(1,"div",1),To(2,"a",2),oa(3,"Navbar w/ text"),Co(),To(4,"button",3),Io(5,"span",4),Co(),To(6,"div",5),yo(7,Vv,4,3,"ul",6),Co(),Co(),Co()),2&t&&(hi(7),So("ngForOf",e.navBarRoutes))},directives:[sl,Dp,Rp,vh],styles:[""]}),t})(),Bv=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=he({type:t,selectors:[["app-contact"]],decls:2,vars:0,template:function(t,e){1&t&&(To(0,"p"),oa(1,"contact works!"),Co())},styles:[""]}),t})(),Hv=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=he({type:t,selectors:[["app-root"]],decls:9,vars:0,consts:[[1,"container"]],template:function(t,e){1&t&&(Io(0,"app-navbar"),To(1,"div",0),Io(2,"app-about"),Io(3,"app-education"),Io(4,"app-experience"),Io(5,"app-skills"),Io(6,"app-projects"),Io(7,"app-interests"),Io(8,"app-contact"),Co())},directives:[qv,Hg,Gg,Fy,jv,Uy,jy,Bv],encapsulation:2}),t})(),$v=(()=>{class t{constructor(t){this.http=t}getListDevicons(){this.http.get("https://cdn.jsdelivr.net/gh/devicons/devicon@master/devicon.json").toPromise()}}return t.\u0275fac=function(e){return new(e||t)(Kt(Gm))},t.\u0275prov=lt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Gv=(()=>{class t{}return t.\u0275mod=ge({type:t}),t.\u0275inj=ht({factory:function(e){return new(e||t)},providers:[$v],imports:[[]]}),t})();function Kv(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Qv(t){switch(t.length){case 0:return new rm;case 1:return t[0];default:return new im(t)}}function Wv(t,e,n,r,i={},s={}){const o=[],a=[];let u=-1,c=null;if(r.forEach(t=>{const n=t.offset,r=n==u,l=r&&c||{};Object.keys(t).forEach(n=>{let r=n,a=t[n];if("offset"!==n)switch(r=e.normalizePropertyName(r,o),a){case"!":a=i[n];break;case"*":a=s[n];break;default:a=e.normalizeStyleValue(n,r,a,o)}l[r]=a}),r||a.push(l),c=l,u=n}),o.length){const t="\n - ";throw new Error(`Unable to animate due to the following errors:${t}${o.join(t)}`)}return a}function Yv(t,e,n,r){switch(e){case"start":t.onStart(()=>r(n&&Xv(n,"start",t)));break;case"done":t.onDone(()=>r(n&&Xv(n,"done",t)));break;case"destroy":t.onDestroy(()=>r(n&&Xv(n,"destroy",t)))}}function Xv(t,e,n){const r=n.totalTime,i=Jv(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==r?t.totalTime:r,!!n.disabled),s=t._data;return null!=s&&(i._data=s),i}function Jv(t,e,n,r,i="",s=0,o){return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function Zv(t,e,n){let r;return t instanceof Map?(r=t.get(e),r||t.set(e,r=n)):(r=t[e],r||(r=t[e]=n)),r}function tb(t){const e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}let eb=(t,e)=>!1,nb=(t,e)=>!1,rb=(t,e,n)=>[];const ib=Kv();(ib||"undefined"!=typeof Element)&&(eb=(t,e)=>t.contains(e),nb=(()=>{if(ib||Element.prototype.matches)return(t,e)=>t.matches(e);{const t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?(t,n)=>e.apply(t,[n]):nb}})(),rb=(t,e,n)=>{let r=[];if(n)r.push(...t.querySelectorAll(e));else{const n=t.querySelector(e);n&&r.push(n)}return r});let sb=null,ob=!1;const ab=nb,ub=eb,cb=rb;let lb=(()=>{class t{validateStyleProperty(t){return function(t){sb||(sb=("undefined"!=typeof document?document.body:null)||{},ob=!!sb.style&&"WebkitAppearance"in sb.style);let e=!0;return sb.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&(e=t in sb.style,!e&&ob)&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in sb.style),e}(t)}matchesElement(t,e){return ab(t,e)}containsElement(t,e){return ub(t,e)}query(t,e,n){return cb(t,e,n)}computeStyle(t,e,n){return n||""}animate(t,e,n,r,i,s=[],o){return new rm(n,r)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=lt({token:t,factory:t.\u0275fac}),t})(),hb=(()=>{class t{}return t.NOOP=new lb,t})();function fb(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:db(parseFloat(e[1]),e[2])}function db(t,e){switch(e){case"s":return 1e3*t;default:return t}}function pb(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){let r,i=0,s="";if("string"==typeof t){const n=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===n)return e.push(`The provided timing value "${t}" is invalid.`),{duration:0,delay:0,easing:""};r=db(parseFloat(n[1]),n[2]);const o=n[3];null!=o&&(i=db(parseFloat(o),n[4]));const a=n[5];a&&(s=a)}else r=t;if(!n){let n=!1,s=e.length;r<0&&(e.push("Duration values below 0 are not allowed for this animation step."),n=!0),i<0&&(e.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&e.splice(s,0,`The provided timing value "${t}" is invalid.`)}return{duration:r,delay:i,easing:s}}(t,e,n)}function gb(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function mb(t,e,n={}){if(e)for(let r in t)n[r]=t[r];else gb(t,n);return n}function yb(t,e,n){return n?e+":"+n+";":""}function vb(t){let e="";for(let n=0;n<t.style.length;n++){const r=t.style.item(n);e+=yb(0,r,t.style.getPropertyValue(r))}for(const n in t.style)t.style.hasOwnProperty(n)&&!n.startsWith("_")&&(e+=yb(0,n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[n]));t.setAttribute("style",e)}function bb(t,e,n){t.style&&(Object.keys(e).forEach(r=>{const i=xb(r);n&&!n.hasOwnProperty(r)&&(n[r]=t.style[i]),t.style[i]=e[r]}),Kv()&&vb(t))}function wb(t,e){t.style&&(Object.keys(e).forEach(e=>{const n=xb(e);t.style[n]=""}),Kv()&&vb(t))}function _b(t){return Array.isArray(t)?1==t.length?t[0]:Jg(t):t}const Sb=new RegExp("{{\\s*(.+?)\\s*}}","g");function Eb(t){let e=[];if("string"==typeof t){let n;for(;n=Sb.exec(t);)e.push(n[1]);Sb.lastIndex=0}return e}function Tb(t,e,n){const r=t.toString(),i=r.replace(Sb,(t,r)=>{let i=e[r];return e.hasOwnProperty(r)||(n.push("Please provide a value for the animation param "+r),i=""),i.toString()});return i==r?t:i}function Cb(t){const e=[];let n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}const Ib=/-+([a-z0-9])/g;function xb(t){return t.replace(Ib,(...t)=>t[1].toUpperCase())}function kb(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error("Unable to resolve animation metadata node #"+e.type)}}function Ab(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(t=>function(t,e,n){if(":"==t[0]){const r=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,e)=>parseFloat(e)>parseFloat(t);case":decrement":return(t,e)=>parseFloat(e)<parseFloat(t);default:return e.push(`The transition alias value "${t}" is not supported`),"* => *"}}(t,n);if("function"==typeof r)return void e.push(r);t=r}const r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push(`The provided transition expression "${t}" is not supported`),e;const i=r[1],s=r[2],o=r[3];e.push(Db(i,o)),"<"!=s[0]||"*"==i&&"*"==o||e.push(Db(o,i))}(t,n,e)):n.push(t),n}const Ob=new Set(["true","1"]),Nb=new Set(["false","0"]);function Db(t,e){const n=Ob.has(t)||Nb.has(t),r=Ob.has(e)||Nb.has(e);return(i,s)=>{let o="*"==t||t==i,a="*"==e||e==s;return!o&&n&&"boolean"==typeof i&&(o=i?Ob.has(t):Nb.has(t)),!a&&r&&"boolean"==typeof s&&(a=s?Ob.has(e):Nb.has(e)),o&&a}}const Pb=new RegExp("s*:selfs*,?","g");function Rb(t,e,n){return new Lb(t).build(e,n)}class Lb{constructor(t){this._driver=t}build(t,e){const n=new Fb(e);return this._resetContextStyleTimingState(n),kb(this,_b(t),n)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,r=e.depCount=0;const i=[],s=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(t=>{if(this._resetContextStyleTimingState(e),0==t.type){const n=t,r=n.name;r.toString().split(/\s*,\s*/).forEach(t=>{n.name=t,i.push(this.visitState(n,e))}),n.name=r}else if(1==t.type){const i=this.visitTransition(t,e);n+=i.queryCount,r+=i.depCount,s.push(i)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:i,transitions:s,queryCount:n,depCount:r,options:null}}visitState(t,e){const n=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(n.containsDynamicStyles){const i=new Set,s=r||{};if(n.styles.forEach(t=>{if(Mb(t)){const e=t;Object.keys(e).forEach(t=>{Eb(e[t]).forEach(t=>{s.hasOwnProperty(t)||i.add(t)})})}}),i.size){const n=Cb(i.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:t.name,style:n,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const n=kb(this,_b(t.animation),e);return{type:1,matchers:Ab(t.expr,e.errors),animation:n,queryCount:e.queryCount,depCount:e.depCount,options:jb(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(t=>kb(this,t,e)),options:jb(t.options)}}visitGroup(t,e){const n=e.currentTime;let r=0;const i=t.steps.map(t=>{e.currentTime=n;const i=kb(this,t,e);return r=Math.max(r,e.currentTime),i});return e.currentTime=r,{type:3,steps:i,options:jb(t.options)}}visitAnimate(t,e){const n=function(t,e){let n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return zb(pb(t,e).duration,0,"");const r=t;if(r.split(/\s+/).some(t=>"{"==t.charAt(0)&&"{"==t.charAt(1))){const t=zb(0,0,"");return t.dynamic=!0,t.strValue=r,t}return n=n||pb(r,e),zb(n.duration,n.delay,n.easing)}(t.timings,e.errors);let r;e.currentAnimateTimings=n;let i=t.styles?t.styles:Zg({});if(5==i.type)r=this.visitKeyframes(i,e);else{let i=t.styles,s=!1;if(!i){s=!0;const t={};n.easing&&(t.easing=n.easing),i=Zg(t)}e.currentTime+=n.duration+n.delay;const o=this.visitStyle(i,e);o.isEmptyStep=s,r=o}return e.currentAnimateTimings=null,{type:4,timings:n,style:r,options:null}}visitStyle(t,e){const n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){const n=[];Array.isArray(t.styles)?t.styles.forEach(t=>{"string"==typeof t?"*"==t?n.push(t):e.errors.push(`The provided style string value ${t} is not allowed.`):n.push(t)}):n.push(t.styles);let r=!1,i=null;return n.forEach(t=>{if(Mb(t)){const e=t,n=e.easing;if(n&&(i=n,delete e.easing),!r)for(let t in e)if(e[t].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:n,easing:i,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){const n=e.currentAnimateTimings;let r=e.currentTime,i=e.currentTime;n&&i>0&&(i-=n.duration+n.delay),t.styles.forEach(t=>{"string"!=typeof t&&Object.keys(t).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void e.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const s=e.collectedStyles[e.currentQuerySelector],o=s[n];let a=!0;o&&(i!=r&&i>=o.startTime&&r<=o.endTime&&(e.errors.push(`The CSS property "${n}" that exists between the times of "${o.startTime}ms" and "${o.endTime}ms" is also being animated in a parallel animation between the times of "${i}ms" and "${r}ms"`),a=!1),i=o.startTime),a&&(s[n]={startTime:i,endTime:r}),e.options&&function(t,e,n){const r=e.params||{},i=Eb(t);i.length&&i.forEach(t=>{r.hasOwnProperty(t)||n.push(`Unable to resolve the local animation param ${t} in the given list of values`)})}(t[n],e.options,e.errors)})})}visitKeyframes(t,e){const n={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),n;let r=0;const i=[];let s=!1,o=!1,a=0;const u=t.steps.map(t=>{const n=this._makeStyleAst(t,e);let u=null!=n.offset?n.offset:function(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(t=>{if(Mb(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}});else if(Mb(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}return e}(n.styles),c=0;return null!=u&&(r++,c=n.offset=u),o=o||c<0||c>1,s=s||c<a,a=c,i.push(c),n});o&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),s&&e.errors.push("Please ensure that all keyframe offsets are in order");const c=t.steps.length;let l=0;r>0&&r<c?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==r&&(l=1/(c-1));const h=c-1,f=e.currentTime,d=e.currentAnimateTimings,p=d.duration;return u.forEach((t,r)=>{const s=l>0?r==h?1:l*r:i[r],o=s*p;e.currentTime=f+d.delay+o,d.duration=o,this._validateStyleAst(t,e),t.offset=s,n.styles.push(t)}),n}visitReference(t,e){return{type:8,animation:kb(this,_b(t.animation),e),options:jb(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:jb(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:jb(t.options)}}visitQuery(t,e){const n=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[i,s]=function(t){const e=!!t.split(/\s*,\s*/).find(t=>":self"==t);return e&&(t=t.replace(Pb,"")),[t=t.replace(/@\*/g,".ng-trigger").replace(/@\w+/g,t=>".ng-trigger-"+t.substr(1)).replace(/:animating/g,".ng-animating"),e]}(t.selector);e.currentQuerySelector=n.length?n+" "+i:i,Zv(e.collectedStyles,e.currentQuerySelector,{});const o=kb(this,_b(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:i,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:o,originalSelector:t.selector,options:jb(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const n="full"===t.timings?{duration:0,delay:0,easing:"full"}:pb(t.timings,e.errors,!0);return{type:12,animation:kb(this,_b(t.animation),e),timings:n,options:null}}}class Fb{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function Mb(t){return!Array.isArray(t)&&"object"==typeof t}function jb(t){var e;return t?(t=gb(t)).params&&(t.params=(e=t.params)?gb(e):null):t={},t}function zb(t,e,n){return{duration:t,delay:e,easing:n}}function Ub(t,e,n,r,i,s,o=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class Vb{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const qb=new RegExp(":enter","g"),Bb=new RegExp(":leave","g");function Hb(t,e,n,r,i,s={},o={},a,u,c=[]){return(new $b).buildKeyframes(t,e,n,r,i,s,o,a,u,c)}class $b{buildKeyframes(t,e,n,r,i,s,o,a,u,c=[]){u=u||new Vb;const l=new Kb(t,e,u,r,i,c,[]);l.options=a,l.currentTimeline.setStyles([s],null,l.errors,a),kb(this,n,l);const h=l.timelines.filter(t=>t.containsAnimation());if(h.length&&Object.keys(o).length){const t=h[h.length-1];t.allowOnlyTimelineStyles()||t.setStyles([o],null,l.errors,a)}return h.length?h.map(t=>t.buildKeyframes()):[Ub(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const n=e.subInstructions.consume(e.element);if(n){const r=e.createSubContext(t.options),i=e.currentTimeline.currentTime,s=this._visitSubInstructions(n,r,r.options);i!=s&&e.transformIntoNewTimeline(s)}e.previousNode=t}visitAnimateRef(t,e){const n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,n){let r=e.currentTimeline.currentTime;const i=null!=n.duration?fb(n.duration):null,s=null!=n.delay?fb(n.delay):null;return 0!==i&&t.forEach(t=>{const n=e.appendInstructionToTimeline(t,i,s);r=Math.max(r,n.duration+n.delay)}),r}visitReference(t,e){e.updateOptions(t.options,!0),kb(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const n=e.subContextCount;let r=e;const i=t.options;if(i&&(i.params||i.delay)&&(r=e.createSubContext(i),r.transformIntoNewTimeline(),null!=i.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=Gb);const t=fb(i.delay);r.delayNextStep(t)}t.steps.length&&(t.steps.forEach(t=>kb(this,t,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const n=[];let r=e.currentTimeline.currentTime;const i=t.options&&t.options.delay?fb(t.options.delay):0;t.steps.forEach(s=>{const o=e.createSubContext(t.options);i&&o.delayNextStep(i),kb(this,s,o),r=Math.max(r,o.currentTimeline.currentTime),n.push(o.currentTimeline)}),n.forEach(t=>e.currentTimeline.mergeTimelineCollectedStyles(t)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const n=t.strValue;return pb(e.params?Tb(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const n=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),r.snapshotCurrentStyles());const i=t.style;5==i.type?this.visitKeyframes(i,e):(e.incrementTime(n.duration),this.visitStyle(i,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const n=e.currentTimeline,r=e.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();const i=r&&r.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(i):n.setStyles(t.styles,i,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const n=e.currentAnimateTimings,r=e.currentTimeline.duration,i=n.duration,s=e.createSubContext().currentTimeline;s.easing=n.easing,t.styles.forEach(t=>{s.forwardTime((t.offset||0)*i),s.setStyles(t.styles,t.easing,e.errors,e.options),s.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(s),e.transformIntoNewTimeline(r+i),e.previousNode=t}visitQuery(t,e){const n=e.currentTimeline.currentTime,r=t.options||{},i=r.delay?fb(r.delay):0;i&&(6===e.previousNode.type||0==n&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=Gb);let s=n;const o=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=o.length;let a=null;o.forEach((n,r)=>{e.currentQueryIndex=r;const o=e.createSubContext(t.options,n);i&&o.delayNextStep(i),n===e.element&&(a=o.currentTimeline),kb(this,t.animation,o),o.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,o.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),a&&(e.currentTimeline.mergeTimelineCollectedStyles(a),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const n=e.parentContext,r=e.currentTimeline,i=t.timings,s=Math.abs(i.duration),o=s*(e.currentQueryTotal-1);let a=s*e.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":a=o-a;break;case"full":a=n.currentStaggerTime}const u=e.currentTimeline;a&&u.delayNextStep(a);const c=u.currentTime;kb(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=r.currentTime-c+(r.startTime-n.currentTimeline.startTime)}}const Gb={};class Kb{constructor(t,e,n,r,i,s,o,a){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=i,this.errors=s,this.timelines=o,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Gb,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new Qb(this._driver,e,0),o.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const n=t;let r=this.options;null!=n.duration&&(r.duration=fb(n.duration)),null!=n.delay&&(r.delay=fb(n.delay));const i=n.params;if(i){let t=r.params;t||(t=this.options.params={}),Object.keys(i).forEach(n=>{e&&t.hasOwnProperty(n)||(t[n]=Tb(i[n],t,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const n=t.params={};Object.keys(e).forEach(t=>{n[t]=e[t]})}}return t}createSubContext(t=null,e,n){const r=e||this.element,i=new Kb(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return i.previousNode=this.previousNode,i.currentAnimateTimings=this.currentAnimateTimings,i.options=this._copyOptions(),i.updateOptions(t),i.currentQueryIndex=this.currentQueryIndex,i.currentQueryTotal=this.currentQueryTotal,i.parentContext=this,this.subContextCount++,i}transformIntoNewTimeline(t){return this.previousNode=Gb,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){const r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},i=new Wb(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(i),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,r,i,s){let o=[];if(r&&o.push(this.element),t.length>0){t=(t=t.replace(qb,"."+this._enterClassName)).replace(Bb,"."+this._leaveClassName);let e=this._driver.query(this.element,t,1!=n);0!==n&&(e=n<0?e.slice(e.length+n,e.length):e.slice(0,n)),o.push(...e)}return i||0!=o.length||s.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),o}}class Qb{constructor(t,e,n,r){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new Qb(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||"*",this._currentKeyframe[t]="*"}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,r){e&&(this._previousKeyframe.easing=e);const i=r&&r.params||{},s=function(t,e){const n={};let r;return t.forEach(t=>{"*"===t?(r=r||Object.keys(e),r.forEach(t=>{n[t]="*"})):mb(t,!1,n)}),n}(t,this._globalTimelineStyles);Object.keys(s).forEach(t=>{const e=Tb(s[t],i,n);this._pendingStyles[t]=e,this._localTimelineStyles.hasOwnProperty(t)||(this._backFill[t]=this._globalTimelineStyles.hasOwnProperty(t)?this._globalTimelineStyles[t]:"*"),this._updateStyle(t,e)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(e=>{this._currentKeyframe[e]=t[e]}),Object.keys(this._localTimelineStyles).forEach(t=>{this._currentKeyframe.hasOwnProperty(t)||(this._currentKeyframe[t]=this._localTimelineStyles[t])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const n=this._styleSummary[e],r=t._styleSummary[e];(!n||r.time>n.time)&&this._updateStyle(e,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,n=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((i,s)=>{const o=mb(i,!0);Object.keys(o).forEach(n=>{const r=o[n];"!"==r?t.add(n):"*"==r&&e.add(n)}),n||(o.offset=s/this.duration),r.push(o)});const i=t.size?Cb(t.values()):[],s=e.size?Cb(e.values()):[];if(n){const t=r[0],e=gb(t);t.offset=0,e.offset=1,r=[t,e]}return Ub(this.element,r,i,s,this.duration,this.startTime,this.easing,!1)}}class Wb extends Qb{constructor(t,e,n,r,i,s,o=!1){super(t,e,s.delay),this.element=e,this.keyframes=n,this.preStyleProps=r,this.postStyleProps=i,this._stretchStartingKeyframe=o,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const i=[],s=n+e,o=e/s,a=mb(t[0],!1);a.offset=0,i.push(a);const u=mb(t[0],!1);u.offset=Yb(o),i.push(u);const c=t.length-1;for(let r=1;r<=c;r++){let o=mb(t[r],!1);o.offset=Yb((e+o.offset*n)/s),i.push(o)}n=s,e=0,r="",t=i}return Ub(this.element,t,this.preStyleProps,this.postStyleProps,n,e,r,!0)}}function Yb(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}class Xb{}class Jb extends Xb{normalizePropertyName(t,e){return xb(t)}normalizeStyleValue(t,e,n,r){let i="";const s=n.toString().trim();if(Zb[e]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{const e=n.match(/^[+-]?[\d\.]+([a-z]*)$/);e&&0==e[1].length&&r.push(`Please provide a CSS unit value for ${t}:${n}`)}return s+i}}const Zb=(()=>function(t){const e={};return t.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function tw(t,e,n,r,i,s,o,a,u,c,l,h,f){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:u,preStyleProps:c,postStyleProps:l,totalTime:h,errors:f}}const ew={};class nw{constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,r){return function(t,e,n,r,i){return t.some(t=>t(e,n,r,i))}(this.ast.matchers,t,e,n,r)}buildStyles(t,e,n){const r=this._stateStyles["*"],i=this._stateStyles[t],s=r?r.buildStyles(e,n):{};return i?i.buildStyles(e,n):s}build(t,e,n,r,i,s,o,a,u,c){const l=[],h=this.ast.options&&this.ast.options.params||ew,f=this.buildStyles(n,o&&o.params||ew,l),d=a&&a.params||ew,p=this.buildStyles(r,d,l),g=new Set,m=new Map,y=new Map,v="void"===r,b={params:Object.assign(Object.assign({},h),d)},w=c?[]:Hb(t,e,this.ast.animation,i,s,f,p,b,u,l);let _=0;if(w.forEach(t=>{_=Math.max(t.duration+t.delay,_)}),l.length)return tw(e,this._triggerName,n,r,v,f,p,[],[],m,y,_,l);w.forEach(t=>{const n=t.element,r=Zv(m,n,{});t.preStyleProps.forEach(t=>r[t]=!0);const i=Zv(y,n,{});t.postStyleProps.forEach(t=>i[t]=!0),n!==e&&g.add(n)});const S=Cb(g.values());return tw(e,this._triggerName,n,r,v,f,p,w,S,m,y,_)}}class rw{constructor(t,e){this.styles=t,this.defaultParams=e}buildStyles(t,e){const n={},r=gb(this.defaultParams);return Object.keys(t).forEach(e=>{const n=t[e];null!=n&&(r[e]=n)}),this.styles.styles.forEach(t=>{if("string"!=typeof t){const i=t;Object.keys(i).forEach(t=>{let s=i[t];s.length>1&&(s=Tb(s,r,e)),n[t]=s})}}),n}}class iw{constructor(t,e){this.name=t,this.ast=e,this.transitionFactories=[],this.states={},e.states.forEach(t=>{this.states[t.name]=new rw(t.style,t.options&&t.options.params||{})}),sw(this.states,"true","1"),sw(this.states,"false","0"),e.transitions.forEach(e=>{this.transitionFactories.push(new nw(t,e,this.states))}),this.fallbackTransition=new nw(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(t,e)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,r){return this.transitionFactories.find(i=>i.match(t,e,n,r))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}}function sw(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}const ow=new Vb;class aw{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(t,e){const n=[],r=Rb(this._driver,e,n);if(n.length)throw new Error("Unable to build the animation due to the following errors: "+n.join("\n"));this._animations[t]=r}_buildPlayer(t,e,n){const r=t.element,i=Wv(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(r,i,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){const r=[],i=this._animations[t];let s;const o=new Map;if(i?(s=Hb(this._driver,e,i,"ng-enter","ng-leave",{},{},n,ow,r),s.forEach(t=>{const e=Zv(o,t.element,{});t.postStyleProps.forEach(t=>e[t]=null)})):(r.push("The requested animation doesn't exist or has already been destroyed"),s=[]),r.length)throw new Error("Unable to create the animation due to the following errors: "+r.join("\n"));o.forEach((t,e)=>{Object.keys(t).forEach(n=>{t[n]=this._driver.computeStyle(e,n,"*")})});const a=Qv(s.map(t=>{const e=o.get(t.element);return this._buildPlayer(t,{},e)}));return this._playersById[t]=a,a.onDestroy(()=>this.destroy(t)),this.players.push(a),a}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error("Unable to find the timeline player referenced by "+t);return e}listen(t,e,n,r){const i=Jv(e,"","","");return Yv(this._getPlayer(t),n,i,r),()=>{}}command(t,e,n,r){if("register"==n)return void this.register(t,r[0]);if("create"==n)return void this.create(t,e,r[0]||{});const i=this._getPlayer(t);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const uw=[],cw={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},lw={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0};class hw{constructor(t,e=""){this.namespaceId=e;const n=t&&t.hasOwnProperty("value");if(this.value=null!=(r=n?t.value:t)?r:null,n){const e=gb(t);delete e.value,this.options=e}else this.options={};var r;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const t=this.options.params;Object.keys(e).forEach(n=>{null==t[n]&&(t[n]=e[n])})}}}const fw=new hw("void");class dw{constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,ww(e,this._hostClassName)}listen(t,e,n,r){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${e}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if("start"!=(i=n)&&"done"!=i)throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${e}" is not supported!`);var i;const s=Zv(this._elementListeners,t,[]),o={name:e,phase:n,callback:r};s.push(o);const a=Zv(this._engine.statesByElement,t,{});return a.hasOwnProperty(e)||(ww(t,"ng-trigger"),ww(t,"ng-trigger-"+e),a[e]=fw),()=>{this._engine.afterFlush(()=>{const t=s.indexOf(o);t>=0&&s.splice(t,1),this._triggers[e]||delete a[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,n,r=!0){const i=this._getTrigger(e),s=new gw(this.id,e,t);let o=this._engine.statesByElement.get(t);o||(ww(t,"ng-trigger"),ww(t,"ng-trigger-"+e),this._engine.statesByElement.set(t,o={}));let a=o[e];const u=new hw(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&a&&u.absorbOptions(a.options),o[e]=u,a||(a=fw),"void"!==u.value&&a.value===u.value){if(!function(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){const r=n[i];if(!e.hasOwnProperty(r)||t[r]!==e[r])return!1}return!0}(a.params,u.params)){const e=[],n=i.matchStyles(a.value,a.params,e),r=i.matchStyles(u.value,u.params,e);e.length?this._engine.reportError(e):this._engine.afterFlush(()=>{wb(t,n),bb(t,r)})}return}const c=Zv(this._engine.playersByElement,t,[]);c.forEach(t=>{t.namespaceId==this.id&&t.triggerName==e&&t.queued&&t.destroy()});let l=i.matchTransition(a.value,u.value,t,u.params),h=!1;if(!l){if(!r)return;l=i.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:l,fromState:a,toState:u,player:s,isFallbackTransition:h}),h||(ww(t,"ng-animate-queued"),s.onStart(()=>{_w(t,"ng-animate-queued")})),s.onDone(()=>{let e=this.players.indexOf(s);e>=0&&this.players.splice(e,1);const n=this._engine.playersByElement.get(t);if(n){let t=n.indexOf(s);t>=0&&n.splice(t,1)}}),this.players.push(s),c.push(s),s}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,n)=>{delete e[t]}),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(e=>e.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(t=>t.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const n=this._engine.driver.query(t,".ng-trigger",!0);n.forEach(t=>{if(t.__ng_removed)return;const n=this._engine.fetchNamespacesByElement(t);n.size?n.forEach(n=>n.triggerLeaveAnimation(t,e,!1,!0)):this.clearElementCache(t)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(t=>this.clearElementCache(t)))}triggerLeaveAnimation(t,e,n,r){const i=this._engine.statesByElement.get(t);if(i){const s=[];if(Object.keys(i).forEach(e=>{if(this._triggers[e]){const n=this.trigger(t,e,"void",r);n&&s.push(n)}}),s.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&Qv(s).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t);if(e){const n=new Set;e.forEach(e=>{const r=e.name;if(n.has(r))return;n.add(r);const i=this._triggers[r].fallbackTransition,s=this._engine.statesByElement.get(t)[r]||fw,o=new hw("void"),a=new gw(this.id,r,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:r,transition:i,fromState:s,toState:o,player:a,isFallbackTransition:!0})})}}removeNode(t,e){const n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(n.totalAnimations){const e=n.players.length?n.playersByQueriedElement.get(t):[];if(e&&e.length)r=!0;else{let e=t;for(;e=e.parentNode;)if(n.statesByElement.get(e)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)n.markElementAsRemoved(this.id,t,!1,e);else{const r=t.__ng_removed;r&&r!==cw||(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}}insertNode(t,e){ww(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(n=>{const r=n.player;if(r.destroyed)return;const i=n.element,s=this._elementListeners.get(i);s&&s.forEach(e=>{if(e.name==n.triggerName){const r=Jv(i,n.triggerName,n.fromState.value,n.toState.value);r._data=t,Yv(n.player,e.phase,r,e.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(n)}),this._queue=[],e.sort((t,e)=>{const n=t.transition.ast.depCount,r=e.transition.ast.depCount;return 0==n||0==r?n-r:this._engine.driver.containsElement(t.element,e.element)?1:-1})}destroy(t){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(e=>e.element===t)||e,e}}class pw{constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(t,e)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(e=>{e.queued&&t.push(e)})}),t}createNamespace(t,e){const n=new dw(t,e,this);return e.parentNode?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){const n=this._namespaceList.length-1;if(n>=0){let r=!1;for(let i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,e)){this._namespaceList.splice(i+1,0,t),r=!0;break}r||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let r=this._namespaceLookup[t];r&&r.register(e,n)&&this.totalAnimations++}destroy(t,e){if(!t)return;const n=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[t];const e=this._namespaceList.indexOf(n);e>=0&&this._namespaceList.splice(e,1)}),this.afterFlushAnimationsDone(()=>n.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,n=this.statesByElement.get(t);if(n){const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=n[t[r]].namespaceId;if(i){const t=this._fetchNamespace(i);t&&e.add(t)}}}return e}trigger(t,e,n,r){if(mw(e)){const i=this._fetchNamespace(t);if(i)return i.trigger(e,n,r),!0}return!1}insertNode(t,e,n,r){if(!mw(e))return;const i=e.__ng_removed;if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;const t=this.collectedLeaveElements.indexOf(e);t>=0&&this.collectedLeaveElements.splice(t,1)}if(t){const r=this._fetchNamespace(t);r&&r.insertNode(e,n)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),ww(t,"ng-animate-disabled")):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),_w(t,"ng-animate-disabled"))}removeNode(t,e,n,r){if(mw(e)){const i=t?this._fetchNamespace(t):null;if(i?i.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),n){const n=this.namespacesByHostElement.get(e);n&&n.id!==t&&n.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,n,r){this.collectedLeaveElements.push(e),e.__ng_removed={namespaceId:t,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}}listen(t,e,n,r,i){return mw(e)?this._fetchNamespace(t).listen(e,n,r,i):()=>{}}_buildInstruction(t,e,n,r,i){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,r,t.fromState.options,t.toState.options,e,i)}destroyInnerAnimations(t){let e=this.driver.query(t,".ng-trigger",!0);e.forEach(t=>this.destroyActiveAnimationsForElement(t)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,".ng-animating",!0),e.forEach(t=>this.finishActiveQueriedAnimationOnElement(t)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(t=>t.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Qv(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t.__ng_removed;if(e&&e.setForRemoval){if(t.__ng_removed=cw,e.namespaceId){this.destroyInnerAnimations(t);const n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,".ng-animate-disabled")&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(t=>{this.markElementAsDisabled(t,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,e)=>this._balanceNamespaceList(t,e)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)ww(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{e=this._flushAnimations(n,t)}finally{for(let t=0;t<n.length;t++)n[t]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){const t=this._whenQuietFns;this._whenQuietFns=[],e.length?Qv(e).onDone(()=>{t.forEach(t=>t())}):t.forEach(t=>t())}}reportError(t){throw new Error("Unable to process animations due to the following failed trigger transitions\n "+t.join("\n"))}_flushAnimations(t,e){const n=new Vb,r=[],i=new Map,s=[],o=new Map,a=new Map,u=new Map,c=new Set;this.disabledNodes.forEach(t=>{c.add(t);const e=this.driver.query(t,".ng-animate-queued",!0);for(let n=0;n<e.length;n++)c.add(e[n])});const l=this.bodyNode,h=Array.from(this.statesByElement.keys()),f=bw(h,this.collectedEnterElements),d=new Map;let p=0;f.forEach((t,e)=>{const n="ng-enter"+p++;d.set(e,n),t.forEach(t=>ww(t,n))});const g=[],m=new Set,y=new Set;for(let O=0;O<this.collectedLeaveElements.length;O++){const t=this.collectedLeaveElements[O],e=t.__ng_removed;e&&e.setForRemoval&&(g.push(t),m.add(t),e.hasAnimation?this.driver.query(t,".ng-star-inserted",!0).forEach(t=>m.add(t)):y.add(t))}const v=new Map,b=bw(h,Array.from(m));b.forEach((t,e)=>{const n="ng-leave"+p++;v.set(e,n),t.forEach(t=>ww(t,n))}),t.push(()=>{f.forEach((t,e)=>{const n=d.get(e);t.forEach(t=>_w(t,n))}),b.forEach((t,e)=>{const n=v.get(e);t.forEach(t=>_w(t,n))}),g.forEach(t=>{this.processLeaveNode(t)})});const w=[],_=[];for(let O=this._namespaceList.length-1;O>=0;O--)this._namespaceList[O].drainQueuedTransitions(e).forEach(t=>{const e=t.player,i=t.element;if(w.push(e),this.collectedEnterElements.length){const t=i.__ng_removed;if(t&&t.setForMove)return void e.destroy()}const c=!l||!this.driver.containsElement(l,i),h=v.get(i),f=d.get(i),p=this._buildInstruction(t,n,f,h,c);if(p.errors&&p.errors.length)_.push(p);else{if(c)return e.onStart(()=>wb(i,p.fromStyles)),e.onDestroy(()=>bb(i,p.toStyles)),void r.push(e);if(t.isFallbackTransition)return e.onStart(()=>wb(i,p.fromStyles)),e.onDestroy(()=>bb(i,p.toStyles)),void r.push(e);p.timelines.forEach(t=>t.stretchStartingKeyframe=!0),n.append(i,p.timelines),s.push({instruction:p,player:e,element:i}),p.queriedElements.forEach(t=>Zv(o,t,[]).push(e)),p.preStyleProps.forEach((t,e)=>{const n=Object.keys(t);if(n.length){let t=a.get(e);t||a.set(e,t=new Set),n.forEach(e=>t.add(e))}}),p.postStyleProps.forEach((t,e)=>{const n=Object.keys(t);let r=u.get(e);r||u.set(e,r=new Set),n.forEach(t=>r.add(t))})}});if(_.length){const t=[];_.forEach(e=>{t.push(`@${e.triggerName} has failed due to:\n`),e.errors.forEach(e=>t.push(`- ${e}\n`))}),w.forEach(t=>t.destroy()),this.reportError(t)}const S=new Map,E=new Map;s.forEach(t=>{const e=t.element;n.has(e)&&(E.set(e,e),this._beforeAnimationBuild(t.player.namespaceId,t.instruction,S))}),r.forEach(t=>{const e=t.element;this._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach(t=>{Zv(S,e,[]).push(t),t.destroy()})});const T=g.filter(t=>Ew(t,a,u)),C=new Map;vw(C,this.driver,y,u,"*").forEach(t=>{Ew(t,a,u)&&T.push(t)});const I=new Map;f.forEach((t,e)=>{vw(I,this.driver,new Set(t),a,"!")}),T.forEach(t=>{const e=C.get(t),n=I.get(t);C.set(t,Object.assign(Object.assign({},e),n))});const x=[],k=[],A={};s.forEach(t=>{const{element:e,player:s,instruction:o}=t;if(n.has(e)){if(c.has(e))return s.onDestroy(()=>bb(e,o.toStyles)),s.disabled=!0,s.overrideTotalTime(o.totalTime),void r.push(s);let t=A;if(E.size>1){let n=e;const r=[];for(;n=n.parentNode;){const e=E.get(n);if(e){t=e;break}r.push(n)}r.forEach(e=>E.set(e,t))}const n=this._buildAnimation(s.namespaceId,o,S,i,I,C);if(s.setRealPlayer(n),t===A)x.push(s);else{const e=this.playersByElement.get(t);e&&e.length&&(s.parentPlayer=Qv(e)),r.push(s)}}else wb(e,o.fromStyles),s.onDestroy(()=>bb(e,o.toStyles)),k.push(s),c.has(e)&&r.push(s)}),k.forEach(t=>{const e=i.get(t.element);if(e&&e.length){const n=Qv(e);t.setRealPlayer(n)}}),r.forEach(t=>{t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()});for(let O=0;O<g.length;O++){const t=g[O],e=t.__ng_removed;if(_w(t,"ng-leave"),e&&e.hasAnimation)continue;let n=[];if(o.size){let e=o.get(t);e&&e.length&&n.push(...e);let r=this.driver.query(t,".ng-animating",!0);for(let t=0;t<r.length;t++){let e=o.get(r[t]);e&&e.length&&n.push(...e)}}const r=n.filter(t=>!t.destroyed);r.length?Sw(this,t,r):this.processLeaveNode(t)}return g.length=0,x.forEach(t=>{this.players.push(t),t.onDone(()=>{t.destroy();const e=this.players.indexOf(t);this.players.splice(e,1)}),t.play()}),x}elementContainsData(t,e){let n=!1;const r=e.__ng_removed;return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,r,i){let s=[];if(e){const e=this.playersByQueriedElement.get(t);e&&(s=e)}else{const e=this.playersByElement.get(t);if(e){const t=!i||"void"==i;e.forEach(e=>{e.queued||(t||e.triggerName==r)&&s.push(e)})}}return(n||r)&&(s=s.filter(t=>!(n&&n!=t.namespaceId||r&&r!=t.triggerName))),s}_beforeAnimationBuild(t,e,n){const r=e.element,i=e.isRemovalTransition?void 0:t,s=e.isRemovalTransition?void 0:e.triggerName;for(const o of e.timelines){const t=o.element,a=t!==r,u=Zv(n,t,[]);this._getPreviousPlayers(t,a,i,s,e.toState).forEach(t=>{const e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),u.push(t)})}wb(r,e.fromStyles)}_buildAnimation(t,e,n,r,i,s){const o=e.triggerName,a=e.element,u=[],c=new Set,l=new Set,h=e.timelines.map(e=>{const h=e.element;c.add(h);const f=h.__ng_removed;if(f&&f.removedBeforeQueried)return new rm(e.duration,e.delay);const d=h!==a,p=function(t){const e=[];return function t(e,n){for(let r=0;r<e.length;r++){const i=e[r];i instanceof im?t(i.players,n):n.push(i)}}(t,e),e}((n.get(h)||uw).map(t=>t.getRealPlayer())).filter(t=>!!t.element&&t.element===h),g=i.get(h),m=s.get(h),y=Wv(0,this._normalizer,0,e.keyframes,g,m),v=this._buildPlayer(e,y,p);if(e.subTimeline&&r&&l.add(h),d){const e=new gw(t,o,h);e.setRealPlayer(v),u.push(e)}return v});u.forEach(t=>{Zv(this.playersByQueriedElement,t.element,[]).push(t),t.onDone(()=>function(t,e,n){let r;if(t instanceof Map){if(r=t.get(e),r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&t.delete(e)}}else if(r=t[e],r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&delete t[e]}return r}(this.playersByQueriedElement,t.element,t))}),c.forEach(t=>ww(t,"ng-animating"));const f=Qv(h);return f.onDestroy(()=>{c.forEach(t=>_w(t,"ng-animating")),bb(a,e.toStyles)}),l.forEach(t=>{Zv(r,t,[]).push(f)}),f}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new rm(t.duration,t.delay)}}class gw{constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n,this._player=new rm,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(n=>Yv(t,e,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Zv(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function mw(t){return t&&1===t.nodeType}function yw(t,e){const n=t.style.display;return t.style.display=null!=e?e:"none",n}function vw(t,e,n,r,i){const s=[];n.forEach(t=>s.push(yw(t)));const o=[];r.forEach((n,r)=>{const s={};n.forEach(t=>{const n=s[t]=e.computeStyle(r,t,i);n&&0!=n.length||(r.__ng_removed=lw,o.push(r))}),t.set(r,s)});let a=0;return n.forEach(t=>yw(t,s[a++])),o}function bw(t,e){const n=new Map;if(t.forEach(t=>n.set(t,[])),0==e.length)return n;const r=new Set(e),i=new Map;return e.forEach(t=>{const e=function t(e){if(!e)return 1;let s=i.get(e);if(s)return s;const o=e.parentNode;return s=n.has(o)?o:r.has(o)?1:t(o),i.set(e,s),s}(t);1!==e&&n.get(e).push(t)}),n}function ww(t,e){if(t.classList)t.classList.add(e);else{let n=t.$$classes;n||(n=t.$$classes={}),n[e]=!0}}function _w(t,e){if(t.classList)t.classList.remove(e);else{let n=t.$$classes;n&&delete n[e]}}function Sw(t,e,n){Qv(n).onDone(()=>t.processLeaveNode(e))}function Ew(t,e,n){const r=n.get(t);if(!r)return!1;let i=e.get(t);return i?r.forEach(t=>i.add(t)):e.set(t,r),n.delete(t),!0}class Tw{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._triggerCache={},this.onRemovalComplete=(t,e)=>{},this._transitionEngine=new pw(t,e,n),this._timelineEngine=new aw(t,e,n),this._transitionEngine.onRemovalComplete=(t,e)=>this.onRemovalComplete(t,e)}registerTrigger(t,e,n,r,i){const s=t+"-"+r;let o=this._triggerCache[s];if(!o){const t=[],e=Rb(this._driver,i,t);if(t.length)throw new Error(`The animation trigger "${r}" has failed to build due to the following errors:\n - ${t.join("\n - ")}`);o=function(t,e){return new iw(t,e)}(r,e),this._triggerCache[s]=o}this._transitionEngine.registerTrigger(e,r,o)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,r){this._transitionEngine.insertNode(t,e,n,r)}onRemove(t,e,n,r){this._transitionEngine.removeNode(t,e,r||!1,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,r){if("@"==n.charAt(0)){const[t,i]=tb(n);this._timelineEngine.command(t,e,i,r)}else this._transitionEngine.trigger(t,e,n,r)}listen(t,e,n,r,i){if("@"==n.charAt(0)){const[t,r]=tb(n);return this._timelineEngine.listen(t,e,r,i)}return this._transitionEngine.listen(t,e,n,r,i)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let Cw=(()=>{class t extends Wg{constructor(t,e){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(e.body,{id:"0",encapsulation:ae.None,styles:[],data:{animation:[]}})}build(t){const e=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(t)?Jg(t):t;return kw(this._renderer,null,e,"register",[n]),new Iw(e,this._renderer)}}return t.\u0275fac=function(e){return new(e||t)(Kt(xa),Kt(Lc))},t.\u0275prov=lt({token:t,factory:t.\u0275fac}),t})();class Iw extends class{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new xw(this._id,t,e||{},this._renderer)}}class xw{constructor(t,e,n,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return kw(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset")}setPosition(t){this._command("setPosition",t)}getPosition(){return 0}}function kw(t,e,n,r,i){return t.setProperty(e,`@@${n}:${r}`,i)}let Aw=(()=>{class t{constructor(t,e,n){this.delegate=t,this.engine=e,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),e.onRemovalComplete=(t,e)=>{e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}createRenderer(t,e){const n=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){let t=this._rendererCache.get(n);return t||(t=new Ow("",n,this.engine),this._rendererCache.set(n,t)),t}const r=e.id,i=e.id+"-"+this._currentId;this._currentId++,this.engine.register(i,t);const s=e=>{Array.isArray(e)?e.forEach(s):this.engine.registerTrigger(r,i,t,e.name,e)};return e.data.animation.forEach(s),new Nw(this,i,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,n){t>=0&&t<this._microtaskId?this._zone.run(()=>e(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(t=>{const[e,n]=t;e(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([e,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return t.\u0275fac=function(e){return new(e||t)(Kt(xa),Kt(Tw),Kt(nc))},t.\u0275prov=lt({token:t,factory:t.\u0275fac}),t})();class Ow{constructor(t,e,n){this.namespaceId=t,this.delegate=e,this.engine=n,this.destroyNode=this.delegate.destroyNode?t=>e.destroyNode(t):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,!0)}removeChild(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,r){this.delegate.setAttribute(t,e,n,r)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,r){this.delegate.setStyle(t,e,n,r)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){"@"==e.charAt(0)&&"@.disabled"==e?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.delegate.listen(t,e,n)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class Nw extends Ow{constructor(t,e,n,r){super(e,n,r),this.factory=t,this.namespaceId=e}setProperty(t,e,n){"@"==e.charAt(0)?"."==e.charAt(1)&&"@.disabled"==e?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n){if("@"==e.charAt(0)){const r=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t);let i=e.substr(1),s="";return"@"!=i.charAt(0)&&([i,s]=function(t){const e=t.indexOf(".");return[t.substring(0,e),t.substr(e+1)]}(i)),this.engine.listen(this.namespaceId,r,i,s,t=>{this.factory.scheduleListenerCallback(t._data||-1,n,t)})}return this.delegate.listen(t,e,n)}}let Dw=(()=>{class t extends Tw{constructor(t,e,n){super(t.body,e,n)}}return t.\u0275fac=function(e){return new(e||t)(Kt(Lc),Kt(hb),Kt(Xb))},t.\u0275prov=lt({token:t,factory:t.\u0275fac}),t})();const Pw=[{provide:hb,useClass:lb},{provide:new Mt("AnimationModuleType"),useValue:"NoopAnimations"},{provide:Wg,useClass:Cw},{provide:Xb,useFactory:function(){return new Jb}},{provide:Tw,useClass:Dw},{provide:xa,useFactory:function(t,e,n){return new Aw(t,e,n)},deps:[Dl,Tw,nc]}];let Rw=(()=>{class t{}return t.\u0275mod=ge({type:t}),t.\u0275inj=ht({factory:function(e){return new(e||t)},providers:Pw,imports:[Gl]}),t})();const Lw=new Mt("nz-i18n");var Fw={locale:"en",Pagination:{items_per_page:"/ page",jump_to:"Go to",jump_to_confirm:"confirm",page:"",prev_page:"Previous Page",next_page:"Next Page",prev_5:"Previous 5 Pages",next_5:"Next 5 Pages",prev_3:"Previous 3 Pages",next_3:"Next 3 Pages"},DatePicker:{lang:{placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"],locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"Ok",clear:"Clear",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",yearFormat:"YYYY",dateFormat:"M/D/YYYY",dayFormat:"D",dateTimeFormat:"M/D/YYYY HH:mm:ss",monthBeforeYear:!0,previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"},timePickerLocale:{placeholder:"Select time",rangePlaceholder:["Start time","End time"]}},TimePicker:{placeholder:"Select time",rangePlaceholder:["Start time","End time"]},Calendar:{lang:{placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"],locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"Ok",clear:"Clear",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",yearFormat:"YYYY",dateFormat:"M/D/YYYY",dayFormat:"D",dateTimeFormat:"M/D/YYYY HH:mm:ss",monthBeforeYear:!0,previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"},timePickerLocale:{placeholder:"Select time",rangePlaceholder:["Start time","End time"]}},global:{placeholder:"Please select"},Table:{filterTitle:"Filter menu",filterConfirm:"OK",filterReset:"Reset",selectAll:"Select current page",selectInvert:"Invert current page",selectionAll:"Select all data",sortTitle:"Sort",expand:"Expand row",collapse:"Collapse row",triggerDesc:"Click sort by descend",triggerAsc:"Click sort by ascend",cancelSort:"Click to cancel sort"},Modal:{okText:"OK",cancelText:"Cancel",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:"Cancel"},Transfer:{titles:["",""],searchPlaceholder:"Search here",itemUnit:"item",itemsUnit:"items"},Upload:{uploading:"Uploading...",removeFile:"Remove file",uploadError:"Upload error",previewFile:"Preview file",downloadFile:"Download file"},Empty:{description:"No Data"},Icon:{icon:"icon"},Text:{edit:"Edit",copy:"Copy",copied:"Copied",expand:"Expand"},PageHeader:{back:"Back"},Form:{defaultValidateMessages:{default:"Field validation error ${label}",required:"Please enter ${label}",enum:"${label} must be one of [${enum}]",whitespace:"${label} cannot be a blank character",date:{format:"${label} date format is invalid",parse:"${label} cannot be converted to a date",invalid:"${label} is an invalid date"},types:{string:"${label} is not a valid ${type}",method:"${label} is not a valid ${type}",array:"${label} is not a valid ${type}",object:"${label} is not a valid ${type}",number:"${label} is not a valid ${type}",date:"${label} is not a valid ${type}",boolean:"${label} is not a valid ${type}",integer:"${label} is not a valid ${type}",float:"${label} is not a valid ${type}",regexp:"${label} is not a valid ${type}",email:"${label} is not a valid ${type}",url:"${label} is not a valid ${type}",hex:"${label} is not a valid ${type}"},string:{len:"${label} must be ${len} characters",min:"${label} at least ${min} characters",max:"${label} up to ${max} characters",range:"${label} must be between ${min}-${max} characters"},number:{len:"${label} must be equal to ${len}",min:"${label} minimum value is ${min}",max:"${label} maximum value is ${max}",range:"${label} must be between ${min}-${max}"},array:{len:"Must be ${len} ${label}",min:"At least ${min} ${label}",max:"At most ${max} ${label}",range:"The amount of ${label} must be between ${min}-${max}"},pattern:{mismatch:"${label} does not match the pattern ${pattern}"}}}};let Mw=(()=>{class t{}return t.\u0275mod=ge({type:t}),t.\u0275inj=ht({factory:function(e){return new(e||t)},imports:[[km]]}),t})(),jw=(()=>{class t{}return t.\u0275mod=ge({type:t}),t.\u0275inj=ht({factory:function(e){return new(e||t)},imports:[[km]]}),t})(),zw=(()=>{class t{}return t.\u0275mod=ge({type:t}),t.\u0275inj=ht({factory:function(e){return new(e||t)},imports:[[fl,jw,Ey,Mw],Mw,jw]}),t})(),Uw=(()=>{class t{constructor(){this._accessors=[]}add(t,e){this._accessors.push([t,e])}remove(t){for(let e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}select(t){this._accessors.forEach(e=>{this._isSameGroup(e,t)&&e[1]!==t&&e[1].fireUncheck(t.value)})}_isSameGroup(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=lt({token:t,factory:t.\u0275fac}),t})(),Vw=(()=>{class t{}return t.\u0275mod=ge({type:t}),t.\u0275inj=ht({factory:function(e){return new(e||t)}}),t})(),qw=(()=>{class t{}return t.\u0275mod=ge({type:t}),t.\u0275inj=ht({factory:function(e){return new(e||t)},providers:[Uw],imports:[Vw]}),t})(),Bw=(()=>{class t{}return t.\u0275mod=ge({type:t}),t.\u0275inj=ht({factory:function(e){return new(e||t)},imports:[[fl,qw,Ey]]}),t})(),Hw=(()=>{class t{}return t.\u0275mod=ge({type:t}),t.\u0275inj=ht({factory:function(e){return new(e||t)},imports:[[zw,Dy,Bw,Ov,iv],zw,Dy,Bw,Ov,iv]}),t})(),$w=(()=>{class t{constructor(t,e,r,i){const s=new vg(i),o=bg(s),a=nh(void 0).pipe(oh(s.outsideAngular),Jh(()=>i.runOutsideAngular(()=>n.e(5).then(n.bind(null,"6nsN")))),M(()=>Tg(t,i,e)),M(t=>i.runOutsideAngular(()=>t.auth())),function(t,e,n){let r;return r=t&&"object"==typeof t?t:{bufferSize:t,windowTime:void 0,refCount:!1,scheduler:void 0},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:n,scheduler:r}){let i,s,o=0,a=!1,u=!1;return function(c){o++,i&&!a||(a=!1,i=new lh(t,e,r),s=c.subscribe({next(t){i.next(t)},error(t){a=!0,i.error(t)},complete(){u=!0,s=void 0,i.complete()}}));const l=i.subscribe(this);this.add(()=>{o--,l.unsubscribe(),s&&!u&&n&&0===o&&(s.unsubscribe(),s=void 0,i=void 0)})}}(r))}({bufferSize:1,refCount:!1}));return pl(r)?this.authState=this.user=this.idToken=this.idTokenResult=nh(null):(a.pipe(Wh()).subscribe(),this.authState=a.pipe(Jh(t=>t.getRedirectResult().then(()=>t,()=>t)),Jh(t=>i.runOutsideAngular(()=>new w(t.onAuthStateChanged.bind(t)))),o),this.user=a.pipe(Jh(t=>t.getRedirectResult().then(()=>t,()=>t)),Jh(t=>i.runOutsideAngular(()=>new w(t.onIdTokenChanged.bind(t)))),o),this.idToken=this.user.pipe(Jh(t=>t?V(t.getIdToken()):nh(null))),this.idTokenResult=this.user.pipe(Jh(t=>t?V(t.getIdTokenResult()):nh(null)))),((t,e,n)=>new Proxy(t,{get:(r,i)=>n.runOutsideAngular(()=>{if(t[i])return t[i];if(wg.includes(i))return()=>{};const r=e.toPromise().then(t=>{const e=t&&t[i];return"function"==typeof e?e.bind(t):e&&e.then?e.then(t=>n.run(()=>t)):n.run(()=>e)});return new Proxy(()=>{},{get:(t,e)=>r[e],apply:(t,e,n)=>r.then(t=>t&&t(...n))})})}))(this,a,i)}}return t.\u0275fac=function(e){return new(e||t)(Kt(_g),Kt(Sg,8),Kt(Uu),Kt(nc))},t.\u0275prov=lt({factory:function(){return new t(Kt(_g),Kt(Sg,8),Kt(Uu),Kt(nc))},token:t,providedIn:"any"}),t})(),Gw=(()=>{class t{}return t.\u0275mod=ge({type:t}),t.\u0275inj=ht({factory:function(e){return new(e||t)},providers:[$w]}),t})(),Kw=(()=>{class t{}return t.\u0275mod=ge({type:t,bootstrap:[Hv]}),t.\u0275inj=ht({factory:function(e){return new(e||t)},providers:[{provide:Lw,useValue:Fw},qg],imports:[[Gl,Uv,wh.forRoot(),Gv,ay,Rw,Hw,Ig.initializeApp(Dc),Vg,Gw]]}),t})();(function(){if(gr)throw new Error("Cannot enable prod mode after platform setup.");pr=!1})(),Hl().bootstrapModule(Kw).catch(t=>console.error(t))},zn8P:function(t,e){function n(t){return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}))}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"}},[[0,0]]]);